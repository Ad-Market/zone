{"version":3,"sources":["../node_modules/chart.js/dist/chart.esm.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_baseAssignValue.js","../node_modules/lodash/identity.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_assignMergeValue.js","../node_modules/lodash/_defineProperty.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_getPrototype.js","../node_modules/lodash/_safeGet.js","../node_modules/lodash/_copyObject.js","../node_modules/lodash/_assignValue.js","../node_modules/lodash/keysIn.js","../node_modules/lodash/_createAssigner.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/_castPath.js","../../src/utils/propValidator.ts","../../src/utils/constant.ts","../../src/utils/collapseToast.ts","../../src/utils/cssTransition.tsx","../../src/core/eventManager.ts","../../src/hooks/useKeeper.ts","../../src/hooks/toastContainerReducer.ts","../../src/hooks/useToastContainer.ts","../../src/hooks/useToast.ts","../../src/components/CloseButton.tsx","../../src/components/ProgressBar.tsx","../../src/components/Toast.tsx","../../src/components/Transitions.tsx","../../src/components/ToastContainer.tsx","../../src/core/toast.tsx","../node_modules/lodash/merge.js","../node_modules/lodash/_baseMerge.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_baseMergeDeep.js","../node_modules/lodash/_cloneBuffer.js","../node_modules/lodash/_cloneTypedArray.js","../node_modules/lodash/_cloneArrayBuffer.js","../node_modules/lodash/_copyArray.js","../node_modules/lodash/_initCloneObject.js","../node_modules/lodash/_baseCreate.js","../node_modules/lodash/isArrayLikeObject.js","../node_modules/lodash/isPlainObject.js","../node_modules/lodash/toPlainObject.js","../node_modules/lodash/_baseKeysIn.js","../node_modules/lodash/_nativeKeysIn.js","../node_modules/lodash/_baseRest.js","../node_modules/lodash/_overRest.js","../node_modules/lodash/_apply.js","../node_modules/lodash/_setToString.js","../node_modules/lodash/_baseSetToString.js","../node_modules/lodash/constant.js","../node_modules/lodash/_shortOut.js","../node_modules/lodash/_isIterateeCall.js","../node_modules/lodash/assign.js","../node_modules/lodash/find.js","../node_modules/lodash/_createFind.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/get.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/memoize.js","../node_modules/lodash/toString.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/property.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/findIndex.js","../node_modules/lodash/_baseFindIndex.js","../node_modules/lodash/toInteger.js","../node_modules/lodash/toFinite.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/_baseTrim.js","../node_modules/lodash/_trimmedEndIndex.js","../node_modules/hammerjs/hammer.js","../node_modules/chartjs-adapter-moment/dist/chartjs-adapter-moment.esm.js","../node_modules/react-lottie/dist/index.js","../node_modules/babel-runtime/helpers/extends.js","../node_modules/babel-runtime/core-js/object/assign.js","../node_modules/core-js/library/fn/object/assign.js","../node_modules/core-js/library/modules/es6.object.assign.js","../node_modules/core-js/library/modules/_object-assign.js","../node_modules/lottie-web/build/player/lottie.js","../node_modules/chartjs-plugin-zoom/dist/chartjs-plugin-zoom.esm.js","../node_modules/chart.js/auto/auto.esm.js","../../src/chart.tsx","../../src/index.tsx","../../src/utils/helpers.tsx","../../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../../src/utils/config.ts","../../src/utils/lang/index.ts","../../src/utils/lang/en.ts","../../src/service/get-current-state.ts","../../src/service/yield.ts","../../src/components/Bank/index.tsx","../../src/components/Button/index.tsx","../../src/components/Input/index.tsx","../../src/components/Icons/index.tsx","../../src/components/Modal/index.tsx","../../src/components/ModalDeposit/index.tsx","../../src/service/deposit.ts","../../src/service/withdraw.ts","../../src/components/ModalWithdraw/index.tsx","../../src/components/TokenAssets/index.tsx","../../src/components/WarningDialog/index.tsx","../../src/components/Wallet/index.tsx","../../src/service/harvest.ts","../../src/components/FundMap/index.tsx","../../src/components/Loading/index.tsx","../../src/component.tsx","../node_modules/chart.js/dist/chunks/helpers.segment.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/eq.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/_toKey.js"],"names":["Animator","this","_request","_charts","Map","_running","_lastDate","undefined","chart","anims","date","type","callbacks","listeners","numSteps","duration","forEach","fn","initial","currentStep","Math","min","start","requestAnimFrame","call","window","_update","_refresh","Date","now","remaining","running","items","length","item","i","draw","_active","_total","tick","pop","_notify","charts","get","complete","progress","set","event","cb","_getAnims","push","reduce","acc","cur","max","_duration","cancel","delete","animator","transparent","interpolators","boolean","from","to","factor","color","c0","c1","valid","mix","hexString","number","Animation","cfg","target","prop","currentValue","resolve","_fn","_easing","effects","easing","linear","_start","floor","delay","_loop","loop","_target","_prop","_from","_to","_promises","elapsed","remain","promises","Promise","res","rej","resolved","method","defaults","animationOptions","Object","keys","animation","describe","_fallback","_indexable","_scriptable","name","colors","properties","numbers","active","resize","show","animations","visible","hide","v","Animations","config","_chart","_properties","configure","isObject","animatedProps","getOwnPropertyNames","key","option","isArray","has","values","newOptions","options","$shared","assign","$animations","resolveTargetOptions","_createAnimations","anim","wait","all","awaitAll","then","props","charAt","value","update","_animateOptions","size","add","scaleClip","scale","allowedOverflow","opts","reverse","end","getSortedDatasetIndices","filterVisible","ilen","metasets","_getSortedDatasetMetas","index","applyStack","stack","dsIndex","datasetIndex","otherValue","singleMode","mode","isNumberFinite","sign","isStacked","meta","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","parsed","_cachedMeta","_stacks","iScale","iAxis","axis","vAxis","indexScale","valueScale","id","getStackKey","_top","_bottom","getFirstScaleId","scales","filter","shift","clearStacks","_parsed","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_ctx","ctx","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","$context","_syncList","initialize","linkScales","_stacked","addElements","dataset","getDataset","chooseId","x","y","r","xid","xAxisID","valueOrDefault","yid","yAxisID","rid","rAxisID","indexAxis","iid","iAxisID","vid","vAxisID","xScale","getScaleForId","yScale","rScale","data","datasets","getDatasetMeta","scaleID","unlistenArrayEvents","adata","Array","convertObjectDataToArray","isExtensible","listenArrayEvents","_dataCheck","datasetElementType","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","scopes","getOptionScopes","createResolver","getContext","parsing","count","sorted","_sorted","prev","parseArrayData","parseObjectData","parsePrimitiveData","labels","getLabels","singleScale","parse","xAxisKey","yAxisKey","resolveObjectKey","range","parsedValue","NaN","canStack","otherScale","_getOtherScale","hidden","createStack","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","getUserBounds","minDefined","maxDefined","otherMin","otherMax","_skip","updateRangeFromParsed","getParsed","label","getLabelForValue","_clip","t","b","l","top","right","bottom","left","disabled","toClip","clip","defaultClip","getMaxOverflow","elements","area","chartArea","element","resolveDatasetElementOptions","resolveDataElementOptions","context","parent","createContext","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","dataElementType","elementType","cache","cacheKey","sharing","defined","datasetElementScopeKeys","prefixes","names","resolveNamedOptions","freeze","transition","datasetAnimationScopeKeys","_cacheable","sharedOptions","_animationsDisabled","_resolveAnimations","getStyle","getSharedOptions","_setStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","arr","updateElements","removed","splice","args","arguments","_sync","computeMinSampleSize","curr","_cache","$bar","visibleMetas","concat","getAllParsedValues","_arrayUnique","sort","a","getAllScaleValues","_length","updateMinAndPrev","abs","getPixelForValue","ticks","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","horizontal","base","borderProps","enableBorderRadius","parseEdge","orig","v1","v2","startEnd","setInflateAmount","ratio","inflateAmount","prototype","BarController","obj","iAxisKey","vAxisKey","bars","reset","getBasePixel","isHorizontal","ruler","_getRuler","firstOpts","includeOptions","updateSharedOptions","vpixels","isNullOrUndef","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","height","width","updateElement","last","grouped","val","isNaN","indexOf","_getStacks","pixels","barThickness","_startPixel","_endPixel","stackCount","_getStackCount","categoryPercentage","barPercentage","baseValue","minBarLength","actualBase","floating","getDataVisibility","barSign","halfGrid","getLineWidthForValue","skipNull","maxBarThickness","Infinity","next","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","_getStackIndex","rects","overrides","_index_","offset","grid","_value_","beginAtZero","BubbleController","radius","points","point","iPixel","getPixelForDecimal","vPixel","skip","plugins","tooltip","title","DoughnutController","innerRadius","outerRadius","offsetX","offsetY","getter","toRadians","rotation","circumference","TAU","isDatasetVisible","_getRotation","_getCircumference","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","cutout","toPercentage","chartWeight","_getRingWeight","_getRotationExtents","ratioX","ratioY","startAngle","endAngle","startX","cos","startY","sin","endX","endY","calcMax","angle","_angleBetween","calcMin","maxX","maxY","HALF_PI","minX","PI","minY","getRatioAndOffset","maxWidth","maxHeight","maxRadius","toDimension","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","_circumference","arc","metaData","formatNumber","locale","borderAlign","borderWidth","hoverBorderWidth","hoverOffset","ringWeightOffset","weight","descriptors","aspectRatio","legend","generateLabels","pointStyle","map","style","text","fillStyle","backgroundColor","strokeStyle","borderColor","lineWidth","onClick","e","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","slice","LineController","line","_dataset","animationsDisabled","pointCount","_limitValue","_lookupByKey","lo","hi","getStartAndCountOfVisiblePoints","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","scaleRangesChanged","_datasetIndex","_decimated","showLine","segment","animated","spanGaps","maxGapLength","isNumber","directUpdate","prevParsed","nullData","stop","border","firstPoint","lastPoint","updateControlPoints","PolarAreaController","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","display","circular","pointLabels","PieController","RadarController","_fullLoop","pointPosition","getPointPositionForValue","fill","ScatterController","interaction","controllers","__proto__","abstract","Error","DateAdapter","format","timestamp","amount","unit","weekday","override","members","adapters","_date","getRelativePosition","getRelativePosition$1","binarySearch","metaset","intersect","lookupMethod","_reversePixels","_rlookupByKey","el","getRange","optimizedEvaluateItems","position","handler","getSortedVisibleDatasetMetas","j","getIntersectItems","useFinalPosition","_isPointInArea","_minPadding","inRange","getNearestItems","distanceMetric","useX","useY","pt1","pt2","deltaX","deltaY","sqrt","pow","getDistanceMetricForAxis","minDistance","getCenterPoint","distance","getAxisItems","rangeMethod","intersectsItem","jlen","evaluateAllVisibleItems","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","array","pos","filterDynamicPositionByAxis","box","sortByWeight","v0","setLayoutDims","layouts","params","layout","wrap","stackWeight","includes","_stack","placed","buildStacks","vBoxMaxWidth","hBoxMaxHeight","fullSize","availableWidth","availableHeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","w","heightChanged","h","same","other","getMargins","marginForPositions","positions","margin","fitBoxes","boxes","refit","refitBoxes","setBoxDims","placeBoxes","userPadding","padding","autoPadding","_layers","z","layoutItem","minPadding","toPadding","layoutBoxes","wrapBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","each","beforeLayout","visibleVerticalBoxCount","updatePos","change","handleMaxPadding","BasePlatform","canvas","listener","BasicPlatform","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","supportsEventListenerOptions","passive","removeListener","removeEventListener","createAttachObserver","observer","MutationObserver","entries","addedNodes","node","contains","observe","document","childList","subtree","createDetachObserver","removedNodes","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","devicePixelRatio","currentDevicePixelRatio","createResizeObserver","container","_getParentNode","throttled","clientWidth","ResizeObserver","contentRect","addEventListener","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","proxy","native","fromNativeEvent","addListener","DomPlatform","renderHeight","getAttribute","renderWidth","boxSizing","displayWidth","readUsedSize","displayHeight","initCanvas","removeAttribute","setAttribute","proxies","$proxies","attach","detach","getMaximumSize","isConnected","Element","getProps","final","ret","defaultRoutes","formatters","numeric","tickValue","notation","delta","maxTick","calculateDelta","logDelta","log10","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","autoSkip","tickOpts","ticksLimit","maxTicksLimit","tickLength","_tickSize","maxScale","maxChart","_maxLength","determineMaxTicks","majorIndices","major","enabled","result","getMajorIndices","numMajorIndices","first","newTicks","ceil","skipMajors","evenMajorSpacing","diff","len","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","round","majorStart","majorEnd","bounds","grace","drawBorder","drawOnChartArea","drawTicks","tickWidth","tickColor","borderDash","borderDashOffset","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkipPadding","labelOffset","callback","minor","align","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","route","startsWith","offsetFromEdge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","epsilon","lineValue","getTickMarkLength","getTitleHeight","fallback","font","toFont","lineHeight","titleAlign","_toLeftRightCenter","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","setContext","suggestedMin","suggestedMax","finiteOrDefault","metas","getMinMax","xLabels","yLabels","beforeUpdate","margins","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","source","beforeFit","fit","afterFit","afterUpdate","startPixel","endPixel","reversePixels","_alignToPixels","alignToPixels","notifyPlugins","_callHooks","beforeTickToLabelConversion","afterTickToLabelConversion","maxLabelDiagonal","numTicks","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","toDegrees","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","generateTickLabels","_computeLabelSizes","tickFont","fontString","nestedLabel","caches","widths","heights","widestLabelSize","highestLabelSize","_resolveTickFontOptions","string","gc","_measureText","gcLen","garbageCollect","valueAt","idx","pixel","decimal","_int16Range","_alignPixel","getBaseValue","createTickContext","optionTicks","rot","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","positionAxisID","limit","step","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","textAlign","lineCount","textOffset","tickAndPadding","hTickAndPadding","textBaseline","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","strokeColor","strokeWidth","backdrop","labelPadding","translation","save","fillRect","restore","findIndex","_computeGridLineItems","drawLine","p1","p2","setLineDash","lineDashOffset","beginPath","moveTo","lineTo","stroke","lastLineWidth","_computeLabelArea","clipArea","_computeLabelItems","renderText","unclipArea","titleX","titleY","_alignStartEnd","titleArgs","drawBackground","drawGrid","drawTitle","drawLabels","tz","gz","axisID","fontSize","TypedRegistry","scope","create","isPrototypeOf","parentScope","proto","getPrototypeOf","isIChartComponent","register","itemDefaults","merge","routes","property","propertyParts","split","sourceName","sourceScope","join","parts","targetName","targetScope","routeDefaults","registerDefaults","Registry","_typedRegistries","_each","_get","typedRegistry","arg","reg","_getRegistryForType","isForType","_exec","itemReg","registry","component","camelMethod","_capitalize","PluginService","_init","hook","_createDescriptors","_descriptors","descriptor","plugin","cancelable","_oldCache","_notifyStateChanges","getPlugin","local","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","some","pluginScopeKeys","scriptable","indexable","allKeys","getIndexAxis","datasetDefaults","determineAxis","scaleOptions","toLowerCase","initOptions","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","console","error","_proxy","warn","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","mergeIf","defaultID","getAxisFromDefaultScaleID","mergeScaleConfig","initData","keyCache","keysCached","Set","cachedKeys","generate","addIfFound","Config","_config","initConfig","_scopeCache","_resolverCache","platform","clearCache","clear","datasetType","additionalOptionScopes","mainScope","resetCache","keyLists","_cachedScopes","getResolver","resolver","subPrefixes","needContext","isFunction","subResolver","_attachContext","descriptorDefaults","resolverCache","_createResolver","p","hasFunction","isScriptable","isIndexable","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","_isDomSupported","getElementById","instances","getChart","c","Chart","userConfig","initialCanvas","existingChart","chartOptionScopes","OffscreenCanvas","_detectPlatform","updateConfig","acquireContext","uid","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","debounce","resizeDelay","listen","_initialize","maintainAspectRatio","responsive","retinaScale","bindEvents","clearCanvas","_resizeBeforeDraw","_resize","newSize","newRatio","getDevicePixelRatio","onResize","render","scalesOptions","axisOptions","scaleOpts","updated","isRadial","dposition","dtype","scaleType","getScale","init","hasUpdated","_destroyDatasetMeta","newControllers","_removeUnreferencedMetasets","order","updateIndex","ControllerClass","getController","getElement","_updateMetasets","_resetElements","animsDisabled","ensureScalesHaveIDs","buildOrUpdateScales","existingEvents","newEvents","events","setsEqual","unbindEvents","invalidate","buildOrUpdateControllers","buildOrUpdateElements","_updateLayout","_updateDatasets","_eventHandler","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","setDatasetVisibility","_updateVisibility","_destroy","remove","_stop","releaseContext","toDataURL","bindUserEvents","bindResponsiveEvents","_add","detached","_remove","isAttached","prefix","activeElements","lastActive","_elementsEqual","_updateHoverStyles","notify","replay","hoverOptions","hover","deactivated","activated","updateHoverStyle","eventFilter","_handleEvent","lastEvent","getElementsAtEventForMode","onHover","invalidatePlugins","enumerable","clipArc","pixelMargin","angleMargin","closePath","parseBorderRadius$1","angleDelta","o","borderRadius","_readValueToProps","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","innerR","spacingOffset","alpha","avNogSpacingRadius","angleOffset","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","p8","inner","lineJoin","fullCircles","drawFullCircleBorders","defineProperties","version","unregister","ArcElement","chartX","chartY","getAngleFromPoint","rAdjust","halfAngle","halfRadius","radiusOffset","translate","drawArc","setStyle","lineCap","borderCapStyle","borderJoinStyle","previous","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","_steppedLineTo","tension","cubicInterpolationMode","_bezierCurveTo","getLineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","path","_path","strokePathWithCache","segments","segmentMethod","strokePathDirect","LineElement","_points","_segments","_pointsUpdated","_updateBezierControlPoints","_computeSegments","_boundSegments","_interpolate","_steppedInterpolation","_bezierInterpolation","_pointInLine","_getInterpolationMethod","interpolated","inRange$1","hitRadius","capBezierPoints","PointElement","mouseX","mouseY","hoverRadius","drawPoint","getBarBounds","bar","half","skipOrLimit","boundingRects","maxW","maxH","toTRBL","parseBorderWidth","toTRBLCorners","maxR","enableBorder","topLeft","topRight","bottomLeft","bottomRight","parseBorderRadius","outer","skipX","skipY","addNormalRectPath","rect","inflateRect","refRect","BarElement","addRectPath","addRoundedRectPath","cleanDecimatedDataset","defineProperty","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","getStartAndCountOfVisiblePointsSimplified","threshold","decimated","configurable","d","samples","maxAreaPoint","maxArea","nextA","bucketWidth","sampledIndex","endIndex","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","lttbDecimation","minIndex","maxIndex","startIndex","xMin","dx","lastIndex","intermediateIndex1","intermediateIndex2","minMaxDecimation","destroy","decodeFill","fillOption","parseFillOption","parseFloat","simpleArc","computeBoundary","computeCircularBoundary","computeLinearBoundary","findSegmentEnd","addPointsBelow","sourcePoint","linesBelow","postponed","findPoint","unshift","interpolate","pointValue","linePoints","firstValue","lastValue","getTarget","getLineByIndex","sourcePoints","below","getLinesBelow","createBoundaryLine","buildStackLine","boundary","pointsFromSegments","resolveTarget","sources","propagate","visited","clipY","getBounds","_normalizeAngle","_getEdge","clipBounds","interpolatedLineTo","interpolatedPoint","_fill","tpoints","targetSegments","tgt","subBounds","fillSources","_boundSegment","fillSource","src","notShape","lineLoop","targetLoop","drawfill","lineOpts","above","doFill","plugin_filler","afterDatasetsUpdate","_args","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","itemHeight","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","itemWidth","measureText","heightLimit","totalWidth","currentColWidth","currentColHeight","col","rtl","rtlHelper","getRtlAdapter","hitbox","leftForLtr","_draw","cursor","defaultColor","fontColor","halfFontSize","overrideTextDirection","textDirection","textWidth","setWidth","lineDash","drawOptions","SQRT2","xPlus","yBoxTop","xBoxLeft","drawLegendBox","_textX","strikethrough","fillText","restoreTextDirection","titleFont","titlePadding","topPaddingPlusHalfFontSize","hitBox","lh","onLeave","isListened","hoveredItem","_getLegendItemAt","sameItem","plugin_legend","_element","adjustHitBoxes","afterEvent","handleEvent","ci","Title","_padding","textSize","fontOpts","_drawArgs","plugin_title","titleBlock","createTitle","WeakMap","plugin_subtitle","positioners","average","hasValue","tooltipPosition","eventPosition","nearestElement","distanceBetweenPoints","tp","pushOrConcat","toPush","apply","splitNewlines","str","String","createTooltipItem","getLabelAndValue","getTooltipSize","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","lines","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","cornerRadius","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","tooltipItems","beforeTitle","afterTitle","bodyItems","scoped","beforeLabel","afterLabel","beforeFooter","afterFooter","itemSort","labelColor","labelPointStyle","labelTextColor","_createItems","getTitle","getBeforeBody","getBody","getAfterBody","getFooter","positionAndSize","backgroundPoint","external","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","pt","titleColor","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","textColor","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","bodyColor","_drawColorBox","footerAlign","footerColor","tooltipSize","drawCaret","quadraticCurveTo","animX","animY","_updateAnimationTarget","hasTooltipContent","globalAlpha","drawBody","drawFooter","positionChanged","_positionChanged","plugin_tooltip","afterInit","afterDraw","noop","labelCount","Decimation","Filler","SubTitle","findOrAddLabel","addIfString","lastIndexOf","CategoryScale","_startValue","_valueRange","isFinite","getDecimalForPixel","relativeLabelSize","minSpacing","rad","LinearScaleBase","_endValue","setMin","setMax","minSign","maxSign","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","maxTicks","stepSize","computeTickLimit","getTickLimit","generationOptions","dataRange","niceMin","niceMax","numSpaces","precision","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","niceNum","almostWhole","almostEquals","decimalPlaces","_decimalPlaces","generateTicks$1","_maxDigits","_setMinAndMaxByKey","LinearScale","handleTickRangeOptions","isMajor","tickVal","LogarithmicScale","_zero","exp","m","endExp","endSignificand","significand","lastTick","generateTicks","getTickBackdropHeight","determineLimits","fitWithPointLabels","furthestLimits","furthestAngles","valueCount","getPointLabelContext","getPointPosition","drawingArea","plFont","_pointLabels","_longestText","hLimits","vLimits","_setReductions","_pointLabelItems","tickBackdropHeight","outerDistance","extra","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","buildPointLabelItems","pathRadiusLine","numberOrZero","param","RadialLinearScale","setCenterPoint","largestPossibleRadius","radiusReductionLeft","radiusReductionRight","radiusReductionTop","radiusReductionBottom","leftMovement","rightMovement","topMovement","bottomMovement","maxRight","maxLeft","maxTop","maxBottom","angleMultiplier","scalingFactor","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","drawPointLabels","gridLineOpts","drawRadiusLine","rotate","animate","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","input","adapter","_adapter","_parseOpts","parser","isoWeekday","startOf","determineUnitForAutoTicks","minUnit","capacity","interval","addTick","time","timestamps","_lookup","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","_unit","_majorUnit","_offsets","_normalized","displayFormats","formats","normalized","_applyBounds","_getLabelBounds","endOf","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","getDecimalForValue","hasWeekday","getDataTimestamps","tooltipFormat","datetime","minorFormat","majorFormat","formatter","_tickFormatFunction","offsets","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","_getLabelSize","normalize","table","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","registerables","ListCache","require","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","__data__","module","exports","getNative","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","object","isSymbol","reIsDeepProp","reIsPlainProp","test","funcToString","Function","toString","func","baseAssignValue","eq","Uint8Array","getPrototype","overArg","assignValue","customizer","isNew","newValue","hasOwnProperty","objValue","arrayLikeKeys","baseKeysIn","isArrayLike","baseRest","isIterateeCall","assigner","guard","baseMatches","baseMatchesProperty","identity","baseIsEqualDeep","isObjectLike","baseIsEqual","bitmask","SetCache","arraySome","cacheHas","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","srcValue","castPath","toKey","isKey","stringToPath","isNum","isBool","isStr","isFn","parseClassName","isToastIdValid","toastId","canUseDom","canBeRendered","content","isValidElement","POSITION","TOP_LEFT","TOP_RIGHT","TOP_CENTER","BOTTOM_LEFT","BOTTOM_RIGHT","BOTTOM_CENTER","TYPE","INFO","SUCCESS","WARNING","ERROR","DEFAULT","DARK","collapseToast","done","requestAnimationFrame","setTimeout","cssTransition","enter","exit","appendPosition","collapse","collapseDuration","children","preventExitTransition","nodeRef","isIn","enterClassName","exitClassName","baseClassName","useRef","animationStep","useLayoutEffect","onEnter","useEffect","onExited","onExit","React","eventManager","list","emitQueue","on","off","cancelEmit","timers","emit","timer","useKeeper","refresh","ref","reducer","state","action","useToastContainer","forceUpdate","useReducer","toast","dispatch","containerRef","toastCount","queue","collection","instance","toastKey","displayedToast","containerId","isToastActive","getToast","appendToast","toastContent","toastProps","staleId","updateId","isNotValid","closeToast","removeToast","isNotAnUpdate","toastAutoClose","containerAutoClose","closeButton","className","bodyClassName","bodyStyle","pauseOnHover","pauseOnFocusLoss","draggable","draggablePercent","draggableDirection","closeOnClick","progressClassName","progressStyle","autoClose","hideProgressBar","role","deleteToast","queueLen","freeSlot","dequeueToast","toDequeue","removeFromCollection","cloneElement","getToastToRender","toastToRender","toastList","getX","getY","useToast","useState","isRunning","setIsRunning","setPreventExitTransition","toastRef","drag","removalDistance","canCloseOnClick","canDrag","boundingRect","syncProps","pauseToast","playToast","bindFocusEvents","eventHandlers","onMouseDown","onTouchStart","onMouseUp","onTouchEnd","onDragTransitionEnd","CloseButton","ariaLabel","viewBox","fillRule","ProgressBar","userStyle","controlledProgress","animationDuration","animationPlayState","defaultClassName","cx","classNames","animationEvent","Toast","Transition","cssClasses","isProgressControlled","renderCloseButton","Bounce","Slide","Zoom","Flip","ToastContainer","containerStyle","pointerEvents","getClassName","newestOnTop","containers","lazy","generateToastId","getToastId","dispatchToast","containerDomNode","mergeOptions","createToastByType","oldOptions","oldContent","nextOptions","containerConfig","latestInstance","containerInstance","baseMerge","createAssigner","srcIndex","assignMergeValue","baseFor","baseMergeDeep","keysIn","safeGet","assocIndexOf","pairs","LARGE_ARRAY_SIZE","isMasked","toSource","reIsHostCtor","funcProto","objectProto","reIsNative","RegExp","replace","coreJsData","maskSrcKey","exec","IE_PROTO","Hash","hashClear","hashDelete","hashGet","hashHas","hashSet","nativeCreate","getMapData","createBaseFor","fromRight","iteratee","keysFunc","iterable","cloneBuffer","cloneTypedArray","copyArray","initCloneObject","isArguments","isArrayLikeObject","isBuffer","isPlainObject","isTypedArray","toPlainObject","mergeFunc","isCommon","isArr","isBuff","isTyped","root","freeExports","nodeType","freeModule","Buffer","allocUnsafe","buffer","isDeep","constructor","copy","cloneArrayBuffer","typedArray","byteOffset","arrayBuffer","byteLength","baseCreate","isPrototype","objectCreate","baseGetTag","objectCtorString","Ctor","copyObject","nativeKeysIn","isProto","overRest","setToString","nativeMax","transform","otherArgs","thisArg","baseSetToString","shortOut","constant","nativeNow","lastCalled","stamp","isIndex","find","createFind","baseIteratee","findIndexFunc","predicate","fromIndex","baseIsMatch","getMatchData","matchesStrictComparable","matchData","noCustomizer","COMPARE_PARTIAL_FLAG","equalArrays","equalByTag","equalObjects","getTag","argsTag","arrayTag","objectTag","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","setCacheAdd","setCacheHas","Symbol","mapToArray","setToArray","symbolProto","symbolValueOf","valueOf","tag","message","convert","getAllKeys","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","baseGetAllKeys","getSymbols","arrayPush","symbolsFunc","arrayFilter","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","symbol","resIndex","DataView","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","ctorString","isStrictComparable","hasIn","baseGet","defaultValue","memoizeCapped","rePropName","reEscapeChar","charCodeAt","match","quote","subString","memoize","TypeError","memoized","Cache","baseToString","arrayMap","symbolToString","baseHasIn","hasPath","isLength","hasFunc","baseProperty","basePropertyDeep","baseFindIndex","toInteger","toFinite","remainder","toNumber","INFINITY","baseTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","isBinary","trimmedEndIndex","reTrimStart","reWhitespace","exportName","VENDOR_PREFIXES","TEST_ELEMENT","createElement","setTimeoutContext","timeout","bindFn","invokeArrayArg","iterator","deprecate","deprecationMessage","log","output","nextKey","extend","dest","inherit","child","childP","baseP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","splitStr","removeEventListeners","hasParent","parentNode","inStr","trim","inArray","findByKey","toArray","uniqueArray","results","prefixed","camelProp","toUpperCase","_uniqueId","getWindowForElement","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","navigator","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_MOUSE","DIRECTION_VERTICAL","DIRECTION_UP","PROPS_XY","PROPS_CLIENT_XY","Input","manager","self","inputTarget","domHandler","ev","enable","inputHandler","eventType","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","getCenter","timeStamp","deltaTime","getAngle","getDistance","offsetDelta","prevDelta","prevInput","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","getRotation","maxPointers","velocity","velocityX","velocityY","direction","lastInterval","computeIntervalInputData","srcEvent","computeInputData","recognize","clientX","clientY","atan2","evEl","evTarget","evWin","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointercancel","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","touches","changedTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","compute","actions","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","preventSrc","STATE_FAILED","Recognizer","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","Hammer","preset","Manager","recognizeWith","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","process","attrTest","optionPointers","isRecognized","isValid","DIRECTION_HORIZONTAL","directionTest","hasMoved","inOut","validPointers","validMovement","validTime","clearTimeout","taps","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","handlers","oldCssProps","toggleCssProps","force","stopped","curRecognizer","existing","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_ALL","Tap","Pan","Swipe","Pinch","Rotate","Press","define","FORMATS","_adapters","moment","_id","trunc","_extends3","_interopRequireDefault","_getPrototypeOf2","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_react2","_propTypes2","_lottieWeb2","__esModule","default","Lottie","_React$Component","_ref","_temp","_this","_ret","_len","_key","handleClickToPause","isPaused","play","pause","_props","eventListeners","autoplay","animationData","rendererSettings","renderer","loadAnimation","registerEvents","nextProps","deRegisterEvents","isStopped","playSegments","setSpeed","setDirection","speed","_this2","eventListener","eventName","_this3","_this4","_props2","ariaRole","isClickToPauseDisabled","getSize","lottieStyles","overflow","outline","onClickHandler","tabIndex","Component","propTypes","arrayOf","isRequired","oneOfType","bool","defaultProps","_assign","_assign2","$export","S","F","DESCRIPTORS","getKeys","gOPS","pIE","toObject","IObject","$assign","A","B","K","k","T","aLen","f","isEnum","factory","svgNS","locationHref","initialDefaultFrame","_useWebWorker","subframeEnabled","idPrefix","expressionsPlugin","isSafari","cachedColors","bmRnd","bmPow","bmSqrt","bmFloor","bmMax","bmMin","BMMath","ProjectInterface","propertyNames","random","absArr","createSizedArray","defaultCurveSegments","degToRads","roundCorner","roundValues","flag","styleDiv","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","s","g","q","RGBtoHSV","addSaturationToRGB","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","BaseEvent","triggerEvent","_cbs","bind","createTypedArray","createRegularArray","Uint8ClampedArray","Float32Array","Int16Array","createNS","createElementNS","createTag","DynamicPropertyContainer","addDynamicProperty","dynamicProperties","_isAnimated","iterateDynamicProperties","_mdf","getValue","initDynamicPropertyContainer","getBlendMode","blendModeEnums","lineCapEnum","lineJoinEnum","Matrix","_cos","_sin","_tan","tan","_rnd","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","sz","setTransform","n","tx","ty","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","m2","n2","o2","_p","_identityCalculated","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","m1","n1","o1","isIdentity","_identity","equals","matr","clone","cloneFromProps","applyToPoint","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","pt3","p0","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","pool","math","global","startdenom","significance","mask","ARC4","keylen","me","flatten","depth","typ","mixkey","seed","smear","stringseed","tostring","fromCharCode","shortseed","entropy","out","crypto","msCrypto","getRandomValues","browser","screen","autoseed","arc4","prng","int32","quick","double","pass","is_math_call","BezierFactory","ob","nm","beziers","bezEasing","BezierEasing","kSampleStepSize","float32ArraySupported","aA1","aA2","C","calcBezier","aT","getSlope","_mSampleValues","_precomputed","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","extendPrototype","destination","sourcePrototype","attr","getDescriptor","getOwnPropertyDescriptor","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","det1","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","lengthData","bezierLengthPool","newElement","percents","lengths","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","storedData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","segmentsLengthPool","closed","pathV","pathO","pathI","totalLength","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","lastTime","vendors","cancelAnimationFrame","currTime","getTime","timeToCall","bez","dataManager","workerFn","workerInstance","_counterId","processes","workerProxy","onmessage","postMessage","_workerSelf","setupWorker","Worker","Blob","blob","url","URL","createObjectURL","createWorker","completeLayers","comps","layerData","jLen","kLen","completed","tt","td","hasMask","maskProps","masksProperties","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","completeText","__used","JSON","stringify","ks","it","checkVersion","minimum","animVersionString","animVersion","checkText","minimumVersion","updateTextLayer","textLayer","documentData","iterateLayers","assets","checkChars","chars","pathData","paths","__converted","checkPathProperties","checkColors","iterateShapes","checkShapes","completeClosingShapes","cl","singleShape","moduleOb","__complete","dataFunctionManager","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","response","responseText","load","fullPath","errorCallback","XMLHttpRequest","err","onreadystatechange","readyState","status","open","send","completeData","payload","onError","createProcess","processId","location","origin","pathname","loadData","completeAnimation","getFontProperties","fontData","styles","fStyle","fWeight","FontManager","emptyChar","combinedCharacters","surrogateModifiers","zeroWidthJoiner","setUpNode","family","fontFamily","innerText","fontVariant","fontStyle","fontWeight","letterSpacing","appendChild","offsetWidth","familyArray","enabledFamilies","trimFontOptions","createHelper","def","tHelper","fontProps","fFamily","textContent","fClass","Font","fonts","typekitLoaded","isLoaded","_warned","initTime","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","isCombinedCharacter","char","fontPrototype","addChars","found","ch","addFonts","defs","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","querySelectorAll","href","rel","sc","helper","getCharData","getFontByName","fName","fontName","doubleSize","getComputedTextLength","singleSize","loadedCount","removeChild","PropertyFactory","initFrame","mathAbs","interpolateValue","frameNum","caching","offsetTime","propType","pv","keyData","nextKeyData","keyframeMetadata","fnc","iterationIndex","keyframes","keyframesMetadata","nextKeyTime","keyTime","ti","ind","__fnct","getBezierEasing","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quat","qx","qy","qz","qw","heading","attitude","bank","quaternionToEuler","omega","cosom","sinom","scale0","scale1","az","aw","bx","by","bz","bw","acos","slerp","createQuaternion","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","processEffectsSequence","elem","globalData","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","ValueProperty","vel","MultiDimensionalProperty","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","px","py","pz","rx","ry","rz","or","sk","sa","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","frameRate","autoOriented","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","ShapePath","setPathData","setLength","pointPool","doubleArrayLength","setXYAt","setTripleAt","vX","vY","oX","oY","iX","iY","newPath","vertices","outPoints","inPoints","cnt","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shape1","shape2","shapesEqual","shapePool","releaseShapes","addShape","ShapeProperty","shapeCollectionPool","newShapeCollection","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","os","roundness","perimSegment","numPts","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","PuckerAndBloatModifier","RepeaterModifier","ShapeCollection","DashProperty","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","shape","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","rd","processPath","clonedPath","currentV","currentI","currentO","closerV","newPosPerc","centerPoint","pathLength","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","resetElements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","itemsTransform","cont","hasReloaded","copies","group","ix","reloadShapes","elems","transformData","op","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","comparePoints","buildShapeString","pathNodes","_o","_i","shapeString","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","ImagePreloader","proxyImage","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","setInterval","getBBox","_imageLoaded","clearInterval","createFootageData","footageData","_footageLoaded","ImagePreloaderFactory","images","loadAssets","_createImageData","setAssetsPath","setPath","loadedImages","loadedFootages","getAsset","createImgData","crossOrigin","createImageData","setAttributeNS","_elementHelper","append","setCacheType","elementHelper","featureSupport","maskType","filtersFactory","filId","skipCoordinates","fil","feColorMatrix","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","sw","fc","fh","fs","fb","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","defaultBoxWidth","justifyOffset","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","searchProperties","maskManager","getMaskProperty","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","animators","matrixHelper","mHelper","renderedLettersCount","letters","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","an","animatorOffset","atan","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentIndex","textKeys","buildFinalText","charCode","charactersArray","shouldCombine","substr","newLineFlag","charData","fontManager","anchorGrouping","currentSize","currentPos","trackingOffset","currentHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","sm","textProperty","easer","tot","smoothness","newCharsFlag","divisor","poolFactory","initialLength","_create","_release","pooling","cloned","shapeCollection","markerParser","parsePayloadLines","keysCount","_markers","markers","_marker","markerData","tm","dr","cm","_","__","BaseRenderer","SVGRenderer","animationItem","svgElement","titleElement","titleId","description","descElement","descId","maskElement","layerElement","renderConfig","preserveAspectRatio","imagePreserveAspectRatio","contentVisibility","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","focusable","filterSize","pendingElements","destroyed","rendererType","CanvasRenderer","wrapper","currentGlobalAlpha","contextData","CVContextData","transformMat","HybridRenderer","threeDElements","camera","supports3d","MaskElement","viewData","solidPath","expansor","feMorph","currentMasks","layerId","maskRef","getShapeProp","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","addRenderableComponent","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGStyleData","level","lvl","hd","pElem","msElem","SVGShapeData","transformers","lStr","SVGTransformData","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","checkLayers","num","ip","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","AudioElement","FootageElement","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","getAssetData","imageLoader","imagePreloader","audioController","fr","compSize","NullElement","SVGShapeElement","SVGTextLottieElement","IImageElement","SVGCompElement","ISolidElement","configAnimation","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","insertBefore","CVShapeElement","CVTextElement","CVImageElement","CVCompElement","CVSolidElement","ctxTransform","cProps","cTr","trProps","canvasContext","ctxOpacity","cO","actionFlag","cArrPos","duplicate","saved","savedOp","blendMode","popped","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","par","fillType","clearRect","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","HShapeElement","HTextElement","HCameraElement","HImageElement","HCompElement","HSolidElement","startPos","endPos","perspectiveElem","createThreeDContainer","webkitTransform","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","svg","setup","cWidth","cHeight","webkitPerspective","perspective","floatingContainer","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathString","pathShapeValue","initHierarchy","_isParent","prepareProperties","isVisible","initTransform","_matMdf","_opMdf","ao","renderTransform","globalToLocal","transforms","ptNew","initRenderable","isInRange","isTransparent","renderableComponents","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","initElement","initBaseData","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","renderElement","renderInnerContent","innerElem","destroyBaseElement","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","opFill","lc","lj","ml","ms","ost","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","createRenderFunction","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVShapeData","transformsManager","styledShapes","styledShape","addTransformSequence","trNodes","BaseElement","SVGBaseElement","IShapeElement","ITextElement","ICompElement","sourceRect","_isPlaying","_canPlay","_currentTime","_placeholder","textSpans","shapesData","stylesList","shapeModifiers","itemsData","processedElements","animatedContents","SVGTintFilter","filterManager","matrixFilter","effectElements","feMergeNode","feMerge","SVGFillFilter","SVGGaussianBlurEffect","feGaussianBlur","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","feOffset","feFlood","feComposite","originalNodeAdded","sequence","processSequence","processSequences","getNewKey","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","createFilter","createAlphaToLuminanceFilter","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","cp","clipId","cpGroup","renderableEffectsManager","SVGEffects","addShapeToModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","addProcessedElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","timeRemapped","setElements","getElements","destroyElements","pr","volumeValue","FootageInterface","getFootageData","textContainer","buildTextContents","textArray","textContents","currentTextContent","tSpan","usesGlyphs","cachedSpansLength","tElement","justify","textBox","bbox","renderedLetter","textSpan","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","colorBlack","colorWhite","sigma","dimensions","sigmaX","sigmaY","edgeMode","groupPath","elemChildren","childNodes","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","outputDelta","inputDelta","_svgMatteSymbols","SVGMatte3Effect","filterElem","ef","filters","CVBaseElement","CVMaskElement","hasMasks","currentRender","sWidth","fValue","CVEffects","HBaseElement","shapesContainer","currentBBox","textPaths","pe","_prevMat","HEffects","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","newLength","currentSavedOp","createElements","globalCompositeOperation","hideElement","showElement","forceRealStack","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","drawImage","bezierCurveTo","transformHelper","dashResetter","preTransforms","co","wi","da","do","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","grd","miterLimit","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","lastFill","lastStroke","lastStrokeW","checkBlendMode","tg","transformedElementStyle","matrixValue","addEffects","_createBaseContainerElements","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","shapeBoundingBox","xMax","yMax","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","currentBoxContains","shapeStyle","shapeTransform","compW","compH","innerElemStyle","tParent","tCont","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","textPath","svgTransform","Image","imageElem","perspectiveStyle","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","removeElement","animItem","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","addPlayingCount","activate","nowTime","elapsedTime","advanceTime","setParams","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","lenAnims","getElementsByTagName","div","goToAndStop","isFrame","unfreeze","getRegisteredAnimations","currentRawFrame","frameMult","playSpeed","playDirection","playCount","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","onSetupError","onSegmentComplete","animType","autoloadSegments","initialSegment","fileName","trigger","wrapperAttributes","attributes","getNamedItem","prerender","loadNextSegment","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","updaFrameModifier","waitForFontsLoaded","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","getMarkerData","markerName","marker","numValue","frameModifier","goToAndPlay","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","getPath","getDuration","Expressions","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","ExpressionManager","fetch","frames","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","vec","rgbToHsl","hue2rgb","hslToRgb","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","needsVelocity","_needsRandom","elemType","$bm_transform","effect","thisProperty","valueAtTime","frameDuration","displayStartTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","anchorPoint","thisLayer","thisComp","velocityAtTime","scoped_bm_rt","expression_function","eval","numKeys","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","getVelocityAtTime","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","fps","timeToFrames","seedRandom","seedrandom","randSeed","substring","posterizeTime","framesPerSecond","executeExpression","_value","frameExpressionId","expressionHelpers","searchExpressions","getSpeedAtTime","_cachingAtTime","getStaticValueAtTime","setGroupProperty","propertyGroup","durationFlag","cycleDuration","firstKeyFrame","lastKeyFrame","initV","endV","current","repeats","nextLastValue","nextFirstValue","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","skewAxis","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","propertyIndex","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","propertyGetShapeProp","trims","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","ShapePathInterface","view","interfaceFunction","_propertyGroup","propertyGroupFactory","PropertyInterface","_name","mn","parentPropertyGroup","propertyName","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","interfaces","numProperties","transformInterface","transformInterfaceFactory","cix","contentsInterfaceFactory","np","ExpressionPropertyInterface","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dash","outerRoundness","innerRoundness","_interfaceFunction","_prevValue","_sourceText","_thisLayerFunction","sourceText","stringValue","getMatrix","toWorldMat","toWorldVec","applyPoint","fromWorldVec","invertPoint","sampleImage","anchorPointDescriptor","TransformExpressionInterface","anchor_point","startTime","MaskManagerInterface","dataInterfaceFactory","outlineInterface","currentPropertyName","currentProperty","propertyNameIndex","outlineInterfaceFactory","dataInterface","pixelAspect","numLayers","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_px","_py","_pz","_transformFactory","compositions","_thisProjectFunction","createGroupInterface","groupInterface","createValueInterface","en","expressionProperty","effectsData","MaskInterface","_mask","_masksInterfaces","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","speedAtTime","defaultGetter","UnidimensionalPropertyInterface","MultidimensionalPropertyInterface","TextExpressionSelectorPropFactory","getValueProxy","propertyGetTextProp","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","effectItem","GroupEffect","eff","lottie","setLocationHref","setSubframeRendering","setIDPrefix","setQuality","inBrowser","installPlugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","useWebWorker","__getFactory","scripts","myScript","getModifierKey","modifierKey","keyPressed","keyNotPressed","directionEnabled","getEnabledScalesByPoint","scaleIds","getScaleUnderPoint","enabledScales","scaleItem","chartStates","getState","originalScaleLimits","updatedScaleLimits","panDelta","zoomDelta","zoom","newRange","minPercent","getValueForPixel","getLimit","scaleLimits","original","updateRange","limits","minRange","minLimit","maxLimit","cmin","cmax","integerChange","OFFSETS","panNumericalScale","canZoom","prevStart","prevEnd","newMin","newMax","panNonLinearScale","zoomFunctions","category","existCategoryFromMaxZoom","panFunctions","applied","lastLabelIndex","stepDelta","scaleLength","timeseries","removeMissingScales","opt","storeOriginalScaleLimits","shouldUpdateScaleLimits","doZoom","ca","focalPoint","zoomOptions","overScaleMode","xEnabled","yEnabled","onZoom","pixel0","pixel1","zoomScale","scaleId","resetZoom","onZoomComplete","getZoomLevel","origRange","getOriginalRange","panScale","storedDelta","pan","panOptions","onPan","getInitialScaleBounds","scaleBounds","removeHandler","addHandler","mouseMove","dragStart","dragging","dragEnd","zoomStart","onZoomStart","onZoomRejected","getBoundingClientRect","mouseDown","computeDragRect","beginPoint","chartHeight","zoomX","zoomY","mouseUp","distanceX","distanceY","zoomRect","wheel","wheelPreconditions","addDebouncedHandler","createEnabler","panning","onPanRejected","handlePinch","zoomPercent","pinch","pinchX","pinchY","pinchAxes","handlePan","panScales","hammers","startHammer","mc","startPinch","endPinch","onPanStart","panEndTimeout","startPan","onPanComplete","endPan","isZoomedOrPanned","originalMin","originalMax","beforeEvent","wheelOptions","dragOptions","addListeners","removeListeners","stopHammer","removeState","ChartComponent","forwardRef","computedData","useMemo","setChart","useImperativeHandle","renderChart","updateChart","newDataSets","newChartData","newDataSet","currentDataSet","destroyChart","getDatasetAtEvent","getElementAtEvent","getElementsAtEvent","Line","Bar","Radar","Doughnut","PolarArea","Bubble","Pie","Scatter","chartjs","weiToNumber","wei","utils","weiToExactNumber","formatFloat","BigNumber","numberToWei","parseSolidityRevertMessage","str1","hex2ASCII","formatAddressBalances","addresses","tokens","balances","balance","addrIdx","_Pact","onFulfilled","onRejected","_settle","pact","_isSettledPact","thenable","asyncIterator","_catch","recover","configs","production","SFARM_API_ENDPOINT","TOKEN_INFO_ENDPOINT","CGK_API_ENDPOINT","FARMY_API_ENDPOINT","REFERRAL_CONTRACT_ADDRESS","LARGE_VALUE","ZERO_ADDRESS","development","env","setupConfig","newEnv","getConfig","sourceString","deposit","usdz","withdraw","minutes","hours","days","months","deposit_success","withdraw_success","harvest_success","total_harvested","contribution_avg","total_harvestable","contribution","unlocked_in","harvestable","harvest","asset","sort_balance_low_to_high","sort_balance_high_to_low","search_farm","token","apy","available","fund_map","view_on_bscscan","fund","price","quantity","liquidity","unallocated","others","depositWarning","withdrawWarining","connectGuide","unharvestedEst","unHarvestedEstWarning","lang","getText","BalanceCheckerAddrees","calFund","totalBalance","TOKEN_LEVEL","SECONDS_IN_MONTH","keyStateByAccount","providerNotSigner","ethers","getBeefyUrl","saveData","newState","fetchData","account","provider","loadCache","fetchInitialState","getBankTokenBalancesByContract","stateData","fetchStakeQueryData","moreQueryConfig","stakeQueryData","getBalance","contractABI","tokenAddress","earnToken","tokenBalance","tokenAllowance","totalEarn","lockedSeconds","storeCache","getTokenAllowance","tk","getTokenBalance","retry","fetchStakeQuery","contractAddress","getMoreQueryConfig","getLockedSeconds","address","bankAddress","oldState","tmp","callData","multicall","contractAbi","allowance","multi","itf","calldata","calls","reTry","balanceContract","accounts","keysQuery","initFarmData","getFullFundPlatforms","tokensInfo","manualGetInfoToken","harvested","bankTokens","bankTokenBalances","bankLiquidity","lzToken","tokenMissInfo","tokenMissInfoAddress","getTokenInfo","newTokenInfo","logo","balanceUnallocated","farmTokens","fundPlatforms","platforms","tokenList","uniq","tokensInfor","lpAddress","funds","apePoolAddress","platformFarmarmy","lpAddressExtra","transactionToken","bscPools","depositUsd","aprData","capitalize","icon","toLower","depositAmount","tokenApy","calTokenWithApy","getFundUnallocated","tokensWithAPY","bankApy","farm","farmAPY","totalDeposit","depositWithAPY","finalDepositWithAPY","contract","SfarmContract","stake","totalStake","totalValue","secondsToContribution","contributionPercent","totalContribution","referralRates","subsidyRate","slot","repeat","getEstYield","earnHistories","earn","lastHarvest","fetchLastHarvest","estAccount","lastTimeHarvested","lastestBlock","useData","onEstYieldAccount","lzExchangeRate","setlzExchagneRate","chartLabel","chartData","earnHistoryData","setEarnHistoryData","dic","fetchLzExchangeRate","fetchEarnHistoryData","getTokenExchangeRate","handleCalculateEstYield","lastBlock","resData","block","getEarnHistories","placeholder","BaseIcon","SearchIcon","xmlns","strokeLinecap","cy","gradientUnits","stopColor","ArrowUp","ArrowDown","ExitIcon","strokeLinejoin","LockIcon","SortUp","SortDown","SortDisabled","setVisible","tokenChoosing","useWeb3React","xStorageClient","showLoading","setAmount","setToken","sending","setSending","depositErr","setDepositErr","newLzReferral","setNewLzReferral","fetchNewReferral","checkError","signer","CitizenContract","lzReferral","referral","getNewReferralAddress","stakeTokenAddress","checkDepositError","onChange","alt","txRes","approveToken","approved","newTokens","enableDeposit","success","updateBalanceAndStake","bn","ABIs","abi","iface","withdrawRLS","verify","pancakeExtract","stakeToken","bankConfig","extracted","amountNeeded","liquidable","stage","shouldContinue","updateValue","reject","_resumeAfterTest","_resumeAfterBody","_resumeAfterUpdate","_extractRLS","best","firstError","router","rls","receivingToken","execs","routerAddress","pairAddress","unlocked","removeTx","unlockTx","pairIn","tokenOut","liquidityNeed","liquidityMissing","receipt","originalAmount","originalAmountHex","amountHex","removableLPs","txOut","removableStakeLPs","transferLogs","unlockableLPs","txIn","unlockable","otherOut","withdrawable","setWithdrawable","withdrawErr","setWithdrawErr","fetchWithdrawable","getWithdrawable","checkWithdrawError","renderWarning","useCallback","maxAmount","withdrawSuccess","TYPE_SORT","Logo","setErr","visibleDeposit","setVisibleDeposit","tokensDisplay","setTokensDisplay","visibleWithdraw","setVisibleWithdraw","setTokenChoosing","searchString","setSearchString","sortType","setSort","refreshFarmLquidity","fetchFarmLiquidity","searchHandle","sortHandle","handleSortName","handleSortBalance","handleSortApy","orderBy","depositApy","renderIcon","suffix","handleCancel","handleOnConfirm","handleVisible","WalletWrapped","estYieldAccount","setEstYieldAccount","setLastTimeHarvested","Wallet","warningRef","isShowWarning","timeUnHarvested","handleHarvest","harvestSuccess","fundPlatformUnallocated","unallocatedTokenInfo","logos","fundPlatform","zIndex","justifyContent","loadingData","SUPPORTED_CHAIN_IDS","theme","language","library","chainId","visibleErrModal","setVisibleErrModal","loading","setLoading","walletRef","rememberAccount","setLang","updateFn","updateArgs","ticking","rest","dimension","endsWith","loopable","a0","clone$1","klen","isValidKey","_merger","tval","sval","merger","_mergerIf","indexOfDotOrLength","PITAU","RAD_PER_DEG","QUARTER_PI","TWO_THIRDS_PI","roundedRange","niceRange","fraction","rounded","degrees","radians","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","_angleDiff","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","atEdge","elasticIn","elasticOut","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","D","E","isShort","lim","p2b","n2b","b2n","n2p","RGB_RE","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","rgb","rgb2hsl","calln","hsl2rgb","hue","hueParse","hwb2rgb","hsv2rgb","names$1","map$1","Z","Y","X","W","V","U","R","Q","P","O","N","M","L","G","H","I","J","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","nameParse","ok","nk","unpacked","tkeys","unpack","modHSL","fromObject","functionParse","rgbParse","Color","hexParse","_rgb","_valid","hslString","w2","w1","deg","index_esm","isPatternOrGradient","CanvasGradient","CanvasPattern","getHoverColor","saturate","darken","getScope$1","Defaults","hoverBackgroundColor","hoverBorderColor","hoverColor","scopeObject","targetScopeObject","privateName","writable","longest","arrayOfThings","thing","nestedThing","halfWidth","resetTransform","xOffset","SQRT1_2","flip","midpoint","cp1x","cp2x","cp1y","cp2y","setRenderOpts","strokeText","decorateText","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","LINE_HEIGHT","FONT_STYLE","toLineHeight","matches","read","toFontString","inputs","info","cacheable","minmax","keepZero","parentContext","cmp","mid","arrayEvents","_chartjs","stub","rootScopes","_resolve","toStringTag","Proxy","deleteProperty","_keys","_cached","_resolveWithPrefixes","Reflect","_scopes","getKeysFromAllScopes","ownKeys","_storage","subProxy","_context","_subProxy","receiver","createSubResolver","_resolveScriptable","_resolveArray","needsSubResolver","_resolveWithContext","_allKeys","readKey","resolveFallback","getScope","addScopes","parentScopes","parentFallback","_rootScopes","allScopes","addScopesFromKey","_getTarget","subGetTarget","resolveKeysFromAllScopes","EPSILON","getPoint","getValueAxis","splineCurve","middlePoint","afterPoint","d01","d12","s01","s12","fa","monotoneAdjust","deltaK","mK","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointsLen","pointAfter","monotoneCompute","pointBefore","valueAxis","capControlPoint","controlPoints","slopeDelta","splineCurveMonotone","inArea","inAreaPrev","inAreaNext","domNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","getPositionedStyle","evt","borderBox","paddings","borders","shadowRoot","useOffsetPos","getCanvasPosition","round1","bbWidth","bbHeight","containerSize","containerBorder","containerPadding","clientHeight","getContainerSize","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","passiveSupported","getPropertyValue","cp1","cp2","intlCache","Intl","NumberFormat","getNumberFormat","rectX","getRightToLeftAdapter","_itemWidth","getPropertyPriority","setProperty","prevTextDirection","propertyFn","between","compare","normalizeSegment","prevValue","startBound","endBound","getSegment","inside","subStart","shouldStart","shouldStop","segmentOptions","findStartAndEnd","splitByStyles","solidSegments","chartContext","baseStyle","readStyle","prevStyle","addStyle","styleChanged","p0DataIndex","p1DataIndex","doSplitByStyles","baseIsNative","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","isKeyable"],"mappings":"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","file":"static/js/164.fd133209.chunk.js","sourcesContent":["/*!\n * Chart.js v3.6.0\n * https://www.chartjs.org\n * (c) 2021 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, d as defaults, i as isObject, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as createContext, j as defined, s as sign, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as isNumber, w as _limitValue, x as _lookupByKey, y as getRelativePosition$1, z as _isPointInArea, A as _rlookupByKey, B as toPadding, C as each, D as getMaximumSize, E as _getParentNode, F as readUsedSize, G as throttled, I as supportsEventListenerOptions, J as _isDomSupported, K as log10, L as _factorize, M as finiteOrDefault, N as callback, O as _addGrace, Q as toDegrees, R as _measureText, S as _int16Range, U as _alignPixel, V as clipArea, W as renderText, X as unclipArea, Y as toFont, Z as _toLeftRightCenter, $ as _alignStartEnd, a0 as overrides, a1 as merge, a2 as _capitalize, a3 as descriptors, a4 as isFunction, a5 as _attachContext, a6 as _createResolver, a7 as _descriptors, a8 as mergeIf, a9 as uid, aa as debounce, ab as retinaScale, ac as clearCanvas, ad as setsEqual, ae as _elementsEqual, af as getAngleFromPoint, ag as _readValueToProps, ah as _updateBezierControlPoints, ai as _computeSegments, aj as _boundSegments, ak as _steppedInterpolation, al as _bezierInterpolation, am as _pointInLine, an as _steppedLineTo, ao as _bezierCurveTo, ap as drawPoint, aq as addRoundedRectPath, ar as toTRBL, as as toTRBLCorners, at as _boundSegment, au as _normalizeAngle, av as getRtlAdapter, aw as overrideTextDirection, ax as _textX, ay as restoreTextDirection, az as noop, aA as distanceBetweenPoints, aB as _setMinAndMaxByKey, aC as niceNum, aD as almostWhole, aE as almostEquals, aF as _decimalPlaces, aG as _longestText, aH as _filterBetween, aI as _lookup } from './chunks/helpers.segment.js';\nexport { d as defaults } from './chunks/helpers.segment.js';\n\nclass Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n  _update(date = Date.now()) {\n    let remaining = 0;\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n      for (; i >= 0; --i) {\n        item = items[i];\n        if (item._active) {\n          if (item._total > anims.duration) {\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n      remaining += items.length;\n    });\n    this._lastDate = date;\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\nvar animator = new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color(from, to, factor) {\n    const c0 = color(from || transparent);\n    const c1 = c0.valid && color(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\nclass Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n  active() {\n    return this._active;\n  }\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n  cancel() {\n    if (this._active) {\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n    this._active = from !== to && (loop || (elapsed < duration));\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n    this._target[prop] = this._fn(from, to, factor);\n  }\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n\nconst numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined,\n});\nconst animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  },\n});\ndefaults.describe('animations', {\n  _fallback: 'animation',\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      },\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: v => v | 0\n      },\n    }\n  }\n});\nclass Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n    const animatedProps = this._properties;\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n      });\n    }\n    return animations;\n  }\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n      if (animation) {\n        if (cfg && animation.active()) {\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        target[prop] = value;\n        continue;\n      }\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n  update(target, values) {\n    if (this._properties.size === 0) {\n      Object.assign(target, values);\n      return;\n    }\n    const animations = this._createAnimations(target, values);\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\nfunction toClip(value) {\n  let t, r, b, l;\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n  if (value === null) {\n    return;\n  }\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isNumberFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\nfunction convertObjectDataToArray(data) {\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n  return adata;\n}\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n  return null;\n}\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {});\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n  }\n}\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\nfunction clearStacks(meta, items) {\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n  }\n}\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\nclass DatasetController {\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.initialize();\n  }\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n  }\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n  reset() {\n    this._update('reset');\n  }\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n    if (isObject(data)) {\n      this._data = convertObjectDataToArray(data);\n    } else if (_data !== data) {\n      if (_data) {\n        unlistenArrayEvents(_data, this);\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n  addElements() {\n    const meta = this._cachedMeta;\n    this._dataCheck();\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n    this._dataCheck();\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n    this._resyncElements(resetNewElements);\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n    }\n  }\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n  }\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        break;\n      }\n    }\n    if (sorted) {\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isNumberFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n  getMaxOverflow() {\n    return false;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.configure();\n    this._cachedDataOpts = {};\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n  update(mode) {}\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    let i;\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    const context = () => this.getContext(index, active);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n    if (values.$shared) {\n      values.$shared = sharing;\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n    return values;\n  }\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n    if (count) {\n      this.parse(0, count);\n    }\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n  updateElements(element, start, count, mode) {}\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n  }\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n  _onDataSplice(start, count) {\n    this._sync(['_removeElements', start, count]);\n    this._sync(['_insertElements', start, arguments.length - 2]);\n  }\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n  return min;\n}\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\nclass BarController extends DatasetController {\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n  getMaxOverflow() {\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n  _getStacks(last, dataIndex) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const metasets = iScale.getMatchingVisibleMetas(this._type);\n    const stacked = iScale.options.stacked;\n    const ilen = metasets.length;\n    const stacks = [];\n    let i, item;\n    for (i = 0; i < ilen; ++i) {\n      item = metasets[i];\n      if (!item.controller.options.grouped) {\n        continue;\n      }\n      if (typeof dataIndex !== 'undefined') {\n        const val = item.controller.getParsed(dataIndex)[\n          item.controller._cachedMeta.vScale.axis\n        ];\n        if (isNullOrUndef(val) || isNaN(val)) {\n          continue;\n        }\n      }\n      if (stacked === false || stacks.indexOf(item.stack) === -1 ||\n\t\t\t\t(stacked === undefined && item.stack === undefined)) {\n        stacks.push(item.stack);\n      }\n      if (item.index === last) {\n        break;\n      }\n    }\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n    return stacks;\n  }\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1;\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      head = base;\n    }\n    size = head - base;\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      head = base + size;\n    }\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n}\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true,\n    }\n  }\n};\n\nclass BubbleController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n    return {\n      label: meta.label,\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n  update(mode) {\n    const points = this._cachedMeta.data;\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n      if (includeOptions) {\n        properties.options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n      this.updateElement(point, i, properties, mode);\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n    return values;\n  }\n}\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\nclass DoughnutController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n  linkScales() {}\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n    meta.total = this.calculateTotal();\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    let startAngle = this._getRotation();\n    let i;\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n      this.updateElement(arc, i, properties, mode);\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n    return total;\n  }\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n    if (!arcs) {\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          if (controller !== this) {\n            controller.configure();\n          }\n          break;\n        }\n      }\n    }\n    if (!arcs) {\n      return 0;\n    }\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n  getMaxOffset(arcs) {\n    let max = 0;\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n    return ringWeightOffset;\n  }\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n    },\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  spacing: 0,\n  indexAxis: 'r',\n};\nDoughnutController.descriptors = {\n  _scriptable: (name) => name !== 'spacing',\n  _indexable: (name) => name !== 'spacing',\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(tooltipItem) {\n          let dataLabel = tooltipItem.label;\n          const value = ': ' + tooltipItem.formattedValue;\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nclass LineController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    this._drawStart = start;\n    this._drawCount = count;\n    if (scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n    this.updateElements(points, start, count, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false,\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n    },\n    _value_: {\n      type: 'linear',\n    },\n  }\n};\nfunction getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  const pointCount = points.length;\n  let start = 0;\n  let count = pointCount;\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        _lookupByKey(_parsed, iScale.axis, min).lo,\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        _lookupByKey(_parsed, iScale.axis, max).hi + 1,\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max)).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n  return {start, count};\n}\nfunction scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nclass PolarAreaController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const dataset = this.getDataset();\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n    const defaultAngle = 360 / this.countVisibleElements();\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(dataset.data[i]) : 0;\n      angle = endAngle;\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n  countVisibleElements() {\n    const dataset = this.getDataset();\n    const meta = this._cachedMeta;\n    let count = 0;\n    meta.data.forEach((element, index) => {\n      if (!isNaN(dataset.data[index]) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n    return count;\n  }\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    },\n  },\n  indexAxis: 'r',\n  startAngle: 0,\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nclass PieController extends DoughnutController {\n}\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nclass RadarController extends DatasetController {\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n    line.points = points;\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n      this.updateElement(line, undefined, properties, mode);\n    }\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const dataset = this.getDataset();\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, dataset.data[i]);\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  },\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear',\n    }\n  }\n};\n\nclass ScatterController extends LineController {\n}\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPolarAreaController: PolarAreaController,\nPieController: PieController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\nclass DateAdapter {\n  constructor(options) {\n    this.options = options || {};\n  }\n  formats() {\n    return abstract();\n  }\n  parse(value, format) {\n    return abstract();\n  }\n  format(timestamp, format) {\n    return abstract();\n  }\n  add(timestamp, amount, unit) {\n    return abstract();\n  }\n  diff(a, b, unit) {\n    return abstract();\n  }\n  startOf(timestamp, unit, weekday) {\n    return abstract();\n  }\n  endOf(timestamp, unit) {\n    return abstract();\n  }\n}\nDateAdapter.override = function(members) {\n  Object.assign(DateAdapter.prototype, members);\n};\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction getRelativePosition(e, chart) {\n  if ('native' in e) {\n    return {\n      x: e.x,\n      y: e.y\n    };\n  }\n  return getRelativePosition$1(e, chart);\n}\nfunction evaluateAllVisibleItems(chart, handler) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  let index, data, element;\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    ({index, data} = metasets[i]);\n    for (let j = 0, jlen = data.length; j < jlen; ++j) {\n      element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  return {lo: 0, hi: data.length - 1};\n}\nfunction optimizedEvaluateItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\nfunction getIntersectItems(chart, position, axis, useFinalPosition) {\n  const items = [];\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition) {\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n  let items = [];\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (intersect && !element.inRange(position.x, position.y, useFinalPosition)) {\n      return;\n    }\n    const center = element.getCenterPoint(useFinalPosition);\n    if (!_isPointInArea(center, chart.chartArea, chart._minPadding) && !element.inRange(position.x, position.y, useFinalPosition)) {\n      return;\n    }\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getAxisItems(chart, e, options, useFinalPosition) {\n  const position = getRelativePosition(e, chart);\n  const items = [];\n  const axis = options.axis;\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n  evaluateAllVisibleItems(chart, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      intersectsItem = true;\n    }\n  });\n  if (options.intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\nvar Interaction = {\n  modes: {\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'x';\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition)\n        : getNearestItems(chart, position, axis, false, useFinalPosition);\n      const elements = [];\n      if (!items.length) {\n        return [];\n      }\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n      return elements;\n    },\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition) :\n        getNearestItems(chart, position, axis, false, useFinalPosition);\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n      return items;\n    },\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getIntersectItems(chart, position, axis, useFinalPosition);\n    },\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition);\n    },\n    x(chart, e, options, useFinalPosition) {\n      options.axis = 'x';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    },\n    y(chart, e, options, useFinalPosition) {\n      options.axis = 'y';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    }\n  }\n};\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n  if (!isObject(pos)) {\n    if (layout.size) {\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n  chartArea.x = x;\n  chartArea.y = y;\n}\ndefaults.set('layout', {\n  autoPadding: true,\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n    chart.boxes.push(item);\n  },\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h);\n    });\n  }\n};\n\nclass BasePlatform {\n  acquireContext(canvas, aspectRatio) {}\n  releaseContext(context) {\n    return false;\n  }\n  addEventListener(chart, type, listener) {}\n  removeEventListener(chart, type, listener) {}\n  getDevicePixelRatio() {\n    return 1;\n  }\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n  isAttached(canvas) {\n    return true;\n  }\n  updateConfig(config) {\n  }\n}\n\nclass BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n\nconst EXPANDO_KEY = '$chartjs';\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\nconst isNullOrEmpty = value => value === null || value === '';\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n  return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition$1(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    for (const entry of entries) {\n      for (const node of entry.addedNodes) {\n        if (node === canvas || node.contains(canvas)) {\n          return listener();\n        }\n      }\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    for (const entry of entries) {\n      for (const node of entry.removedNodes) {\n        if (node === canvas || node.contains(canvas)) {\n          return listener();\n        }\n      }\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, (args) => {\n    const event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\nclass DomPlatform extends BasePlatform {\n  acquireContext(canvas, aspectRatio) {\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n    if (context && context.canvas === canvas) {\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n    return null;\n  }\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n    canvas.width = canvas.width;\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n  addEventListener(chart, type, listener) {\n    this.removeEventListener(chart, type);\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n    if (!proxy) {\n      return;\n    }\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n  isAttached(canvas) {\n    const container = _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n\nfunction _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nclass Element {\n  constructor() {\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n  tooltipPosition(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n  getProps(props, final) {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      return this;\n    }\n    const ret = {};\n    props.forEach(prop => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n    });\n    return ret;\n  }\n}\nElement.defaults = {};\nElement.defaultRoutes = undefined;\n\nconst formatters = {\n  values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue;\n    if (ticks.length > 1) {\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n      delta = calculateDelta(tickValue, ticks);\n    }\n    const logDelta = log10(Math.abs(delta));\n    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = tickValue / (Math.pow(10, Math.floor(log10(tickValue))));\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n};\nfunction calculateDelta(tickValue, ticks) {\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\nvar Ticks = {formatters};\n\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: (_ctx, options) => options.lineWidth,\n    tickColor: (_ctx, options) => options.color,\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2,\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',\n});\ndefaults.describe('scales', {\n  _fallback: 'scale',\n});\ndefaults.describe('scale.ticks', {\n  _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n  _indexable: (name) => name !== 'backdropPadding',\n});\n\nfunction autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n  next = start;\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n  if (len < 2) {\n    return false;\n  }\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6;\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n  return (lines * font.lineHeight) + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\nfunction titleAlign(align, position, reverse) {\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\nclass Scale extends Element {\n  constructor(cfg) {\n    super();\n    this.id = cfg.id;\n    this.type = cfg.type;\n    this.options = undefined;\n    this.ctx = cfg.ctx;\n    this.chart = cfg.chart;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    this.maxWidth = undefined;\n    this.maxHeight = undefined;\n    this.paddingTop = undefined;\n    this.paddingBottom = undefined;\n    this.paddingLeft = undefined;\n    this.paddingRight = undefined;\n    this.axis = undefined;\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    this.ticks = [];\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    this._startPixel = undefined;\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n  init(options) {\n    this.options = options.setContext(this.getContext());\n    this.axis = options.axis;\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n  parse(raw, index) {\n    return raw;\n  }\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isNumberFinite(_userMin),\n      maxDefined: isNumberFinite(_userMax)\n    };\n  }\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n  getTicks() {\n    return this.ticks;\n  }\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n  beforeUpdate() {\n    callback(this.options.beforeUpdate, [this]);\n  }\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n    this.beforeUpdate();\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n    this.beforeBuildTicks();\n    this.ticks = this.buildTicks() || [];\n    this.afterBuildTicks();\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n    this.configure();\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation();\n    this.afterCalculateLabelRotation();\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n    }\n    if (samplingEnabled) {\n      this._convertTicksToLabels(this.ticks);\n    }\n    this.beforeFit();\n    this.fit();\n    this.afterFit();\n    this.afterUpdate();\n  }\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n  afterUpdate() {\n    callback(this.options.afterUpdate, [this]);\n  }\n  beforeSetDimensions() {\n    callback(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = 0;\n      this.bottom = this.height;\n    }\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    callback(this.options.afterSetDimensions, [this]);\n  }\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    callback(this.options[name], [this]);\n  }\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n  beforeTickToLabelConversion() {\n    callback(this.options.beforeTickToLabelConversion, [this]);\n  }\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    callback(this.options.afterTickToLabelConversion, [this]);\n  }\n  beforeCalculateLabelRotation() {\n    callback(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = this.ticks.length;\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    callback(this.options.afterCalculateLabelRotation, [this]);\n  }\n  beforeFit() {\n    callback(this.options.beforeFit, [this]);\n  }\n  fit() {\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight;\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n        if (isHorizontal) {\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n    this._handleMargins();\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n  afterFit() {\n    callback(this.options.afterFit, [this]);\n  }\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  isFullSize() {\n    return this.options.fullSize;\n  }\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n    this.generateTickLabels(ticks);\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n    this.afterTickToLabelConversion();\n  }\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);\n    }\n    return labelSizes;\n  }\n  _computeLabelSizes(ticks, length) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n    for (i = 0; i < length; ++i) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = label[j];\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n  getLabelForValue(value) {\n    return value;\n  }\n  getPixelForValue(value, index) {\n    return NaN;\n  }\n  getValueForPixel(pixel) {}\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n  getBaseValue() {\n    const {min, max} = this;\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n  getContext(index) {\n    const ticks = this.ticks || [];\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n  _isVisible() {\n    const display = this.options.display;\n    if (display !== 'auto') {\n      return !!display;\n    }\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const optsAtIndex = grid.setContext(this.getContext(i));\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = grid.borderDash || [];\n      const borderDashOffset = optsAtIndex.borderDashOffset;\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n      lineValue = getPixelForGridLine(this, i, offset);\n      if (lineValue === undefined) {\n        continue;\n      }\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n    return items;\n  }\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      if (isHorizontal) {\n        x = pixel;\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n      let backdrop;\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n        let top = y + textOffset - labelPadding.top;\n        let left = x - labelPadding.left;\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        }\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        }\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n          color: optsAtIndex.backdropColor,\n        };\n      }\n      items.push({\n        rotation,\n        label,\n        font,\n        color,\n        strokeColor,\n        strokeWidth,\n        textOffset,\n        textAlign,\n        textBaseline,\n        translation: [x, y],\n        backdrop,\n      });\n    }\n    return items;\n  }\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n    let align = 'center';\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    }\n    return align;\n  }\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n    let textAlign;\n    let x;\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n    return {textAlign, x};\n  }\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n    const chart = this.chart;\n    const position = this.options.position;\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n  drawBorder() {\n    const {chart, ctx, options: {grid}} = this;\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.borderWidth;\n    ctx.strokeStyle = borderOpts.borderColor;\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.restore();\n  }\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n    if (!optionTicks.display) {\n      return;\n    }\n    const ctx = this.ctx;\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    let i, ilen;\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      const item = items[i];\n      const tickFont = item.font;\n      const label = item.label;\n      if (item.backdrop) {\n        ctx.fillStyle = item.backdrop.color;\n        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n      }\n      let y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, item);\n    }\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n    if (!title.display) {\n      return;\n    }\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: gz + 1,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n\nclass TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n    if (isIChartComponent(proto)) {\n      parentScope = this.register(proto);\n    }\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n    if (id in items) {\n      return scope;\n    }\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n    return scope;\n  }\n  get(id) {\n    return this.items[id];\n  }\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n    if (id in items) {\n      delete items[id];\n    }\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\nfunction registerDefaults(item, scope, parentScope) {\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n  defaults.set(scope, itemDefaults);\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n  add(...args) {\n    this._each('register', args);\n  }\n  remove(...args) {\n    this._each('unregister', args);\n  }\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        each(arg, item => {\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    callback(component['before' + camelMethod], [], component);\n    registry[method](component);\n    callback(component['after' + camelMethod], [], component);\n  }\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    return this.plugins;\n  }\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n}\nvar registry = new Registry();\n\nclass PluginService {\n  constructor() {\n    this._init = [];\n  }\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n    if (hook === 'destroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n    return true;\n  }\n  invalidate() {\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n    const descriptors = this._cache = this._createDescriptors(chart);\n    this._notifyStateChanges(chart);\n    return descriptors;\n  }\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\nfunction allPlugins(config) {\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n    }\n  }\n  return plugins;\n}\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\nfunction createDescriptors(chart, plugins, options, all) {\n  const result = [];\n  const context = chart.getContext();\n  for (let i = 0; i < plugins.length; i++) {\n    const plugin = plugins[i];\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, plugin, opts, context)\n    });\n  }\n  return result;\n}\nfunction pluginOpts(config, plugin, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  return config.createResolver(scopes, context, [''], {scriptable: false, indexable: false, allKeys: true});\n}\n\nfunction getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const firstIDs = Object.create(null);\n  const scales = Object.create(null);\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\nclass Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n  get platform() {\n    return this._config.platform;\n  }\n  get type() {\n    return this._config.type;\n  }\n  set type(type) {\n    this._config.type = type;\n  }\n  get data() {\n    return this._config.data;\n  }\n  set data(data) {\n    this._config.data = initData(data);\n  }\n  get options() {\n    return this._config.options;\n  }\n  set options(options) {\n    this._config.options = options;\n  }\n  get plugins() {\n    return this._config.plugins;\n  }\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n    const scopes = new Set();\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n  chartOptionScopes() {\n    const {options, type} = this;\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {},\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || isFunction(value[key]), false);\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar version = \"3.6.0\";\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n  return item;\n}\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\nclass Chart {\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas can be reused.'\n      );\n    }\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    instances[this.id] = this;\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      return aspectRatio;\n    }\n    if (maintainAspectRatio && _aspectRatio) {\n      return _aspectRatio;\n    }\n    return height ? width / height : null;\n  }\n  get data() {\n    return this.config.data;\n  }\n  set data(data) {\n    this.config.data = data;\n  }\n  get options() {\n    return this._options;\n  }\n  set options(options) {\n    this.config.options = options;\n  }\n  _initialize() {\n    this.notifyPlugins('beforeInit');\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n    this.bindEvents();\n    this.notifyPlugins('afterInit');\n    return this;\n  }\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n    this.notifyPlugins('resize', {size: newSize});\n    callback(options.onResize, [this, newSize], this);\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        this.render();\n      }\n    }\n  }\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n      scale.init(scaleOptions, options);\n    });\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n    this._removeUnreferencedMetasets();\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass.prototype, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n    this._updateMetasets();\n    return newControllers;\n  }\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n  update(mode) {\n    const config = this.config;\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n    const animsDisabled = this._animationsDisabled = !options.animation;\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      this.unbindEvents();\n      this.bindEvents();\n    }\n    this._plugins.invalidate();\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    const newControllers = this.buildOrUpdateControllers();\n    this.notifyPlugins('beforeElementsUpdate');\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n    if (!animsDisabled) {\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n    this._updateDatasets(mode);\n    this.notifyPlugins('afterUpdate', {mode});\n    this._layers.sort(compare2Level('z', '_idx'));\n    if (this._lastEvent) {\n      this._eventHandler(this._lastEvent, true);\n    }\n    this.render();\n  }\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n    layouts.update(this, this.width, this.height, minPadding);\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        return;\n      }\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n    this.notifyPlugins('afterLayout');\n  }\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n    meta.controller._update(mode);\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      this._resize(width, height);\n      this._resizeBeforeDraw = null;\n    }\n    this.clear();\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this._drawDatasets();\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this.notifyPlugins('afterDraw');\n  }\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = this.chartArea;\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n    meta.controller.draw();\n    if (useClip) {\n      unclipArea(ctx);\n    }\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n    return [];\n  }\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n    return meta;\n  }\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n    const meta = this.getDatasetMeta(datasetIndex);\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n  destroy() {\n    const {canvas, ctx} = this;\n    this._stop();\n    this.config.clearCache();\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n    this.notifyPlugins('destroy');\n    delete instances[this.id];\n  }\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n    each(this.options.events, (type) => _add(type, listener));\n  }\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n    let detached;\n    const attached = () => {\n      _remove('attach', attached);\n      this.attached = true;\n      this.resize();\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n    detached = () => {\n      this.attached = false;\n      _remove('resize', listener);\n      this._stop();\n      this._resize(0, 0);\n      _add('attach', attached);\n    };\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n  _eventHandler(e, replay) {\n    const args = {event: e, replay, cancelable: true};\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n    const changed = this._handleEvent(e, replay);\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n    if (changed || args.changed) {\n      this.render();\n    }\n    return this;\n  }\n  _handleEvent(e, replay) {\n    const {_active: lastActive = [], options} = this;\n    const hoverOptions = options.hover;\n    const useFinalPosition = replay;\n    let active = [];\n    let changed = false;\n    let lastEvent = null;\n    if (e.type !== 'mouseout') {\n      active = this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n      lastEvent = e.type === 'click' ? this._lastEvent : e;\n    }\n    this._lastEvent = null;\n    if (_isPointInArea(e, this.chartArea, this._minPadding)) {\n      callback(options.onHover, [e, active, this], this);\n      if (e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu') {\n        callback(options.onClick, [e, active, this], this);\n      }\n    }\n    changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n    this._lastEvent = lastEvent;\n    return changed;\n  }\n}\nconst invalidatePlugins = () => each(Chart.instances, (chart) => chart._plugins.invalidate());\nconst enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable,\n    value: registry\n  },\n  version: {\n    enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable,\n    value: (...items) => {\n      registry.add(...items);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable,\n    value: (...items) => {\n      registry.remove(...items);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element, endAngle) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\nfunction pathArc(ctx, element, offset, spacing, end) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n  let spacingOffset = 0;\n  const alpha = end - start;\n  if (spacing) {\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n  if (outerEnd > 0) {\n    const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n  }\n  const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n  ctx.lineTo(p4.x, p4.y);\n  if (innerEnd > 0) {\n    const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n  }\n  ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);\n  if (innerStart > 0) {\n    const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n  }\n  const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n  ctx.lineTo(p8.x, p8.y);\n  if (outerStart > 0) {\n    const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n  }\n  ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, startAngle + TAU);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + circumference % TAU;\n      if (circumference % TAU === 0) {\n        endAngle += TAU;\n      }\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.fill();\n  return endAngle;\n}\nfunction drawFullCircleBorders(ctx, element, inner) {\n  const {x, y, startAngle, pixelMargin, fullCircles} = element;\n  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  const innerRadius = element.innerRadius + pixelMargin;\n  let i;\n  if (inner) {\n    clipArc(ctx, element, startAngle + TAU);\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\nfunction drawBorder(ctx, element, offset, spacing, endAngle) {\n  const {options} = element;\n  const inner = options.borderAlign === 'inner';\n  if (!options.borderWidth) {\n    return;\n  }\n  if (inner) {\n    ctx.lineWidth = options.borderWidth * 2;\n    ctx.lineJoin = 'round';\n  } else {\n    ctx.lineWidth = options.borderWidth;\n    ctx.lineJoin = 'bevel';\n  }\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.stroke();\n}\nclass ArcElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(chartX, chartY, useFinalPosition) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = this.options.spacing / 2;\n    const betweenAngles = circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = (distance >= innerRadius + rAdjust && distance <= outerRadius + rAdjust);\n    return (betweenAngles && withinRadius);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference',\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n  tooltipPosition(useFinalPosition) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n  draw(ctx) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 2;\n    const spacing = (options.spacing || 0) / 2;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n    ctx.save();\n    let radiusOffset = 0;\n    if (offset) {\n      radiusOffset = offset / 2;\n      const halfAngle = (this.startAngle + this.endAngle) / 2;\n      ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);\n      if (this.circumference >= PI) {\n        radiusOffset = offset;\n      }\n    }\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    const endAngle = drawArc(ctx, this, radiusOffset, spacing);\n    drawBorder(ctx, this, radiusOffset, spacing, endAngle);\n    ctx.restore();\n  }\n}\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  spacing: 0,\n  angle: undefined,\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n  return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    prev = point;\n  }\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n  return !!loop;\n}\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n    if (point.skip) {\n      continue;\n    }\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    lastY = y;\n  }\n  drawX();\n}\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n  return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\nclass LineElement extends Element {\n  constructor(cfg) {\n    super();\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n  get points() {\n    return this._points;\n  }\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n    if (!segments.length) {\n      return;\n    }\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n    start = start || 0;\n    count = count || (this.points.length - start);\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n    if (points.length && options.borderWidth) {\n      ctx.save();\n      draw(ctx, this, start, count);\n      ctx.restore();\n    }\n    if (this.animated) {\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0,\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\nclass PointElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange$1(this, mouseX, 'x', useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange$1(this, mouseY, 'y', useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  size(options) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n  draw(ctx, area) {\n    const options = this.options;\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n  getRange() {\n    const options = this.options || {};\n    return options.radius + options.hitRadius;\n  }\n}\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);\n  let left, right, top, bottom, half;\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n  return {left, top, right, bottom};\n}\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n  const enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds\n\t\t&& (skipX || x >= bounds.left && x <= bounds.right)\n\t\t&& (skipY || y >= bounds.top && y <= bounds.bottom);\n}\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\nclass BarElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n    ctx.save();\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n    ctx.restore();\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  inflateAmount: 'auto',\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nLineElement: LineElement,\nPointElement: PointElement,\nBarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  const samples = options.samples || availableWidth;\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n  const decimated = [];\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    const {x: pointAx, y: pointAy} = data[a];\n    maxArea = area = -1;\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      const lastIndex = i - 1;\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n  return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {value: data});\n  }\n}\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n  let start = 0;\n  let count;\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n  return {start, count};\n}\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n    const availableWidth = chart.width;\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n      if (meta.type !== 'line') {\n        return;\n      }\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n      if (chart.options.parsing) {\n        return;\n      }\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      const threshold = options.threshold || 4 * availableWidth;\n      if (count <= threshold) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n      dataset._decimated = decimated;\n    });\n  },\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n  if (fill === false || fill === null) {\n    return false;\n  }\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\nfunction decodeFill(line, index, count) {\n  const fill = parseFillOption(line);\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n  let target = parseFloat(fill);\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    if (fill[0] === '-' || fill[0] === '+') {\n      target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n      return false;\n    }\n    return target;\n  }\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  let target = null;\n  let horizontal;\n  if (fill === 'start') {\n    target = scale.bottom;\n  } else if (fill === 'end') {\n    target = scale.top;\n  } else if (isObject(fill)) {\n    target = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    target = scale.getBasePixel();\n  }\n  if (isNumberFinite(target)) {\n    horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? target : null,\n      y: horizontal ? null : target\n    };\n  }\n  return null;\n}\nclass simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const target = [];\n  const start = options.reverse ? scale.max : scale.min;\n  const end = options.reverse ? scale.min : scale.max;\n  let i, center, value;\n  if (fill === 'start') {\n    value = start;\n  } else if (fill === 'end') {\n    value = end;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  if (options.grid.circular) {\n    center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n  for (i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\nfunction findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\nfunction pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\nfunction buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(createBoundaryLine({x: null, y: scale.bottom}, line));\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (pointValue >= firstValue && pointValue <= lastValue) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\nfunction getTarget(source) {\n  const {chart, fill, line} = source;\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n  if (fill === 'stack') {\n    return buildStackLine(source);\n  }\n  if (fill === 'shape') {\n    return true;\n  }\n  const boundary = computeBoundary(source);\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n  return createBoundaryLine(boundary, line);\n}\nfunction createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = pointsFromSegments(boundary, line);\n  }\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\nfunction resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n  if (!propagate) {\n    return fill;\n  }\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n    if (target.visible) {\n      return fill;\n    }\n    visited.push(fill);\n    fill = target.fill;\n  }\n  return false;\n}\nfunction _clip(ctx, target, clipY) {\n  ctx.beginPath();\n  target.path(ctx);\n  ctx.lineTo(target.last().x, clipY);\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\nfunction getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\nfunction _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = findSegmentEnd(start, end, points);\n    const bounds = getBounds(property, points[start], points[end], segment.loop);\n    if (!target.segments) {\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n    const targetSegments = _boundSegments(target, bounds);\n    for (const tgt of targetSegments) {\n      const subBounds = getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\nfunction _fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n    clipBounds(ctx, scale, notShape && getBounds(property, start, end));\n    ctx.beginPath();\n    const lineLoop = !!line.pathSegment(ctx, src);\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n    ctx.restore();\n  }\n}\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n  if (property === 'x' && below !== above) {\n    _clip(ctx, target, area.top);\n    _fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    _clip(ctx, target, area.bottom);\n  }\n  _fill(ctx, {line, target, color: below, scale, property});\n  ctx.restore();\n}\nfunction drawfill(ctx, source, area) {\n  const target = getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\nvar plugin_filler = {\n  id: 'filler',\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n      meta.$filler = source;\n      sources.push(source);\n    }\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n      source.fill = resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n      source.line.updateControlPoints(area, source.axis);\n      if (draw) {\n        drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (source) {\n        drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n    if (!source || source.fill === false || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n    drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = Math.min(boxWidth, fontSize);\n  }\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n  constructor(config) {\n    super();\n    this._added = false;\n    this.legendHitBoxes = [];\n    this._hoveredItem = null;\n    this.doughnutMode = false;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = callback(labelOpts.generateLabels, [this.chart], this) || [];\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n    this.legendItems = legendItems;\n  }\n  fit() {\n    const {options, ctx} = this;\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n    let width, height;\n    ctx.font = labelFont.string;\n    if (this.isHorizontal()) {\n      width = this.maxWidth;\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight;\n      width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    }\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n    return totalHeight;\n  }\n  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n    let left = 0;\n    let col = 0;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight});\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight});\n    return totalWidth;\n  }\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n      this._draw();\n      unclipArea(ctx);\n    }\n  }\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {color: fontColor, padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n    this.drawTitle();\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n      ctx.save();\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n      if (labelOpts.usePointStyle) {\n        const drawOptions = {\n          radius: boxWidth * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n      } else {\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n        ctx.beginPath();\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n      ctx.restore();\n    };\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n    overrideTextDirection(this.ctx, opts.textDirection);\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor || fontColor;\n      ctx.fillStyle = legendItem.fontColor || fontColor;\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n      rtlHelper.setWidth(this.width);\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n      const realX = rtlHelper.x(x);\n      drawLegendBox(realX, y, legendItem);\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n      fillText(rtlHelper.x(x), y, legendItem);\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    if (!titleOpts.display) {\n      return;\n    }\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n    let left = this.left;\n    let maxWidth = this.width;\n    if (this.isHorizontal()) {\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n    const x = _alignStartEnd(position, left, left + maxWidth);\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n    if (x >= this.left && x <= this.right && y >= this.top && y <= this.bottom) {\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n        if (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\n          return this.legendItems[i];\n        }\n      }\n    }\n    return null;\n  }\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n    if (e.type === 'mousemove') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        callback(opts.onLeave, [e, previous, this], this);\n      }\n      this._hoveredItem = hoveredItem;\n      if (hoveredItem && !sameItem) {\n        callback(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      callback(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\nfunction isListened(type, opts) {\n  if (type === 'mousemove' && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n\nclass Title extends Element {\n  constructor(config) {\n    super();\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n    this.left = 0;\n    this.top = 0;\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    if (!opts.display) {\n      return;\n    }\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n  id: 'subtitle',\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst positioners = {\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n    let i, len;\n    let x = 0;\n    let y = 0;\n    let count = 0;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n    return {\n      x,\n      y\n    };\n  }\n};\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n  return base;\n}\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip._chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {width, height};\n}\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n  return xAlign;\n}\nfunction determineAlignment(chart, options, size) {\n  const yAlign = options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretPadding;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretPadding;\n  }\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\nclass Tooltip extends Element {\n  constructor(config) {\n    super();\n    this.opacity = 0;\n    this._active = [];\n    this._chart = config._chart;\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n    if (cached) {\n      return cached;\n    }\n    const chart = this._chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this._chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this._chart.getContext(), this, this._tooltipItems));\n  }\n  getTitle(context, options) {\n    const {callbacks} = options;\n    const beforeTitle = callbacks.beforeTitle.apply(this, [context]);\n    const title = callbacks.title.apply(this, [context]);\n    const afterTitle = callbacks.afterTitle.apply(this, [context]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n    return lines;\n  }\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n  }\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(this, context)));\n      pushOrConcat(bodyItem.lines, scoped.label.call(this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(this, context)));\n      bodyItems.push(bodyItem);\n    });\n    return bodyItems;\n  }\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n  }\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n    const beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);\n    const footer = callbacks.footer.apply(this, [tooltipItems]);\n    const afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n    return lines;\n  }\n  _createItems(options) {\n    const active = this._active;\n    const data = this._chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this._chart, active[i]));\n    }\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(scoped.labelColor.call(this, context));\n      labelPointStyles.push(scoped.labelPointStyle.call(this, context));\n      labelTextColors.push(scoped.labelTextColor.call(this, context));\n    });\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this._chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this._chart);\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n    if (changed && options.external) {\n      options.external.call(this, {chart: this._chart, tooltip: this, replay});\n    }\n  }\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.titleAlign, options);\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing;\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing;\n        }\n      }\n    }\n  }\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColors = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2,\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.fillStyle = labelColors.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      ctx.lineWidth = labelColors.borderWidth || 1;\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.setLineDash(labelColors.borderDash || []);\n      ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);\n      const borderRadius = toTRBLCorners(labelColors.borderRadius);\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n      lines = bodyItem.lines;\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n      each(bodyItem.after, fillLineOfText);\n    }\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing;\n  }\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n      footerFont = toFont(options.footerFont);\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n    ctx.fill();\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n  _updateAnimationTarget(options) {\n    const chart = this._chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n    if (!opacity) {\n      return;\n    }\n    this._updateAnimationTarget(options);\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n    const padding = toPadding(options.padding);\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n      this.drawBackground(pt, ctx, tooltipSize, options);\n      overrideTextDirection(ctx, options.textDirection);\n      pt.y += padding.top;\n      this.drawTitle(pt, ctx, options);\n      this.drawBody(pt, ctx, options);\n      this.drawFooter(pt, ctx, options);\n      restoreTextDirection(ctx, options.textDirection);\n      ctx.restore();\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this._chart.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this.update(true);\n    }\n  }\n  handleEvent(e, replay) {\n    const options = this.options;\n    const lastActive = this._active || [];\n    let changed = false;\n    let active = [];\n    if (e.type !== 'mouseout') {\n      active = this._chart.getElementsAtEventForMode(e, options.mode, options, replay);\n      if (options.reverse) {\n        active.reverse();\n      }\n    }\n    const positionChanged = this._positionChanged(active, e);\n    changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n    if (changed) {\n      this._active = active;\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n        this.update(true, replay);\n      }\n    }\n    return changed;\n  }\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({_chart: chart, options});\n    }\n  },\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n    const args = {\n      tooltip\n    };\n    if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n      return;\n    }\n    if (tooltip) {\n      tooltip.draw(chart.ctx);\n    }\n    chart.notifyPlugins('afterTooltipDraw', args);\n  },\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          const item = tooltipItems[0];\n          const labels = item.chart.data.labels;\n          const labelCount = labels ? labels.length : 0;\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n        return label;\n      },\n      labelColor(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0,\n        };\n      },\n      labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation,\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nDecimation: plugin_decimation,\nFiller: plugin_filler,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index) => typeof raw === 'string'\n  ? labels.push(raw) - 1\n  : isNaN(raw) ? null : index;\nfunction findOrAddLabel(labels, raw, index) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\nclass CategoryScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw));\n    return validIndex(index, labels.length - 1);\n  }\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n      return labels[value];\n    }\n    return value;\n  }\n  configure() {\n    super.configure();\n    if (!this.isHorizontal()) {\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n  getBasePixel() {\n    return this.bottom;\n  }\n}\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  const ticks = [];\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n      if (niceMin < min) {\n        j++;\n      }\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n  for (; j < numSpaces; ++j) {\n    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});\n  }\n  if (maxDefined && includeBounds && niceMax !== max) {\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n  return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n    return +raw;\n  }\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n    if (min === max) {\n      let offset = 1;\n      if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {\n        offset = Math.abs(max * 0.05);\n      }\n      setMax(max + offset);\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n    return maxTicks;\n  }\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n    super.configure();\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale);\n  }\n}\n\nclass LinearScale extends LinearScaleBase {\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? min : 0;\n    this.max = isNumberFinite(max) ? max : 1;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, Math.floor(log10(tickVal))));\n  return remain === 1;\n}\nfunction generateTicks(generationOptions, dataRange) {\n  const endExp = Math.floor(log10(dataRange.max));\n  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  const ticks = [];\n  let tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  let exp = Math.floor(log10(tickVal));\n  let significand = Math.floor(tickVal / Math.pow(10, exp));\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  do {\n    ticks.push({value: tickVal, major: isMajor(tickVal)});\n    ++significand;\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || (exp === endExp && significand < endSignificand));\n  const lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({value: lastTick, major: isMajor(tickVal)});\n  return ticks;\n}\nclass LogarithmicScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isNumberFinite(value) && value > 0 ? value : null;\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n    this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n    this.handleTickRangeOptions();\n  }\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    const exp = (v, m) => Math.pow(10, Math.floor(log10(v)) + m);\n    if (min === max) {\n      if (min <= 0) {\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(exp(min, -1));\n        setMax(exp(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(exp(max, -1));\n    }\n    if (max <= 0) {\n      setMax(exp(min, +1));\n    }\n    if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {\n      setMin(exp(min, -1));\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    return value === undefined ? '0' : formatNumber(value, this.chart.options.locale);\n  }\n  configure() {\n    const start = this.min;\n    super.configure();\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\nfunction fitWithPointLabels(scale) {\n  const furthestLimits = {\n    l: 0,\n    r: scale.width,\n    t: 0,\n    b: scale.height - scale.paddingTop\n  };\n  const furthestAngles = {};\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale.getLabels().length;\n  for (let i = 0; i < valueCount; i++) {\n    const opts = scale.options.pointLabels.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i]);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    const angleRadians = scale.getIndexAngle(i);\n    const angle = toDegrees(angleRadians);\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    if (hLimits.start < furthestLimits.l) {\n      furthestLimits.l = hLimits.start;\n      furthestAngles.l = angleRadians;\n    }\n    if (hLimits.end > furthestLimits.r) {\n      furthestLimits.r = hLimits.end;\n      furthestAngles.r = angleRadians;\n    }\n    if (vLimits.start < furthestLimits.t) {\n      furthestLimits.t = vLimits.start;\n      furthestAngles.t = angleRadians;\n    }\n    if (vLimits.end > furthestLimits.b) {\n      furthestLimits.b = vLimits.end;\n      furthestAngles.b = angleRadians;\n    }\n  }\n  scale._setReductions(scale.drawingArea, furthestLimits, furthestAngles);\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale.getLabels().length;\n  const opts = scale.options;\n  const tickBackdropHeight = getTickBackdropHeight(opts);\n  const outerDistance = scale.getDistanceFromCenterForValue(opts.ticks.reverse ? scale.min : scale.max);\n  for (let i = 0; i < valueCount; i++) {\n    const extra = (i === 0 ? tickBackdropHeight / 2 : 0);\n    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i]);\n    const angle = toDegrees(scale.getIndexAngle(i));\n    const size = labelSizes[i];\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    items.push({\n      x: pointLabelPosition.x,\n      y,\n      textAlign,\n      left,\n      top: y,\n      right: left + size.w,\n      bottom: y + size.h\n    });\n  }\n  return items;\n}\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n  return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];\n    const {backdropColor} = optsAtIndex;\n    if (!isNullOrUndef(backdropColor)) {\n      const padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      ctx.fillRect(left - padding.left, top - padding.top, right - left + padding.width, bottom - top + padding.height);\n    }\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n  const {color, lineWidth} = gridLineOpts;\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\nfunction numberOrZero(param) {\n  return isNumber(param) ? param : 0;\n}\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\nclass RadialLinearScale extends LinearScaleBase {\n  constructor(cfg) {\n    super(cfg);\n    this.xCenter = undefined;\n    this.yCenter = undefined;\n    this.drawingArea = undefined;\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n  setDimensions() {\n    this.width = this.maxWidth;\n    this.height = this.maxHeight;\n    this.paddingTop = getTickBackdropHeight(this.options) / 2;\n    this.xCenter = Math.floor(this.width / 2);\n    this.yCenter = Math.floor((this.height - this.paddingTop) / 2);\n    this.drawingArea = Math.min(this.height - this.paddingTop, this.width) / 2;\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n    this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n    this._pointLabels = this.getLabels().map((value, index) => {\n      const label = callback(this.options.pointLabels.callback, [value, index], this);\n      return label || label === 0 ? label : '';\n    });\n  }\n  fit() {\n    const opts = this.options;\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n  _setReductions(largestPossibleRadius, furthestLimits, furthestAngles) {\n    let radiusReductionLeft = furthestLimits.l / Math.sin(furthestAngles.l);\n    let radiusReductionRight = Math.max(furthestLimits.r - this.width, 0) / Math.sin(furthestAngles.r);\n    let radiusReductionTop = -furthestLimits.t / Math.cos(furthestAngles.t);\n    let radiusReductionBottom = -Math.max(furthestLimits.b - (this.height - this.paddingTop), 0) / Math.cos(furthestAngles.b);\n    radiusReductionLeft = numberOrZero(radiusReductionLeft);\n    radiusReductionRight = numberOrZero(radiusReductionRight);\n    radiusReductionTop = numberOrZero(radiusReductionTop);\n    radiusReductionBottom = numberOrZero(radiusReductionBottom);\n    this.drawingArea = Math.max(largestPossibleRadius / 2, Math.min(\n      Math.floor(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2),\n      Math.floor(largestPossibleRadius - (radiusReductionTop + radiusReductionBottom) / 2)));\n    this.setCenterPoint(radiusReductionLeft, radiusReductionRight, radiusReductionTop, radiusReductionBottom);\n  }\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    const maxRight = this.width - rightMovement - this.drawingArea;\n    const maxLeft = leftMovement + this.drawingArea;\n    const maxTop = topMovement + this.drawingArea;\n    const maxBottom = (this.height - this.paddingTop) - bottomMovement - this.drawingArea;\n    this.xCenter = Math.floor(((maxLeft + maxRight) / 2) + this.left);\n    this.yCenter = Math.floor(((maxTop + maxBottom) / 2) + this.top + this.paddingTop);\n  }\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / this.getLabels().length;\n    const startAngle = this.options.startAngle || 0;\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n  getPointPosition(index, distanceFromCenter) {\n    const angle = this.getIndexAngle(index) - HALF_PI;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this.getLabels().length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid} = opts;\n    const labelCount = this.getLabels().length;\n    let i, offset, position;\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const optsAtIndex = grid.setContext(this.getContext(index - 1));\n          drawRadiusLine(this, optsAtIndex, offset, labelCount);\n        }\n      });\n    }\n    if (angleLines.display) {\n      ctx.save();\n      for (i = this.getLabels().length - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n        if (!lineWidth || !color) {\n          continue;\n        }\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n      ctx.restore();\n    }\n  }\n  drawBorder() {}\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    if (!tickOpts.display) {\n      return;\n    }\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    this.ticks.forEach((tick, index) => {\n      if (index === 0 && !opts.reverse) {\n        return;\n      }\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n      });\n    });\n    ctx.restore();\n  }\n  drawTitle() {}\n}\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback(label) {\n      return label;\n    },\n    padding: 5\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\n\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\nconst UNITS = (Object.keys(INTERVALS));\nfunction sorter(a, b) {\n  return a - b;\n}\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, parser)\n      : adapter.parse(value);\n  }\n  if (value === null) {\n    return null;\n  }\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n  return +value;\n}\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n  return UNITS[ilen - 1];\n}\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n  constructor(props) {\n    super(props);\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    this._unit = 'day';\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n  init(scaleOpts, opts) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n    mergeIf(time.displayFormats, adapter.formats());\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n    super.init(scaleOpts);\n    this._normalized = opts.normalized;\n  }\n  parse(raw, index) {\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n    if (!minDefined || !maxDefined) {\n      _applyBounds(this._getLabelBounds());\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n    min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n    const min = this.min;\n    const max = this.max;\n    const ticks = _filterBetween(timestamps, min, max);\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n    if (options.reverse) {\n      ticks.reverse();\n    }\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n  initOffsets(timestamps) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(timeOpts.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);\n  }\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n    const label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    const formatter = options.ticks.callback;\n    return formatter ? callback(formatter, [label, index, ticks], this) : label;\n  }\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const metas = this.getMatchingVisibleMetas();\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n    return (this._cache.data = this.normalize(timestamps));\n  }\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n  normalize(values) {\n    return _arrayUnique(values.sort(sorter));\n  }\n}\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n  constructor(props) {\n    super(props);\n    this._table = [];\n    this._minPos = undefined;\n    this._tableRange = undefined;\n  }\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n    if (items.length < 2) {\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n    return timestamps;\n  }\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, plugin_filler as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, elements, layouts, plugins, registerables, registry, scales };\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","import { isValidElement } from 'react';\n\nimport { Id } from '../types';\n\nexport function isNum(v: any): v is Number {\n  return typeof v === 'number' && !isNaN(v);\n}\n\nexport function isBool(v: any): v is Boolean {\n  return typeof v === 'boolean';\n}\n\nexport function isStr(v: any): v is String {\n  return typeof v === 'string';\n}\n\nexport function isFn(v: any): v is Function {\n  return typeof v === 'function';\n}\n\nexport function parseClassName(v: any) {\n  return isStr(v) || isFn(v) ? v : null;\n}\n\nexport function isToastIdValid(toastId?: Id) {\n  return toastId === 0 || toastId;\n}\n\nexport function getAutoCloseDelay(\n  toastAutoClose?: false | number,\n  containerAutoClose?: false | number\n) {\n  return toastAutoClose === false ||\n    (isNum(toastAutoClose) && toastAutoClose > 0)\n    ? toastAutoClose\n    : containerAutoClose;\n}\n\nexport const canUseDom = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nexport function canBeRendered<T>(content: T): boolean {\n  return (\n    isValidElement(content) || isStr(content) || isFn(content) || isNum(content)\n  );\n}\n","import { ToastPosition, TypeOptions } from '../types';\n\ntype KeyOfPosition =\n  | 'TOP_LEFT'\n  | 'TOP_RIGHT'\n  | 'TOP_CENTER'\n  | 'BOTTOM_LEFT'\n  | 'BOTTOM_RIGHT'\n  | 'BOTTOM_CENTER';\n\ntype KeyOfType = 'INFO' | 'SUCCESS' | 'WARNING' | 'ERROR' | 'DEFAULT' | 'DARK';\n\nexport const POSITION: { [key in KeyOfPosition]: ToastPosition } = {\n  TOP_LEFT: 'top-left',\n  TOP_RIGHT: 'top-right',\n  TOP_CENTER: 'top-center',\n  BOTTOM_LEFT: 'bottom-left',\n  BOTTOM_RIGHT: 'bottom-right',\n  BOTTOM_CENTER: 'bottom-center'\n};\n\nexport const TYPE: { [key in KeyOfType]: TypeOptions } = {\n  INFO: 'info',\n  SUCCESS: 'success',\n  WARNING: 'warning',\n  ERROR: 'error',\n  DEFAULT: 'default',\n  DARK: 'dark'\n};\n\nexport const enum Default {\n  COLLAPSE_DURATION = 300,\n  DEBOUNCE_DURATION = 50,\n  CSS_NAMESPACE = 'Toastify',\n  DRAGGABLE_PERCENT = 80\n}\n\nexport const enum Direction {\n  X = 'x',\n  Y = 'y'\n}\n","import { Default } from './constant';\n\n/**\n * Used to collapse toast after exit animation\n */\nexport function collapseToast(\n  node: HTMLElement,\n  done: () => void,\n  duration = Default.COLLAPSE_DURATION\n) {\n  const height = node.scrollHeight;\n  const style = node.style;\n\n  requestAnimationFrame(() => {\n    style.minHeight = 'initial';\n    style.height = height + 'px';\n    style.transition = `all ${duration}ms`;\n\n    requestAnimationFrame(() => {\n      style.height = '0';\n      style.padding = '0';\n      style.margin = '0';\n      setTimeout(done, duration as number);\n    });\n  });\n}\n","import React, { useEffect, useLayoutEffect, useRef } from 'react';\nimport { ToastTransitionProps } from '../types';\n\nimport { collapseToast } from './collapseToast';\nimport { Default } from './constant';\n\nexport interface CSSTransitionProps {\n  /**\n   * Css class to apply when toast enter\n   */\n  enter: string;\n\n  /**\n   * Css class to apply when toast leave\n   */\n  exit: string;\n\n  /**\n   * Append current toast position to the classname.\n   * If multiple classes are provided, only the last one will get the position\n   * For instance `myclass--top-center`...\n   * `Default: false`\n   */\n  appendPosition?: boolean;\n\n  /**\n   * Collapse toast smoothly when exit animation end\n   * `Default: true`\n   */\n  collapse?: boolean;\n\n  /**\n   * Collapse transition duration\n   * `Default: 300`\n   */\n  collapseDuration?: number;\n}\n\nconst enum AnimationStep {\n  Enter,\n  Exit\n}\n\n/**\n * Css animation that just work.\n * You could use animate.css for instance\n *\n *\n * ```\n * cssTransition({\n *   enter: \"animate__animated animate__bounceIn\",\n *   exit: \"animate__animated animate__bounceOut\"\n * })\n * ```\n *\n */\nexport function cssTransition({\n  enter,\n  exit,\n  appendPosition = false,\n  collapse = true,\n  collapseDuration = Default.COLLAPSE_DURATION\n}: CSSTransitionProps) {\n  return function ToastTransition({\n    children,\n    position,\n    preventExitTransition,\n    done,\n    nodeRef,\n    isIn\n  }: ToastTransitionProps) {\n    const enterClassName = appendPosition ? `${enter}--${position}` : enter;\n    const exitClassName = appendPosition ? `${exit}--${position}` : exit;\n    const baseClassName = useRef<string>();\n    const animationStep = useRef(AnimationStep.Enter);\n\n    useLayoutEffect(() => {\n      onEnter();\n    }, []);\n\n    useEffect(() => {\n      if (!isIn) preventExitTransition ? onExited() : onExit();\n    }, [isIn]);\n\n    function onEnter() {\n      const node = nodeRef.current!;\n      baseClassName.current = node.className;\n      node.className += ` ${enterClassName}`;\n      node.addEventListener('animationend', onEntered);\n    }\n\n    function onEntered() {\n      const node = nodeRef.current!;\n      node.removeEventListener('animationend', onEntered);\n      if (animationStep.current === AnimationStep.Enter) {\n        node.className = baseClassName.current!;\n      }\n    }\n\n    function onExit() {\n      animationStep.current = AnimationStep.Exit;\n      const node = nodeRef.current!;\n\n      node.className += ` ${exitClassName}`;\n      node.addEventListener('animationend', onExited);\n    }\n\n    function onExited() {\n      const node = nodeRef.current!;\n\n      node.removeEventListener('animationend', onExited);\n      collapse ? collapseToast(node, done, collapseDuration) : done();\n    }\n\n    return <>{children}</>;\n  };\n}\n","import {\n  Id,\n  ToastContent,\n  ClearWaitingQueueParams,\n  NotValidatedToastProps\n} from '../types';\nimport { ContainerInstance } from '../hooks';\n\nexport const enum Event {\n  Show,\n  Clear,\n  DidMount,\n  WillUnmount,\n  Change,\n  ClearWaitingQueue\n}\n\ntype OnShowCallback = (\n  content: ToastContent,\n  options: NotValidatedToastProps\n) => void;\ntype OnClearCallback = (id?: Id) => void;\ntype OnClearWaitingQueue = (params: ClearWaitingQueueParams) => void;\ntype OnDidMountCallback = (containerInstance: ContainerInstance) => void;\ntype OnWillUnmountCallback = OnDidMountCallback;\nexport type OnChangeCallback = (\n  toast: number,\n  containerId?: number | string\n) => void;\ntype Callback =\n  | OnShowCallback\n  | OnClearCallback\n  | OnClearWaitingQueue\n  | OnDidMountCallback\n  | OnWillUnmountCallback\n  | OnChangeCallback;\ntype TimeoutId = ReturnType<typeof window.setTimeout>;\n\nexport interface EventManager {\n  list: Map<Event, Callback[]>;\n  emitQueue: Map<Event, TimeoutId[]>;\n  on(event: Event.Show, callback: OnShowCallback): EventManager;\n  on(event: Event.Clear, callback: OnClearCallback): EventManager;\n  on(\n    event: Event.ClearWaitingQueue,\n    callback: OnClearWaitingQueue\n  ): EventManager;\n  on(event: Event.DidMount, callback: OnDidMountCallback): EventManager;\n  on(event: Event.WillUnmount, callback: OnWillUnmountCallback): EventManager;\n  on(event: Event.Change, callback: OnChangeCallback): EventManager;\n  off(event: Event, callback?: Callback): EventManager;\n  cancelEmit(event: Event): EventManager;\n  emit(\n    event: Event.Show,\n    content: React.ReactNode,\n    options: NotValidatedToastProps\n  ): void;\n  emit(event: Event.Clear, id?: string | number): void;\n  emit(event: Event.ClearWaitingQueue, params: ClearWaitingQueueParams): void;\n  emit(event: Event.DidMount, containerInstance: ContainerInstance): void;\n  emit(event: Event.WillUnmount, containerInstance: ContainerInstance): void;\n  emit(event: Event.Change, toast: number, containerId?: number | string): void;\n}\n\nexport const eventManager: EventManager = {\n  list: new Map(),\n  emitQueue: new Map(),\n\n  on(event: Event, callback: Callback) {\n    this.list.has(event) || this.list.set(event, []);\n    this.list.get(event)!.push(callback);\n    return this;\n  },\n\n  off(event, callback) {\n    if (callback) {\n      const cb = this.list.get(event)!.filter(cb => cb !== callback);\n      this.list.set(event, cb);\n      return this;\n    }\n    this.list.delete(event);\n    return this;\n  },\n\n  cancelEmit(event) {\n    const timers = this.emitQueue.get(event);\n    if (timers) {\n      timers.forEach(clearTimeout);\n      this.emitQueue.delete(event);\n    }\n\n    return this;\n  },\n\n  /**\n   * Enqueue the event at the end of the call stack\n   * Doing so let the user call toast as follow:\n   * toast('1')\n   * toast('2')\n   * toast('3')\n   * Without setTimemout the code above will not work\n   */\n  emit(event: Event, ...args: any[]) {\n    this.list.has(event) &&\n      this.list.get(event)!.forEach((callback: Callback) => {\n        const timer = setTimeout(() => {\n          // @ts-ignore\n          callback(...args);\n        }, 0);\n\n        this.emitQueue.has(event) || this.emitQueue.set(event, []);\n        this.emitQueue.get(event)!.push(timer);\n      });\n  }\n};\n","import { useRef, useEffect } from 'react';\n\n/**\n * `useKeeper` is a helper around `useRef`.\n *\n * You don't need to access the `.current`property to get the value\n * If refresh is set to true. The ref will be updated every render\n */\nexport function useKeeper<T>(arg: T, refresh = false) {\n  const ref = useRef<T>(arg);\n\n  useEffect(() => {\n    if (refresh) ref.current = arg;\n  });\n\n  return ref.current;\n}\n","import { Id } from '../types';\n\nimport { isToastIdValid } from '../utils';\n\nexport const enum ActionType {\n  ADD,\n  REMOVE\n}\nexport type State = Array<Id>;\nexport type Action =\n  | { type: ActionType.ADD; toastId: Id; staleId?: Id }\n  | { type: ActionType.REMOVE; toastId?: Id };\n\nexport function reducer(state: State, action: Action) {\n  switch (action.type) {\n    case ActionType.ADD:\n      return [...state, action.toastId].filter(id => id !== action.staleId);\n    case ActionType.REMOVE:\n      return isToastIdValid(action.toastId)\n        ? state.filter(id => id !== action.toastId)\n        : [];\n  }\n}\n","import {\n  useEffect,\n  useRef,\n  useReducer,\n  cloneElement,\n  isValidElement\n} from 'react';\nimport {\n  parseClassName,\n  canBeRendered,\n  isBool,\n  isFn,\n  isNum,\n  isStr,\n  isToastIdValid,\n  getAutoCloseDelay,\n  Direction,\n  Default\n} from '../utils';\nimport { eventManager, Event } from '../core/eventManager';\n\nimport {\n  Id,\n  ToastContainerProps,\n  ToastProps,\n  ToastContent,\n  Toast,\n  ToastPosition,\n  ClearWaitingQueueParams,\n  NotValidatedToastProps,\n  ToastTransition\n} from '../types';\nimport { useKeeper } from './useKeeper';\nimport { ActionType, reducer } from './toastContainerReducer';\n\ntype CollectionItem = Record<Id, Toast>;\ntype ToastToRender = Partial<Record<ToastPosition, Toast[]>>;\n\ninterface QueuedToast {\n  toastContent: ToastContent;\n  toastProps: ToastProps;\n  staleId?: Id;\n}\n\nexport interface ContainerInstance {\n  toastKey: number;\n  displayedToast: number;\n  props: ToastContainerProps;\n  containerId?: Id | null;\n  isToastActive: (toastId: Id) => boolean;\n  getToast: (id: Id) => Toast | null;\n}\n\nexport function useToastContainer(props: ToastContainerProps) {\n  const [, forceUpdate] = useReducer(x => x + 1, 0);\n  const [toast, dispatch] = useReducer(reducer, []);\n  const containerRef = useRef(null);\n  let toastCount = useKeeper(0);\n  let queue = useKeeper<QueuedToast[]>([]);\n  const collection = useKeeper<CollectionItem>({});\n  const instance = useKeeper<ContainerInstance>({\n    toastKey: 1,\n    displayedToast: 0,\n    props,\n    containerId: null,\n    isToastActive: isToastActive,\n    getToast: id => collection[id] || null\n  });\n\n  useEffect(() => {\n    instance.containerId = props.containerId;\n    eventManager\n      .cancelEmit(Event.WillUnmount)\n      .on(Event.Show, buildToast)\n      .on(Event.Clear, toastId => containerRef.current && removeToast(toastId))\n      .on(Event.ClearWaitingQueue, clearWaitingQueue)\n      .emit(Event.DidMount, instance);\n\n    return () => eventManager.emit(Event.WillUnmount, instance);\n  }, []);\n\n  useEffect(() => {\n    instance.isToastActive = isToastActive;\n    instance.displayedToast = toast.length;\n    eventManager.emit(Event.Change, toast.length, props.containerId);\n  }, [toast]);\n\n  useEffect(() => {\n    instance.props = props;\n  });\n\n  function isToastActive(id: Id) {\n    return toast.indexOf(id) !== -1;\n  }\n\n  function clearWaitingQueue({ containerId }: ClearWaitingQueueParams) {\n    const { limit } = instance.props;\n    if (limit && (!containerId || instance.containerId === containerId)) {\n      toastCount -= queue.length;\n      queue = [];\n    }\n  }\n\n  function removeToast(toastId?: Id) {\n    dispatch({ type: ActionType.REMOVE, toastId });\n  }\n\n  function dequeueToast() {\n    const { toastContent, toastProps, staleId } = queue.shift() as QueuedToast;\n    appendToast(toastContent, toastProps, staleId);\n  }\n\n  /**\n   * check if a container is attached to the dom\n   * check for multi-container, build only if associated\n   * check for duplicate toastId if no update\n   */\n  function isNotValid({\n    containerId,\n    toastId,\n    updateId\n  }: NotValidatedToastProps) {\n    return !containerRef.current ||\n      (instance.props.enableMultiContainer &&\n        containerId !== instance.props.containerId) ||\n      (collection[toastId] && updateId == null)\n      ? true\n      : false;\n  }\n\n  // this function and all the function called inside needs to rely on ref(`useKeeper`)\n  function buildToast(\n    content: ToastContent,\n    { delay, staleId, ...options }: NotValidatedToastProps\n  ) {\n    if (!canBeRendered(content) || isNotValid(options)) return;\n\n    const { toastId, updateId } = options;\n    const { props } = instance;\n    const closeToast = () => removeToast(toastId);\n    const isNotAnUpdate = options.updateId == null;\n\n    if (isNotAnUpdate) toastCount++;\n\n    const toastProps: ToastProps = {\n      toastId,\n      updateId,\n      isIn: false,\n      key: options.key || instance.toastKey++,\n      type: options.type,\n      closeToast: closeToast,\n      closeButton: options.closeButton,\n      rtl: props.rtl,\n      position: options.position || (props.position as ToastPosition),\n      transition: options.transition || (props.transition as ToastTransition),\n      className: parseClassName(options.className || props.toastClassName),\n      bodyClassName: parseClassName(\n        options.bodyClassName || props.bodyClassName\n      ),\n      style: options.style || props.toastStyle,\n      bodyStyle: options.bodyStyle || props.bodyStyle,\n      onClick: options.onClick || props.onClick,\n      pauseOnHover: isBool(options.pauseOnHover)\n        ? options.pauseOnHover\n        : props.pauseOnHover,\n      pauseOnFocusLoss: isBool(options.pauseOnFocusLoss)\n        ? options.pauseOnFocusLoss\n        : props.pauseOnFocusLoss,\n      draggable: isBool(options.draggable)\n        ? options.draggable\n        : props.draggable,\n      draggablePercent: isNum(options.draggablePercent)\n        ? options.draggablePercent\n        : (props.draggablePercent as number),\n      draggableDirection:\n        options.draggableDirection || props.draggableDirection,\n      closeOnClick: isBool(options.closeOnClick)\n        ? options.closeOnClick\n        : props.closeOnClick,\n      progressClassName: parseClassName(\n        options.progressClassName || props.progressClassName\n      ),\n      progressStyle: options.progressStyle || props.progressStyle,\n      autoClose: getAutoCloseDelay(options.autoClose, props.autoClose),\n      hideProgressBar: isBool(options.hideProgressBar)\n        ? options.hideProgressBar\n        : props.hideProgressBar,\n      progress: options.progress,\n      role: isStr(options.role) ? options.role : props.role,\n      deleteToast() {\n        removeFromCollection(toastId);\n      }\n    };\n\n    if (isFn(options.onOpen)) toastProps.onOpen = options.onOpen;\n    if (isFn(options.onClose)) toastProps.onClose = options.onClose;\n\n    //  tweak for vertical dragging\n    if (\n      toastProps.draggableDirection === Direction.Y &&\n      toastProps.draggablePercent === Default.DRAGGABLE_PERCENT\n    ) {\n      (toastProps.draggablePercent as number) *= 1.5;\n    }\n\n    let closeButton = props.closeButton;\n\n    if (options.closeButton === false || canBeRendered(options.closeButton)) {\n      closeButton = options.closeButton;\n    } else if (options.closeButton === true) {\n      closeButton = canBeRendered(props.closeButton) ? props.closeButton : true;\n    }\n\n    toastProps.closeButton = closeButton;\n\n    let toastContent = content;\n\n    if (isValidElement(content) && !isStr(content.type)) {\n      toastContent = cloneElement(content, {\n        closeToast,\n        toastProps\n      });\n    } else if (isFn(content)) {\n      toastContent = content({ closeToast, toastProps });\n    }\n\n    // not handling limit + delay by design. Waiting for user feedback first\n    if (\n      props.limit &&\n      props.limit > 0 &&\n      toastCount > props.limit &&\n      isNotAnUpdate\n    ) {\n      queue.push({ toastContent, toastProps, staleId });\n    } else if (isNum(delay) && (delay as number) > 0) {\n      setTimeout(() => {\n        appendToast(toastContent, toastProps, staleId);\n      }, delay);\n    } else {\n      appendToast(toastContent, toastProps, staleId);\n    }\n  }\n\n  function appendToast(\n    content: ToastContent,\n    toastProps: ToastProps,\n    staleId?: Id\n  ) {\n    const { toastId } = toastProps;\n\n    if (staleId) delete collection[staleId];\n\n    collection[toastId] = {\n      content,\n      props: toastProps\n    };\n    dispatch({\n      type: ActionType.ADD,\n      toastId,\n      staleId\n    });\n  }\n\n  function removeFromCollection(toastId: Id) {\n    delete collection[toastId];\n    const queueLen = queue.length;\n    toastCount = isToastIdValid(toastId)\n      ? toastCount - 1\n      : toastCount - instance.displayedToast;\n\n    if (toastCount < 0) toastCount = 0;\n\n    if (queueLen > 0) {\n      const freeSlot = isToastIdValid(toastId) ? 1 : instance.props.limit!;\n\n      if (queueLen === 1 || freeSlot === 1) {\n        instance.displayedToast++;\n        dequeueToast();\n      } else {\n        const toDequeue = freeSlot > queueLen ? queueLen : freeSlot;\n        instance.displayedToast = toDequeue;\n\n        for (let i = 0; i < toDequeue; i++) dequeueToast();\n      }\n    } else {\n      forceUpdate();\n    }\n  }\n\n  function getToastToRender<T>(\n    cb: (position: ToastPosition, toastList: Toast[]) => T\n  ) {\n    const toastToRender: ToastToRender = {};\n    const toastList = props.newestOnTop\n      ? Object.keys(collection).reverse()\n      : Object.keys(collection);\n\n    for (let i = 0; i < toastList.length; i++) {\n      const toast = collection[toastList[i]];\n      const { position } = toast.props;\n      toastToRender[position] || (toastToRender[position] = []);\n\n      toastToRender[position]!.push(toast);\n    }\n\n    return (Object.keys(toastToRender) as Array<ToastPosition>).map(p =>\n      cb(p, toastToRender[p]!)\n    );\n  }\n\n  return {\n    getToastToRender,\n    collection,\n    containerRef,\n    isToastActive\n  };\n}\n","import {\n  useState,\n  useRef,\n  useEffect,\n  isValidElement,\n  DOMAttributes\n} from 'react';\n\nimport { isFn } from '../utils';\nimport { ToastProps } from '../types';\nimport { useKeeper } from './useKeeper';\nimport { Direction } from '../utils/constant';\n\ninterface Draggable {\n  start: number;\n  x: number;\n  y: number;\n  delta: number;\n  removalDistance: number;\n  canCloseOnClick: boolean;\n  canDrag: boolean;\n  boundingRect: DOMRect | null;\n}\n\ntype DragEvent = MouseEvent & TouchEvent;\n\nfunction getX(e: DragEvent) {\n  return e.targetTouches && e.targetTouches.length >= 1\n    ? e.targetTouches[0].clientX\n    : e.clientX;\n}\n\nfunction getY(e: DragEvent) {\n  return e.targetTouches && e.targetTouches.length >= 1\n    ? e.targetTouches[0].clientY\n    : e.clientY;\n}\n\nexport function useToast(props: ToastProps) {\n  const [isRunning, setIsRunning] = useState(true);\n  const [preventExitTransition, setPreventExitTransition] = useState(false);\n  const toastRef = useRef<HTMLDivElement>(null);\n  const drag = useKeeper<Draggable>({\n    start: 0,\n    x: 0,\n    y: 0,\n    delta: 0,\n    removalDistance: 0,\n    canCloseOnClick: true,\n    canDrag: false,\n    boundingRect: null\n  });\n  const syncProps = useKeeper(props, true);\n  const { autoClose, pauseOnHover, closeToast, onClick, closeOnClick } = props;\n\n  useEffect(() => {\n    if (isFn(props.onOpen))\n      props.onOpen(isValidElement(props.children) && props.children.props);\n\n    return () => {\n      if (isFn(syncProps.onClose))\n        syncProps.onClose(\n          isValidElement(syncProps.children) && syncProps.children.props\n        );\n    };\n  }, []);\n\n  useEffect(() => {\n    props.draggable && bindDragEvents();\n    return () => {\n      props.draggable && unbindDragEvents();\n    };\n  }, [props.draggable]);\n\n  useEffect(() => {\n    props.pauseOnFocusLoss && bindFocusEvents();\n    return () => {\n      props.pauseOnFocusLoss && unbindFocusEvents();\n    };\n  }, [props.pauseOnFocusLoss]);\n\n  function onDragStart(\n    e: React.MouseEvent<HTMLElement, MouseEvent> | React.TouchEvent<HTMLElement>\n  ) {\n    if (props.draggable) {\n      const toast = toastRef.current!;\n      drag.canCloseOnClick = true;\n      drag.canDrag = true;\n      drag.boundingRect = toast.getBoundingClientRect();\n      toast.style.transition = '';\n      drag.x = getX(e.nativeEvent as DragEvent);\n      drag.y = getY(e.nativeEvent as DragEvent);\n\n      if (props.draggableDirection === Direction.X) {\n        drag.start = drag.x;\n        drag.removalDistance =\n          toast.offsetWidth * (props.draggablePercent / 100);\n      } else {\n        drag.start = drag.y;\n        drag.removalDistance =\n          toast.offsetHeight * (props.draggablePercent / 100);\n      }\n    }\n  }\n\n  function onDragTransitionEnd() {\n    if (drag.boundingRect) {\n      const { top, bottom, left, right } = drag.boundingRect;\n\n      if (\n        props.pauseOnHover &&\n        drag.x >= left &&\n        drag.x <= right &&\n        drag.y >= top &&\n        drag.y <= bottom\n      ) {\n        pauseToast();\n      } else {\n        playToast();\n      }\n    }\n  }\n\n  function playToast() {\n    setIsRunning(true);\n  }\n\n  function pauseToast() {\n    setIsRunning(false);\n  }\n\n  function bindFocusEvents() {\n    if (!document.hasFocus()) pauseToast();\n\n    window.addEventListener('focus', playToast);\n    window.addEventListener('blur', pauseToast);\n  }\n\n  function unbindFocusEvents() {\n    window.removeEventListener('focus', playToast);\n    window.removeEventListener('blur', pauseToast);\n  }\n\n  function bindDragEvents() {\n    document.addEventListener('mousemove', onDragMove);\n    document.addEventListener('mouseup', onDragEnd);\n\n    document.addEventListener('touchmove', onDragMove);\n    document.addEventListener('touchend', onDragEnd);\n  }\n\n  function unbindDragEvents() {\n    document.removeEventListener('mousemove', onDragMove);\n    document.removeEventListener('mouseup', onDragEnd);\n\n    document.removeEventListener('touchmove', onDragMove);\n    document.removeEventListener('touchend', onDragEnd);\n  }\n\n  function onDragMove(e: MouseEvent | TouchEvent) {\n    if (drag.canDrag) {\n      e.preventDefault();\n\n      const toast = toastRef.current!;\n      if (isRunning) pauseToast();\n\n      drag.x = getX(e as DragEvent);\n      drag.y = getY(e as DragEvent);\n\n      if (props.draggableDirection === Direction.X) {\n        drag.delta = drag.x - drag.start;\n      } else {\n        drag.delta = drag.y - drag.start;\n      }\n\n      // prevent false positif during a toast click\n      if (drag.start !== drag.x) drag.canCloseOnClick = false;\n\n      toast.style.transform = `translate${props.draggableDirection}(${drag.delta}px)`;\n      toast.style.opacity = `${1 -\n        Math.abs(drag.delta / drag.removalDistance)}`;\n    }\n  }\n\n  function onDragEnd() {\n    const toast = toastRef.current!;\n    if (drag.canDrag) {\n      drag.canDrag = false;\n\n      if (Math.abs(drag.delta) > drag.removalDistance) {\n        setPreventExitTransition(true);\n        props.closeToast();\n        return;\n      }\n\n      toast.style.transition = 'transform 0.2s, opacity 0.2s';\n      toast.style.transform = `translate${props.draggableDirection}(0)`;\n      toast.style.opacity = '1';\n    }\n  }\n\n  const eventHandlers: DOMAttributes<HTMLElement> = {\n    onMouseDown: onDragStart,\n    onTouchStart: onDragStart,\n    onMouseUp: onDragTransitionEnd,\n    onTouchEnd: onDragTransitionEnd\n  };\n\n  if (autoClose && pauseOnHover) {\n    eventHandlers.onMouseEnter = pauseToast;\n    eventHandlers.onMouseLeave = playToast;\n  }\n\n  // prevent toast from closing when user drags the toast\n  if (closeOnClick) {\n    eventHandlers.onClick = (e: React.MouseEvent) => {\n      onClick && onClick(e);\n      drag.canCloseOnClick && closeToast();\n    };\n  }\n\n  return {\n    playToast,\n    pauseToast,\n    isRunning,\n    preventExitTransition,\n    toastRef,\n    eventHandlers\n  };\n}\n","import * as React from 'react';\nimport { Default } from '../utils';\nimport { TypeOptions } from '../types';\n\nexport interface CloseButtonProps {\n  closeToast: (e: React.MouseEvent<HTMLElement>) => void;\n  type: TypeOptions;\n  ariaLabel?: string;\n}\n\nexport function CloseButton({\n  closeToast,\n  type,\n  ariaLabel = 'close'\n}: CloseButtonProps) {\n  return (\n    <button\n      className={`${Default.CSS_NAMESPACE}__close-button ${Default.CSS_NAMESPACE}__close-button--${type}`}\n      type=\"button\"\n      onClick={e => {\n        e.stopPropagation();\n        closeToast(e);\n      }}\n      aria-label={ariaLabel}\n    >\n      <svg aria-hidden=\"true\" viewBox=\"0 0 14 16\">\n        <path\n          fillRule=\"evenodd\"\n          d=\"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z\"\n        />\n      </svg>\n    </button>\n  );\n}\n","import * as React from 'react';\nimport cx from 'clsx';\n\nimport { TYPE, Default, isFn } from './../utils';\nimport { TypeOptions, ToastClassName } from '../types';\n\nexport interface ProgressBarProps {\n  /**\n   * The animation delay which determine when to close the toast\n   */\n  delay: number;\n\n  /**\n   * Whether or not the animation is running or paused\n   */\n  isRunning: boolean;\n\n  /**\n   * Func to close the current toast\n   */\n  closeToast: () => void;\n\n  /**\n   * Optional type : info, success ...\n   */\n  type: TypeOptions;\n\n  /**\n   * Hide or not the progress bar\n   */\n  hide?: boolean;\n\n  /**\n   * Optionnal className\n   */\n  className?: ToastClassName;\n\n  /**\n   * Optionnal inline style\n   */\n  style?: React.CSSProperties;\n\n  /**\n   * Tell wether or not controlled progress bar is used\n   */\n  controlledProgress?: boolean;\n\n  /**\n   * Controlled progress value\n   */\n  progress?: number | string;\n\n  /**\n   * Support rtl content\n   */\n  rtl?: boolean;\n\n  /**\n   * Tell if the component is visible on screen or not\n   */\n  isIn?: boolean;\n}\n\nexport function ProgressBar({\n  delay,\n  isRunning,\n  closeToast,\n  type,\n  hide,\n  className,\n  style: userStyle,\n  controlledProgress,\n  progress,\n  rtl,\n  isIn\n}: ProgressBarProps) {\n  const style: React.CSSProperties = {\n    ...userStyle,\n    animationDuration: `${delay}ms`,\n    animationPlayState: isRunning ? 'running' : 'paused',\n    opacity: hide ? 0 : 1\n  };\n\n  if (controlledProgress) style.transform = `scaleX(${progress})`;\n  const defaultClassName = cx(\n    `${Default.CSS_NAMESPACE}__progress-bar`,\n    controlledProgress\n      ? `${Default.CSS_NAMESPACE}__progress-bar--controlled`\n      : `${Default.CSS_NAMESPACE}__progress-bar--animated`,\n    `${Default.CSS_NAMESPACE}__progress-bar--${type}`,\n    {\n      [`${Default.CSS_NAMESPACE}__progress-bar--rtl`]: rtl\n    }\n  );\n  const classNames = isFn(className)\n    ? className({\n        rtl,\n        type,\n        defaultClassName\n      })\n    : cx(defaultClassName, className);\n\n  //  controlledProgress is derived from progress\n  // so if controlledProgress is set\n  // it means that this is also the case for progress\n  const animationEvent = {\n    [controlledProgress && progress! >= 1\n      ? 'onTransitionEnd'\n      : 'onAnimationEnd']:\n      controlledProgress && progress! < 1\n        ? null\n        : () => {\n            isIn && closeToast();\n          }\n  };\n\n  // TODO: add aria-valuenow, aria-valuemax, aria-valuemin\n\n  return (\n    <div\n      role=\"progressbar\"\n      aria-hidden={hide ? 'true' : 'false'}\n      aria-label=\"notification timer\"\n      className={classNames}\n      style={style}\n      {...animationEvent}\n    />\n  );\n}\n\nProgressBar.defaultProps = {\n  type: TYPE.DEFAULT,\n  hide: false\n};\n","import * as React from 'react';\nimport cx from 'clsx';\n\nimport { ProgressBar } from './ProgressBar';\nimport { ToastProps } from '../types';\nimport { Default, isFn } from '../utils';\nimport { useToast } from '../hooks';\n\nexport const Toast: React.FC<ToastProps> = props => {\n  const {\n    isRunning,\n    preventExitTransition,\n    toastRef,\n    eventHandlers\n  } = useToast(props);\n  const {\n    closeButton,\n    children,\n    autoClose,\n    onClick,\n    type,\n    hideProgressBar,\n    closeToast,\n    transition: Transition,\n    position,\n    className,\n    style,\n    bodyClassName,\n    bodyStyle,\n    progressClassName,\n    progressStyle,\n    updateId,\n    role,\n    progress,\n    rtl,\n    toastId,\n    deleteToast,\n    isIn\n  } = props;\n  const defaultClassName = cx(\n    `${Default.CSS_NAMESPACE}__toast`,\n    `${Default.CSS_NAMESPACE}__toast--${type}`,\n    {\n      [`${Default.CSS_NAMESPACE}__toast--rtl`]: rtl\n    }\n  );\n  const cssClasses = isFn(className)\n    ? className({\n        rtl,\n        position,\n        type,\n        defaultClassName\n      })\n    : cx(defaultClassName, className);\n  const isProgressControlled = !!progress;\n\n  function renderCloseButton(closeButton: any) {\n    if (!closeButton) return;\n\n    const props = { closeToast, type };\n\n    if (isFn(closeButton)) return closeButton(props);\n\n    if (React.isValidElement(closeButton))\n      return React.cloneElement(closeButton, props);\n  }\n\n  return (\n    <Transition\n      isIn={isIn}\n      done={deleteToast}\n      position={position}\n      preventExitTransition={preventExitTransition}\n      nodeRef={toastRef}\n    >\n      <div\n        id={toastId as string}\n        onClick={onClick}\n        className={cssClasses}\n        {...eventHandlers}\n        style={style}\n        ref={toastRef}\n      >\n        <div\n          {...(isIn && { role: role })}\n          className={\n            isFn(bodyClassName)\n              ? bodyClassName({ type })\n              : cx(`${Default.CSS_NAMESPACE}__toast-body`, bodyClassName)\n          }\n          style={bodyStyle}\n        >\n          {children}\n        </div>\n        {renderCloseButton(closeButton)}\n        {(autoClose || isProgressControlled) && (\n          <ProgressBar\n            {...(updateId && !isProgressControlled\n              ? { key: `pb-${updateId}` }\n              : {})}\n            rtl={rtl}\n            delay={autoClose as number}\n            isRunning={isRunning}\n            isIn={isIn}\n            closeToast={closeToast}\n            hide={hideProgressBar}\n            type={type}\n            style={progressStyle}\n            className={progressClassName}\n            controlledProgress={isProgressControlled}\n            progress={progress}\n          />\n        )}\n      </div>\n    </Transition>\n  );\n};\n","import { Default, cssTransition } from '../utils';\n\nconst Bounce = cssTransition({\n  enter: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__bounce-enter`,\n  exit: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__bounce-exit`,\n  appendPosition: true\n});\n\nconst Slide = cssTransition({\n  enter: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__slide-enter`,\n  exit: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__slide-exit`,\n  appendPosition: true\n});\n\nconst Zoom = cssTransition({\n  enter: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__zoom-enter`,\n  exit: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__zoom-exit`\n});\n\nconst Flip = cssTransition({\n  enter: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__flip-enter`,\n  exit: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__flip-exit`\n});\n\nexport { Bounce, Slide, Zoom, Flip };\n","import * as React from 'react';\nimport cx from 'clsx';\n\nimport { Toast } from './Toast';\nimport { CloseButton } from './CloseButton';\nimport { Bounce } from './Transitions';\nimport { POSITION, Direction, Default, parseClassName, isFn } from '../utils';\nimport { useToastContainer } from '../hooks';\nimport { ToastContainerProps, ToastPosition } from '../types';\n\nexport const ToastContainer: React.FC<ToastContainerProps> = props => {\n  const { getToastToRender, containerRef, isToastActive } = useToastContainer(\n    props\n  );\n  const { className, style, rtl, containerId } = props;\n\n  function getClassName(position: ToastPosition) {\n    const defaultClassName = cx(\n      `${Default.CSS_NAMESPACE}__toast-container`,\n      `${Default.CSS_NAMESPACE}__toast-container--${position}`,\n      { [`${Default.CSS_NAMESPACE}__toast-container--rtl`]: rtl }\n    );\n    return isFn(className)\n      ? className({\n          position,\n          rtl,\n          defaultClassName\n        })\n      : cx(defaultClassName, parseClassName(className));\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className={Default.CSS_NAMESPACE as string}\n      id={containerId as string}\n    >\n      {getToastToRender((position, toastList) => {\n        const containerStyle: React.CSSProperties =\n          toastList.length === 0\n            ? { ...style, pointerEvents: 'none' }\n            : { ...style };\n\n        return (\n          <div\n            className={getClassName(position)}\n            style={containerStyle}\n            key={`container-${position}`}\n          >\n            {toastList.map(({ content, props: toastProps }) => {\n              return (\n                <Toast\n                  {...toastProps}\n                  isIn={isToastActive(toastProps.toastId)}\n                  key={`toast-${toastProps.key}`}\n                  closeButton={\n                    toastProps.closeButton === true\n                      ? CloseButton\n                      : toastProps.closeButton\n                  }\n                >\n                  {content}\n                </Toast>\n              );\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nToastContainer.defaultProps = {\n  position: POSITION.TOP_RIGHT as ToastPosition,\n  transition: Bounce,\n  rtl: false,\n  autoClose: 5000,\n  hideProgressBar: false,\n  closeButton: CloseButton,\n  pauseOnHover: true,\n  pauseOnFocusLoss: true,\n  closeOnClick: true,\n  newestOnTop: false,\n  draggable: true,\n  draggablePercent: Default.DRAGGABLE_PERCENT as number,\n  draggableDirection: Direction.X,\n  role: 'alert'\n};\n","import * as React from 'react';\nimport { render } from 'react-dom';\n\nimport { POSITION, TYPE, canUseDom, isStr, isNum, isFn } from '../utils';\nimport { eventManager, OnChangeCallback, Event } from './eventManager';\nimport {\n  ToastContent,\n  ToastOptions,\n  ToastProps,\n  Id,\n  ToastContainerProps,\n  UpdateOptions,\n  ClearWaitingQueueParams,\n  NotValidatedToastProps\n} from '../types';\nimport { ContainerInstance } from 'hooks';\nimport { ToastContainer } from '../components';\n\ninterface EnqueuedToast {\n  content: ToastContent;\n  options: NotValidatedToastProps;\n}\n\nlet containers = new Map<ContainerInstance | Id, ContainerInstance>();\nlet latestInstance: ContainerInstance | Id;\nlet containerDomNode: HTMLElement;\nlet containerConfig: ToastContainerProps;\nlet queue: EnqueuedToast[] = [];\nlet lazy = false;\n\n/**\n * Check whether any container is currently mounted in the DOM\n */\nfunction isAnyContainerMounted() {\n  return containers.size > 0;\n}\n\n/**\n * Get the toast by id, given it's in the DOM, otherwise returns null\n */\nfunction getToast(toastId: Id, { containerId }: ToastOptions) {\n  const container = containers.get(containerId || latestInstance);\n  if (!container) return null;\n\n  return container.getToast(toastId);\n}\n\n/**\n * Generate a random toastId\n */\nfunction generateToastId() {\n  return Math.random()\n    .toString(36)\n    .substr(2, 9);\n}\n\n/**\n * Generate a toastId or use the one provided\n */\nfunction getToastId(options?: ToastOptions) {\n  if (options && (isStr(options.toastId) || isNum(options.toastId))) {\n    return options.toastId;\n  }\n\n  return generateToastId();\n}\n\n/**\n * If the container is not mounted, the toast is enqueued and\n * the container lazy mounted\n */\nfunction dispatchToast(\n  content: ToastContent,\n  options: NotValidatedToastProps\n): Id {\n  if (isAnyContainerMounted()) {\n    eventManager.emit(Event.Show, content, options);\n  } else {\n    queue.push({ content, options });\n    if (lazy && canUseDom) {\n      lazy = false;\n      containerDomNode = document.createElement('div');\n      document.body.appendChild(containerDomNode);\n      render(<ToastContainer {...containerConfig} />, containerDomNode);\n    }\n  }\n\n  return options.toastId;\n}\n\n/**\n * Merge provided options with the defaults settings and generate the toastId\n */\nfunction mergeOptions(type: string, options?: ToastOptions) {\n  return {\n    ...options,\n    type: (options && options.type) || type,\n    toastId: getToastId(options)\n  } as NotValidatedToastProps;\n}\n\nconst createToastByType = (type: string) => (\n  content: ToastContent,\n  options?: ToastOptions\n) => dispatchToast(content, mergeOptions(type, options));\n\nconst toast = (content: ToastContent, options?: ToastOptions) =>\n  dispatchToast(content, mergeOptions(TYPE.DEFAULT, options));\n\ntoast.success = createToastByType(TYPE.SUCCESS);\ntoast.info = createToastByType(TYPE.INFO);\ntoast.error = createToastByType(TYPE.ERROR);\ntoast.warning = createToastByType(TYPE.WARNING);\ntoast.dark = createToastByType(TYPE.DARK);\ntoast.warn = toast.warning;\n\n/**\n * Remove toast programmaticaly\n */\ntoast.dismiss = (id?: Id) => eventManager.emit(Event.Clear, id);\n\n/**\n * Clear waiting queue when limit is used\n */\ntoast.clearWaitingQueue = (params: ClearWaitingQueueParams = {}) =>\n  eventManager.emit(Event.ClearWaitingQueue, params);\n\n/**\n * return true if one container is displaying the toast\n */\ntoast.isActive = (id: Id) => {\n  let isToastActive = false;\n\n  containers.forEach(container => {\n    if (container.isToastActive && container.isToastActive(id)) {\n      isToastActive = true;\n    }\n  });\n\n  return isToastActive;\n};\n\ntoast.update = (toastId: Id, options: UpdateOptions = {}) => {\n  // if you call toast and toast.update directly nothing will be displayed\n  // this is why I defered the update\n  setTimeout(() => {\n    const toast = getToast(toastId, options as ToastOptions);\n    if (toast) {\n      const { props: oldOptions, content: oldContent } = toast;\n\n      const nextOptions = {\n        ...oldOptions,\n        ...options,\n        toastId: options.toastId || toastId,\n        updateId: generateToastId()\n      } as ToastProps & UpdateOptions;\n\n      if (nextOptions.toastId !== toastId) nextOptions.staleId = toastId;\n\n      const content = nextOptions.render || oldContent;\n      delete nextOptions.render;\n\n      dispatchToast(content, nextOptions);\n    }\n  }, 0);\n};\n\n/**\n * Used for controlled progress bar.\n */\ntoast.done = (id: Id) => {\n  toast.update(id, {\n    progress: 1\n  });\n};\n\n/**\n * Track changes. The callback get the number of toast displayed\n *\n */\ntoast.onChange = (callback: OnChangeCallback) => {\n  if (isFn(callback)) {\n    eventManager.on(Event.Change, callback);\n  }\n  return () => {\n    isFn(callback) && eventManager.off(Event.Change, callback);\n  };\n};\n\n/**\n * Configure the ToastContainer when lazy mounted\n */\ntoast.configure = (config: ToastContainerProps = {}) => {\n  lazy = true;\n  containerConfig = config;\n};\n\ntoast.POSITION = POSITION;\ntoast.TYPE = TYPE;\n\n/**\n * Wait until the ToastContainer is mounted to dispatch the toast\n * and attach isActive method\n */\neventManager\n  .on(Event.DidMount, (containerInstance: ContainerInstance) => {\n    latestInstance = containerInstance.containerId || containerInstance;\n    containers.set(latestInstance, containerInstance);\n\n    queue.forEach(item => {\n      eventManager.emit(Event.Show, item.content, item.options);\n    });\n\n    queue = [];\n  })\n  .on(Event.WillUnmount, (containerInstance: ContainerInstance) => {\n    containers.delete(containerInstance.containerId || containerInstance);\n\n    if (containers.size === 0) {\n      eventManager\n        .off(Event.Show)\n        .off(Event.Clear)\n        .off(Event.ClearWaitingQueue);\n    }\n\n    if (canUseDom && containerDomNode) {\n      document.body.removeChild(containerDomNode);\n    }\n  });\n\nexport { toast };\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var assignValue = require('./_assignValue'),\n    copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    isArrayLike = require('./isArrayLike'),\n    isPrototype = require('./_isPrototype'),\n    keys = require('./keys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nmodule.exports = assign;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","/*!\n  * chartjs-adapter-moment v1.0.0\n  * https://www.chartjs.org\n  * (c) 2021 chartjs-adapter-moment Contributors\n  * Released under the MIT license\n  */\nimport moment from 'moment';\nimport { _adapters } from 'chart.js';\n\nconst FORMATS = {\n  datetime: 'MMM D, YYYY, h:mm:ss a',\n  millisecond: 'h:mm:ss.SSS a',\n  second: 'h:mm:ss a',\n  minute: 'h:mm a',\n  hour: 'hA',\n  day: 'MMM D',\n  week: 'll',\n  month: 'MMM YYYY',\n  quarter: '[Q]Q - YYYY',\n  year: 'YYYY'\n};\n\n_adapters._date.override(typeof moment === 'function' ? {\n  _id: 'moment', // DEBUG ONLY\n\n  formats: function() {\n    return FORMATS;\n  },\n\n  parse: function(value, format) {\n    if (typeof value === 'string' && typeof format === 'string') {\n      value = moment(value, format);\n    } else if (!(value instanceof moment)) {\n      value = moment(value);\n    }\n    return value.isValid() ? value.valueOf() : null;\n  },\n\n  format: function(time, format) {\n    return moment(time).format(format);\n  },\n\n  add: function(time, amount, unit) {\n    return moment(time).add(amount, unit).valueOf();\n  },\n\n  diff: function(max, min, unit) {\n    return moment(max).diff(moment(min), unit);\n  },\n\n  startOf: function(time, unit, weekday) {\n    time = moment(time);\n    if (unit === 'isoWeek') {\n      weekday = Math.trunc(Math.min(Math.max(0, weekday), 6));\n      return time.isoWeekday(weekday).startOf('day').valueOf();\n    }\n    return time.startOf(unit).valueOf();\n  },\n\n  endOf: function(time, unit) {\n    return moment(time).endOf(unit).valueOf();\n  }\n} : {});\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lottieWeb = require('lottie-web');\n\nvar _lottieWeb2 = _interopRequireDefault(_lottieWeb);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Lottie = function (_React$Component) {\n  (0, _inherits3.default)(Lottie, _React$Component);\n\n  function Lottie() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Lottie);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Lottie.__proto__ || (0, _getPrototypeOf2.default)(Lottie)).call.apply(_ref, [this].concat(args))), _this), _this.handleClickToPause = function () {\n      // The pause() method is for handling pausing by passing a prop isPaused\n      // This method is for handling the ability to pause by clicking on the animation\n      if (_this.anim.isPaused) {\n        _this.anim.play();\n      } else {\n        _this.anim.pause();\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Lottie, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          options = _props.options,\n          eventListeners = _props.eventListeners;\n      var loop = options.loop,\n          autoplay = options.autoplay,\n          animationData = options.animationData,\n          rendererSettings = options.rendererSettings,\n          segments = options.segments;\n\n\n      this.options = {\n        container: this.el,\n        renderer: 'svg',\n        loop: loop !== false,\n        autoplay: autoplay !== false,\n        segments: segments !== false,\n        animationData: animationData,\n        rendererSettings: rendererSettings\n      };\n\n      this.options = (0, _extends3.default)({}, this.options, options);\n\n      this.anim = _lottieWeb2.default.loadAnimation(this.options);\n      this.registerEvents(eventListeners);\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps /* , nextState */) {\n      /* Recreate the animation handle if the data is changed */\n      if (this.options.animationData !== nextProps.options.animationData) {\n        this.deRegisterEvents(this.props.eventListeners);\n        this.destroy();\n        this.options = (0, _extends3.default)({}, this.options, nextProps.options);\n        this.anim = _lottieWeb2.default.loadAnimation(this.options);\n        this.registerEvents(nextProps.eventListeners);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isStopped) {\n        this.stop();\n      } else if (this.props.segments) {\n        this.playSegments();\n      } else {\n        this.play();\n      }\n\n      this.pause();\n      this.setSpeed();\n      this.setDirection();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.deRegisterEvents(this.props.eventListeners);\n      this.destroy();\n      this.options.animationData = null;\n      this.anim = null;\n    }\n  }, {\n    key: 'setSpeed',\n    value: function setSpeed() {\n      this.anim.setSpeed(this.props.speed);\n    }\n  }, {\n    key: 'setDirection',\n    value: function setDirection() {\n      this.anim.setDirection(this.props.direction);\n    }\n  }, {\n    key: 'play',\n    value: function play() {\n      this.anim.play();\n    }\n  }, {\n    key: 'playSegments',\n    value: function playSegments() {\n      this.anim.playSegments(this.props.segments);\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.anim.stop();\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      if (this.props.isPaused && !this.anim.isPaused) {\n        this.anim.pause();\n      } else if (!this.props.isPaused && this.anim.isPaused) {\n        this.anim.pause();\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.anim.destroy();\n    }\n  }, {\n    key: 'registerEvents',\n    value: function registerEvents(eventListeners) {\n      var _this2 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this2.anim.addEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'deRegisterEvents',\n    value: function deRegisterEvents(eventListeners) {\n      var _this3 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this3.anim.removeEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props2 = this.props,\n          width = _props2.width,\n          height = _props2.height,\n          ariaRole = _props2.ariaRole,\n          ariaLabel = _props2.ariaLabel,\n          isClickToPauseDisabled = _props2.isClickToPauseDisabled,\n          title = _props2.title;\n\n\n      var getSize = function getSize(initial) {\n        var size = void 0;\n\n        if (typeof initial === 'number') {\n          size = initial + 'px';\n        } else {\n          size = initial || '100%';\n        }\n\n        return size;\n      };\n\n      var lottieStyles = (0, _extends3.default)({\n        width: getSize(width),\n        height: getSize(height),\n        overflow: 'hidden',\n        margin: '0 auto',\n        outline: 'none'\n      }, this.props.style);\n\n      var onClickHandler = isClickToPauseDisabled ? function () {\n        return null;\n      } : this.handleClickToPause;\n\n      return (\n        // Bug with eslint rules https://github.com/airbnb/javascript/issues/1374\n        // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n        _react2.default.createElement('div', {\n          ref: function ref(c) {\n            _this4.el = c;\n          },\n          style: lottieStyles,\n          onClick: onClickHandler,\n          title: title,\n          role: ariaRole,\n          'aria-label': ariaLabel,\n          tabIndex: '0'\n        })\n      );\n    }\n  }]);\n  return Lottie;\n}(_react2.default.Component);\n\nexports.default = Lottie;\n\n\nLottie.propTypes = {\n  eventListeners: _propTypes2.default.arrayOf(_propTypes2.default.object),\n  options: _propTypes2.default.object.isRequired,\n  height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  isStopped: _propTypes2.default.bool,\n  isPaused: _propTypes2.default.bool,\n  speed: _propTypes2.default.number,\n  segments: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  direction: _propTypes2.default.number,\n  ariaRole: _propTypes2.default.string,\n  ariaLabel: _propTypes2.default.string,\n  isClickToPauseDisabled: _propTypes2.default.bool,\n  title: _propTypes2.default.string\n};\n\nLottie.defaultProps = {\n  eventListeners: [],\n  isStopped: false,\n  isPaused: false,\n  speed: 1,\n  ariaRole: 'button',\n  ariaLabel: 'animation',\n  isClickToPauseDisabled: false,\n  title: ''\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","(typeof navigator !== \"undefined\") && (function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(function() {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.lottie = factory(root);\n        root.bodymovin = root.lottie;\n    }\n}((window || {}), function(window) {\n\t/* global locationHref:writable, animationManager, subframeEnabled:writable, defaultCurveSegments:writable, roundValues,\r\nexpressionsPlugin:writable, PropertyFactory, ShapePropertyFactory, Matrix, idPrefix:writable, _useWebWorker:writable */\r\n/* exported locationHref, subframeEnabled, expressionsPlugin, idPrefix, _useWebWorker */\r\n\r\n'use strict';\r\n\r\n/* exported svgNS, locationHref, initialDefaultFrame, _useWebWorker */\r\n\r\nvar svgNS = 'http://www.w3.org/2000/svg';\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\nvar _useWebWorker = false;\r\n\r\n/* global createSizedArray */\r\n/* exported subframeEnabled, expressionsPlugin, isSafari, cachedColors, bmPow, bmSqrt, bmFloor, bmMax, bmMin, ProjectInterface,\r\ndefaultCurveSegments, degToRads, roundCorner, bmRnd, styleDiv, BMEnterFrameEvent, BMCompleteEvent, BMCompleteLoopEvent,\r\nBMSegmentStartEvent, BMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, BMAnimationConfigErrorEvent, createElementID,\r\naddSaturationToRGB, addBrightnessToRGB, addHueToRGB, rgbToHex */\r\n\r\nvar subframeEnabled = true;\r\nvar idPrefix = '';\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bmRnd;\r\nvar bmPow = Math.pow;\r\nvar bmSqrt = Math.sqrt;\r\nvar bmFloor = Math.floor;\r\nvar bmMax = Math.max;\r\nvar bmMin = Math.min;\r\n\r\nvar BMMath = {};\r\n(function () {\r\n  var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\r\n  var i;\r\n  var len = propertyNames.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n  }\r\n}());\r\n\r\nfunction ProjectInterface() { return {}; }\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function (val) {\r\n  var tOfVal = typeof val;\r\n  if (tOfVal === 'object' && val.length) {\r\n    var absArr = createSizedArray(val.length);\r\n    var i;\r\n    var len = val.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      absArr[i] = Math.abs(val[i]);\r\n    }\r\n    return absArr;\r\n  }\r\n  return Math.abs(val);\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI / 180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag) {\r\n  if (flag) {\r\n    bmRnd = Math.round;\r\n  } else {\r\n    bmRnd = function (val) {\r\n      return val;\r\n    };\r\n  }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element) {\r\n  element.style.position = 'absolute';\r\n  element.style.top = 0;\r\n  element.style.left = 0;\r\n  element.style.display = 'block';\r\n  element.style.transformOrigin = '0 0';\r\n  element.style.webkitTransformOrigin = '0 0';\r\n  element.style.backfaceVisibility = 'visible';\r\n  element.style.webkitBackfaceVisibility = 'visible';\r\n  element.style.transformStyle = 'preserve-3d';\r\n  element.style.webkitTransformStyle = 'preserve-3d';\r\n  element.style.mozTransformStyle = 'preserve-3d';\r\n}\r\n\r\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentTime = currentTime;\r\n  this.totalTime = totalTime;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteEvent(type, frameMultiplier) {\r\n  this.type = type;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentLoop = currentLoop;\r\n  this.totalLoops = totalLoops;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames) {\r\n  this.type = type;\r\n  this.firstFrame = firstFrame;\r\n  this.totalFrames = totalFrames;\r\n}\r\n\r\nfunction BMDestroyEvent(type, target) {\r\n  this.type = type;\r\n  this.target = target;\r\n}\r\n\r\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n  this.type = 'renderFrameError';\r\n  this.nativeError = nativeError;\r\n  this.currentTime = currentTime;\r\n}\r\n\r\nfunction BMConfigErrorEvent(nativeError) {\r\n  this.type = 'configError';\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\r\n  this.type = type;\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nvar createElementID = (function () {\r\n  var _count = 0;\r\n  return function createID() {\r\n    _count += 1;\r\n    return idPrefix + '__lottie_element_' + _count;\r\n  };\r\n}());\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n  var r;\r\n  var g;\r\n  var b;\r\n  var i;\r\n  var f;\r\n  var p;\r\n  var q;\r\n  var t;\r\n  i = Math.floor(h * 6);\r\n  f = h * 6 - i;\r\n  p = v * (1 - s);\r\n  q = v * (1 - f * s);\r\n  t = v * (1 - (1 - f) * s);\r\n  switch (i % 6) {\r\n    case 0: r = v; g = t; b = p; break;\r\n    case 1: r = q; g = v; b = p; break;\r\n    case 2: r = p; g = v; b = t; break;\r\n    case 3: r = p; g = q; b = v; break;\r\n    case 4: r = t; g = p; b = v; break;\r\n    case 5: r = v; g = p; b = q; break;\r\n    default: break;\r\n  }\r\n  return [r,\r\n    g,\r\n    b];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n  var max = Math.max(r, g, b);\r\n  var min = Math.min(r, g, b);\r\n  var d = max - min;\r\n  var h;\r\n  var s = (max === 0 ? 0 : d / max);\r\n  var v = max / 255;\r\n\r\n  switch (max) {\r\n    case min: h = 0; break;\r\n    case r: h = (g - b) + d * (g < b ? 6 : 0); h /= 6 * d; break;\r\n    case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n    case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    default: break;\r\n  }\r\n\r\n  return [\r\n    h,\r\n    s,\r\n    v,\r\n  ];\r\n}\r\n\r\nfunction addSaturationToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[1] += offset;\r\n  if (hsv[1] > 1) {\r\n    hsv[1] = 1;\r\n  } else if (hsv[1] <= 0) {\r\n    hsv[1] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[2] += offset;\r\n  if (hsv[2] > 1) {\r\n    hsv[2] = 1;\r\n  } else if (hsv[2] < 0) {\r\n    hsv[2] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[0] += offset / 360;\r\n  if (hsv[0] > 1) {\r\n    hsv[0] -= 1;\r\n  } else if (hsv[0] < 0) {\r\n    hsv[0] += 1;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function () {\r\n  var colorMap = [];\r\n  var i;\r\n  var hex;\r\n  for (i = 0; i < 256; i += 1) {\r\n    hex = i.toString(16);\r\n    colorMap[i] = hex.length === 1 ? '0' + hex : hex;\r\n  }\r\n\r\n  return function (r, g, b) {\r\n    if (r < 0) {\r\n      r = 0;\r\n    }\r\n    if (g < 0) {\r\n      g = 0;\r\n    }\r\n    if (b < 0) {\r\n      b = 0;\r\n    }\r\n    return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n  };\r\n}());\r\n\r\nfunction BaseEvent() {}\r\nBaseEvent.prototype = {\r\n  triggerEvent: function (eventName, args) {\r\n    if (this._cbs[eventName]) {\r\n      var callbacks = this._cbs[eventName];\r\n      for (var i = 0; i < callbacks.length; i += 1) {\r\n        callbacks[i](args);\r\n      }\r\n    }\r\n  },\r\n  addEventListener: function (eventName, callback) {\r\n    if (!this._cbs[eventName]) {\r\n      this._cbs[eventName] = [];\r\n    }\r\n    this._cbs[eventName].push(callback);\r\n\r\n    return function () {\r\n      this.removeEventListener(eventName, callback);\r\n    }.bind(this);\r\n  },\r\n  removeEventListener: function (eventName, callback) {\r\n    if (!callback) {\r\n      this._cbs[eventName] = null;\r\n    } else if (this._cbs[eventName]) {\r\n      var i = 0;\r\n      var len = this._cbs[eventName].length;\r\n      while (i < len) {\r\n        if (this._cbs[eventName][i] === callback) {\r\n          this._cbs[eventName].splice(i, 1);\r\n          i -= 1;\r\n          len -= 1;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!this._cbs[eventName].length) {\r\n        this._cbs[eventName] = null;\r\n      }\r\n    }\r\n  },\r\n};\r\n\r\n/* exported createTypedArray, createSizedArray */\r\n\r\nvar createTypedArray = (function () {\r\n  function createRegularArray(type, len) {\r\n    var i = 0;\r\n    var arr = [];\r\n    var value;\r\n    switch (type) {\r\n      case 'int16':\r\n      case 'uint8c':\r\n        value = 1;\r\n        break;\r\n      default:\r\n        value = 1.1;\r\n        break;\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      arr.push(value);\r\n    }\r\n    return arr;\r\n  }\r\n  function createTypedArrayFactory(type, len) {\r\n    if (type === 'float32') {\r\n      return new Float32Array(len);\r\n    } if (type === 'int16') {\r\n      return new Int16Array(len);\r\n    } if (type === 'uint8c') {\r\n      return new Uint8ClampedArray(len);\r\n    }\r\n    return createRegularArray(type, len);\r\n  }\r\n  if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n    return createTypedArrayFactory;\r\n  }\r\n  return createRegularArray;\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n  return Array.apply(null, { length: len });\r\n}\r\n\r\n/* global svgNS */\r\n/* exported createNS */\r\n\r\nfunction createNS(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElementNS(svgNS, type);\r\n}\r\n\r\n/* exported createTag */\r\n\r\nfunction createTag(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElement(type);\r\n}\r\n\r\nfunction DynamicPropertyContainer() {}\r\nDynamicPropertyContainer.prototype = {\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n      this.container.addDynamicProperty(this);\r\n      this._isAnimated = true;\r\n    }\r\n  },\r\n  iterateDynamicProperties: function () {\r\n    this._mdf = false;\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.dynamicProperties[i].getValue();\r\n      if (this.dynamicProperties[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  },\r\n  initDynamicPropertyContainer: function (container) {\r\n    this.container = container;\r\n    this.dynamicProperties = [];\r\n    this._mdf = false;\r\n    this._isAnimated = false;\r\n  },\r\n};\r\n\r\n/* exported getBlendMode */\r\n\r\nvar getBlendMode = (function () {\r\n  var blendModeEnums = {\r\n    0: 'source-over',\r\n    1: 'multiply',\r\n    2: 'screen',\r\n    3: 'overlay',\r\n    4: 'darken',\r\n    5: 'lighten',\r\n    6: 'color-dodge',\r\n    7: 'color-burn',\r\n    8: 'hard-light',\r\n    9: 'soft-light',\r\n    10: 'difference',\r\n    11: 'exclusion',\r\n    12: 'hue',\r\n    13: 'saturation',\r\n    14: 'color',\r\n    15: 'luminosity',\r\n  };\r\n\r\n  return function (mode) {\r\n    return blendModeEnums[mode] || '';\r\n  };\r\n}());\r\n\r\n/* exported lineCapEnum, lineJoinEnum */\r\n\r\nvar lineCapEnum = {\r\n  1: 'butt',\r\n  2: 'round',\r\n  3: 'square',\r\n};\r\n\r\nvar lineJoinEnum = {\r\n  1: 'miter',\r\n  2: 'round',\r\n  3: 'bevel',\r\n};\r\n\r\n/* global createTypedArray */\r\n\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function () {\r\n  var _cos = Math.cos;\r\n  var _sin = Math.sin;\r\n  var _tan = Math.tan;\r\n  var _rnd = Math.round;\r\n\r\n  function reset() {\r\n    this.props[0] = 1;\r\n    this.props[1] = 0;\r\n    this.props[2] = 0;\r\n    this.props[3] = 0;\r\n    this.props[4] = 0;\r\n    this.props[5] = 1;\r\n    this.props[6] = 0;\r\n    this.props[7] = 0;\r\n    this.props[8] = 0;\r\n    this.props[9] = 0;\r\n    this.props[10] = 1;\r\n    this.props[11] = 0;\r\n    this.props[12] = 0;\r\n    this.props[13] = 0;\r\n    this.props[14] = 0;\r\n    this.props[15] = 1;\r\n    return this;\r\n  }\r\n\r\n  function rotate(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateX(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateY(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateZ(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function shear(sx, sy) {\r\n    return this._t(1, sy, sx, 1, 0, 0);\r\n  }\r\n\r\n  function skew(ax, ay) {\r\n    return this.shear(_tan(ax), _tan(ay));\r\n  }\r\n\r\n  function skewFromAxis(ax, angle) {\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n    // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n  }\r\n\r\n  function scale(sx, sy, sz) {\r\n    if (!sz && sz !== 0) {\r\n      sz = 1;\r\n    }\r\n    if (sx === 1 && sy === 1 && sz === 1) {\r\n      return this;\r\n    }\r\n    return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n    this.props[0] = a;\r\n    this.props[1] = b;\r\n    this.props[2] = c;\r\n    this.props[3] = d;\r\n    this.props[4] = e;\r\n    this.props[5] = f;\r\n    this.props[6] = g;\r\n    this.props[7] = h;\r\n    this.props[8] = i;\r\n    this.props[9] = j;\r\n    this.props[10] = k;\r\n    this.props[11] = l;\r\n    this.props[12] = m;\r\n    this.props[13] = n;\r\n    this.props[14] = o;\r\n    this.props[15] = p;\r\n    return this;\r\n  }\r\n\r\n  function translate(tx, ty, tz) {\r\n    tz = tz || 0;\r\n    if (tx !== 0 || ty !== 0 || tz !== 0) {\r\n      return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n    var _p = this.props;\r\n\r\n    if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\r\n      // NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n      // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n      _p[12] = _p[12] * a2 + _p[15] * m2;\r\n      _p[13] = _p[13] * f2 + _p[15] * n2;\r\n      _p[14] = _p[14] * k2 + _p[15] * o2;\r\n      _p[15] *= p2;\r\n      // }\r\n      this._identityCalculated = false;\r\n      return this;\r\n    }\r\n\r\n    var a1 = _p[0];\r\n    var b1 = _p[1];\r\n    var c1 = _p[2];\r\n    var d1 = _p[3];\r\n    var e1 = _p[4];\r\n    var f1 = _p[5];\r\n    var g1 = _p[6];\r\n    var h1 = _p[7];\r\n    var i1 = _p[8];\r\n    var j1 = _p[9];\r\n    var k1 = _p[10];\r\n    var l1 = _p[11];\r\n    var m1 = _p[12];\r\n    var n1 = _p[13];\r\n    var o1 = _p[14];\r\n    var p1 = _p[15];\r\n\r\n    /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n    _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n    _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\r\n    _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\r\n    _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\r\n\r\n    _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\r\n    _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\r\n    _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\r\n    _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\r\n\r\n    _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\r\n    _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\r\n    _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\r\n    _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\r\n\r\n    _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\r\n    _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\r\n    _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\r\n    _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\r\n\r\n    this._identityCalculated = false;\r\n    return this;\r\n  }\r\n\r\n  function isIdentity() {\r\n    if (!this._identityCalculated) {\r\n      this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n      this._identityCalculated = true;\r\n    }\r\n    return this._identity;\r\n  }\r\n\r\n  function equals(matr) {\r\n    var i = 0;\r\n    while (i < 16) {\r\n      if (matr.props[i] !== this.props[i]) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function clone(matr) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      matr.props[i] = this.props[i];\r\n    }\r\n    return matr;\r\n  }\r\n\r\n  function cloneFromProps(props) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      this.props[i] = props[i];\r\n    }\r\n  }\r\n\r\n  function applyToPoint(x, y, z) {\r\n    return {\r\n      x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n      y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n      z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n    };\r\n    /* return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         }; */\r\n  }\r\n  function applyToX(x, y, z) {\r\n    return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n  }\r\n  function applyToY(x, y, z) {\r\n    return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n  }\r\n  function applyToZ(x, y, z) {\r\n    return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n  }\r\n\r\n  function getInverseMatrix() {\r\n    var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n    var a = this.props[5] / determinant;\r\n    var b = -this.props[1] / determinant;\r\n    var c = -this.props[4] / determinant;\r\n    var d = this.props[0] / determinant;\r\n    var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\r\n    var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\r\n    var inverseMatrix = new Matrix();\r\n    inverseMatrix.props[0] = a;\r\n    inverseMatrix.props[1] = b;\r\n    inverseMatrix.props[4] = c;\r\n    inverseMatrix.props[5] = d;\r\n    inverseMatrix.props[12] = e;\r\n    inverseMatrix.props[13] = f;\r\n    return inverseMatrix;\r\n  }\r\n\r\n  function inversePoint(pt) {\r\n    var inverseMatrix = this.getInverseMatrix();\r\n    return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\r\n  }\r\n\r\n  function inversePoints(pts) {\r\n    var i;\r\n    var len = pts.length;\r\n    var retPts = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      retPts[i] = inversePoint(pts[i]);\r\n    }\r\n    return retPts;\r\n  }\r\n\r\n  function applyToTriplePoints(pt1, pt2, pt3) {\r\n    var arr = createTypedArray('float32', 6);\r\n    if (this.isIdentity()) {\r\n      arr[0] = pt1[0];\r\n      arr[1] = pt1[1];\r\n      arr[2] = pt2[0];\r\n      arr[3] = pt2[1];\r\n      arr[4] = pt3[0];\r\n      arr[5] = pt3[1];\r\n    } else {\r\n      var p0 = this.props[0];\r\n      var p1 = this.props[1];\r\n      var p4 = this.props[4];\r\n      var p5 = this.props[5];\r\n      var p12 = this.props[12];\r\n      var p13 = this.props[13];\r\n      arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n      arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n      arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n      arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n      arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n      arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointArray(x, y, z) {\r\n    var arr;\r\n    if (this.isIdentity()) {\r\n      arr = [x, y, z];\r\n    } else {\r\n      arr = [\r\n        x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n        x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n        x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n      ];\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointStringified(x, y) {\r\n    if (this.isIdentity()) {\r\n      return x + ',' + y;\r\n    }\r\n    var _p = this.props;\r\n    return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n  }\r\n\r\n  function toCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var i = 0;\r\n    var props = this.props;\r\n    var cssValue = 'matrix3d(';\r\n    var v = 10000;\r\n    while (i < 16) {\r\n      cssValue += _rnd(props[i] * v) / v;\r\n      cssValue += i === 15 ? ')' : ',';\r\n      i += 1;\r\n    }\r\n    return cssValue;\r\n  }\r\n\r\n  function roundMatrixProperty(val) {\r\n    var v = 10000;\r\n    if ((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\r\n      return _rnd(val * v) / v;\r\n    }\r\n    return val;\r\n  }\r\n\r\n  function to2dCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var props = this.props;\r\n    var _a = roundMatrixProperty(props[0]);\r\n    var _b = roundMatrixProperty(props[1]);\r\n    var _c = roundMatrixProperty(props[4]);\r\n    var _d = roundMatrixProperty(props[5]);\r\n    var _e = roundMatrixProperty(props[12]);\r\n    var _f = roundMatrixProperty(props[13]);\r\n    return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\r\n  }\r\n\r\n  return function () {\r\n    this.reset = reset;\r\n    this.rotate = rotate;\r\n    this.rotateX = rotateX;\r\n    this.rotateY = rotateY;\r\n    this.rotateZ = rotateZ;\r\n    this.skew = skew;\r\n    this.skewFromAxis = skewFromAxis;\r\n    this.shear = shear;\r\n    this.scale = scale;\r\n    this.setTransform = setTransform;\r\n    this.translate = translate;\r\n    this.transform = transform;\r\n    this.applyToPoint = applyToPoint;\r\n    this.applyToX = applyToX;\r\n    this.applyToY = applyToY;\r\n    this.applyToZ = applyToZ;\r\n    this.applyToPointArray = applyToPointArray;\r\n    this.applyToTriplePoints = applyToTriplePoints;\r\n    this.applyToPointStringified = applyToPointStringified;\r\n    this.toCSS = toCSS;\r\n    this.to2dCSS = to2dCSS;\r\n    this.clone = clone;\r\n    this.cloneFromProps = cloneFromProps;\r\n    this.equals = equals;\r\n    this.inversePoints = inversePoints;\r\n    this.inversePoint = inversePoint;\r\n    this.getInverseMatrix = getInverseMatrix;\r\n    this._t = this.transform;\r\n    this.isIdentity = isIdentity;\r\n    this._identity = true;\r\n    this._identityCalculated = false;\r\n\r\n    this.props = createTypedArray('float32', 16);\r\n    this.reset();\r\n  };\r\n}());\r\n\r\n/* eslint-disable */\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\n/* eslint-disable */\r\nvar BezierFactory = (function () {\r\n  /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gatan Renaudeau 2014 - 2015  MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n  var ob = {};\r\n  ob.getBezierEasing = getBezierEasing;\r\n  var beziers = {};\r\n\r\n  function getBezierEasing(a, b, c, d, nm) {\r\n    var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\r\n    if (beziers[str]) {\r\n      return beziers[str];\r\n    }\r\n    var bezEasing = new BezierEasing([a, b, c, d]);\r\n    beziers[str] = bezEasing;\r\n    return bezEasing;\r\n  }\r\n\r\n  // These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n  var NEWTON_ITERATIONS = 4;\r\n  var NEWTON_MIN_SLOPE = 0.001;\r\n  var SUBDIVISION_PRECISION = 0.0000001;\r\n  var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n  var kSplineTableSize = 11;\r\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n  var float32ArraySupported = typeof Float32Array === 'function';\r\n\r\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n  function C(aA1) { return 3.0 * aA1; }\r\n\r\n  // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n  function calcBezier(aT, aA1, aA2) {\r\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\r\n  }\r\n\r\n  // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n  function getSlope(aT, aA1, aA2) {\r\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n  }\r\n\r\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\r\n    var currentX,\r\n      currentT,\r\n      i = 0;\r\n    do {\r\n      currentT = aA + (aB - aA) / 2.0;\r\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n      if (currentX > 0.0) {\r\n        aB = currentT;\r\n      } else {\r\n        aA = currentT;\r\n      }\r\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n    return currentT;\r\n  }\r\n\r\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\r\n    for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n      if (currentSlope === 0.0) return aGuessT;\r\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n      aGuessT -= currentX / currentSlope;\r\n    }\r\n    return aGuessT;\r\n  }\r\n\r\n  /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n  function BezierEasing(points) {\r\n    this._p = points;\r\n    this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n    this._precomputed = false;\r\n\r\n    this.get = this.get.bind(this);\r\n  }\r\n\r\n  BezierEasing.prototype = {\r\n\r\n    get: function (x) {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      if (!this._precomputed) this._precompute();\r\n      if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n      // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n      if (x === 0) return 0;\r\n      if (x === 1) return 1;\r\n      return calcBezier(this._getTForX(x), mY1, mY2);\r\n    },\r\n\r\n    // Private part\r\n\r\n    _precompute: function () {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      this._precomputed = true;\r\n      if (mX1 !== mY1 || mX2 !== mY2) { this._calcSampleValues(); }\r\n    },\r\n\r\n    _calcSampleValues: function () {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2];\r\n      for (var i = 0; i < kSplineTableSize; ++i) {\r\n        this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n      }\r\n    },\r\n\r\n    /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n    _getTForX: function (aX) {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2],\r\n        mSampleValues = this._mSampleValues;\r\n\r\n      var intervalStart = 0.0;\r\n      var currentSample = 1;\r\n      var lastSample = kSplineTableSize - 1;\r\n\r\n      for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n        intervalStart += kSampleStepSize;\r\n      }\r\n      --currentSample;\r\n\r\n      // Interpolate to provide an initial guess for t\r\n      var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\r\n      var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n      var initialSlope = getSlope(guessForT, mX1, mX2);\r\n      if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n      } if (initialSlope === 0.0) {\r\n        return guessForT;\r\n      }\r\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n    },\r\n  };\r\n\r\n  return ob;\r\n}());\r\n\r\n(function () {\r\n  var lastTime = 0;\r\n  var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) { // eslint-disable-line no-plusplus\r\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n  }\r\n  if (!window.requestAnimationFrame) {\r\n    window.requestAnimationFrame = function (callback) {\r\n      var currTime = new Date().getTime();\r\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n      var id = setTimeout(function () {\r\n        callback(currTime + timeToCall);\r\n      },\r\n      timeToCall);\r\n      lastTime = currTime + timeToCall;\r\n      return id;\r\n    };\r\n  }\r\n  if (!window.cancelAnimationFrame) {\r\n    window.cancelAnimationFrame = function (id) {\r\n      clearTimeout(id);\r\n    };\r\n  }\r\n}());\r\n\r\n/* exported extendPrototype, getDescriptor, createProxyFunction */\r\n\r\nfunction extendPrototype(sources, destination) {\r\n  var i;\r\n  var len = sources.length;\r\n  var sourcePrototype;\r\n  for (i = 0; i < len; i += 1) {\r\n    sourcePrototype = sources[i].prototype;\r\n    for (var attr in sourcePrototype) {\r\n      if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n    }\r\n  }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n  return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n  function ProxyFunction() {}\r\n  ProxyFunction.prototype = prototype;\r\n  return ProxyFunction;\r\n}\r\n\r\n/* global segmentsLengthPool, defaultCurveSegments, createSizedArray, bmPow, bmSqrt, bmFloor, createTypedArray, bezierLengthPool */\r\n/* exported bez */\r\n\r\nfunction bezFunction() {\r\n  var math = Math;\r\n\r\n  function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\r\n    var det1 = (x1 * y2) + (y1 * x3) + (x2 * y3) - (x3 * y2) - (y3 * x1) - (x2 * y1);\r\n    return det1 > -0.001 && det1 < 0.001;\r\n  }\r\n\r\n  function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\r\n    if (z1 === 0 && z2 === 0 && z3 === 0) {\r\n      return pointOnLine2D(x1, y1, x2, y2, x3, y3);\r\n    }\r\n    var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\r\n    var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\r\n    var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\r\n    var diffDist;\r\n    if (dist1 > dist2) {\r\n      if (dist1 > dist3) {\r\n        diffDist = dist1 - dist2 - dist3;\r\n      } else {\r\n        diffDist = dist3 - dist2 - dist1;\r\n      }\r\n    } else if (dist3 > dist2) {\r\n      diffDist = dist3 - dist2 - dist1;\r\n    } else {\r\n      diffDist = dist2 - dist1 - dist3;\r\n    }\r\n    return diffDist > -0.0001 && diffDist < 0.0001;\r\n  }\r\n\r\n  var getBezierLength = (function () {\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var curveSegments = defaultCurveSegments;\r\n      var k;\r\n      var i;\r\n      var len;\r\n      var ptCoord;\r\n      var perc;\r\n      var addedLength = 0;\r\n      var ptDistance;\r\n      var point = [];\r\n      var lastPoint = [];\r\n      var lengthData = bezierLengthPool.newElement();\r\n      len = pt3.length;\r\n      for (k = 0; k < curveSegments; k += 1) {\r\n        perc = k / (curveSegments - 1);\r\n        ptDistance = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n          ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\r\n          point[i] = ptCoord;\r\n          if (lastPoint[i] !== null) {\r\n            ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n          }\r\n          lastPoint[i] = point[i];\r\n        }\r\n        if (ptDistance) {\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n        }\r\n        lengthData.percents[k] = perc;\r\n        lengthData.lengths[k] = addedLength;\r\n      }\r\n      lengthData.addedLength = addedLength;\r\n      return lengthData;\r\n    };\r\n  }());\r\n\r\n  function getSegmentsLength(shapeData) {\r\n    var segmentsLength = segmentsLengthPool.newElement();\r\n    var closed = shapeData.c;\r\n    var pathV = shapeData.v;\r\n    var pathO = shapeData.o;\r\n    var pathI = shapeData.i;\r\n    var i;\r\n    var len = shapeData._length;\r\n    var lengths = segmentsLength.lengths;\r\n    var totalLength = 0;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    if (closed && len) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    segmentsLength.totalLength = totalLength;\r\n    return segmentsLength;\r\n  }\r\n\r\n  function BezierData(length) {\r\n    this.segmentLength = 0;\r\n    this.points = new Array(length);\r\n  }\r\n\r\n  function PointData(partial, point) {\r\n    this.partialLength = partial;\r\n    this.point = point;\r\n  }\r\n\r\n  var buildBezierData = (function () {\r\n    var storedData = {};\r\n\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\r\n      if (!storedData[bezierName]) {\r\n        var curveSegments = defaultCurveSegments;\r\n        var k;\r\n        var i;\r\n        var len;\r\n        var ptCoord;\r\n        var perc;\r\n        var addedLength = 0;\r\n        var ptDistance;\r\n        var point;\r\n        var lastPoint = null;\r\n        if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\r\n          curveSegments = 2;\r\n        }\r\n        var bezierData = new BezierData(curveSegments);\r\n        len = pt3.length;\r\n        for (k = 0; k < curveSegments; k += 1) {\r\n          point = createSizedArray(len);\r\n          perc = k / (curveSegments - 1);\r\n          ptDistance = 0;\r\n          for (i = 0; i < len; i += 1) {\r\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\r\n            point[i] = ptCoord;\r\n            if (lastPoint !== null) {\r\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n            }\r\n          }\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n          bezierData.points[k] = new PointData(ptDistance, point);\r\n          lastPoint = point;\r\n        }\r\n        bezierData.segmentLength = addedLength;\r\n        storedData[bezierName] = bezierData;\r\n      }\r\n      return storedData[bezierName];\r\n    };\r\n  }());\r\n\r\n  function getDistancePerc(perc, bezierData) {\r\n    var percents = bezierData.percents;\r\n    var lengths = bezierData.lengths;\r\n    var len = percents.length;\r\n    var initPos = bmFloor((len - 1) * perc);\r\n    var lengthPos = perc * bezierData.addedLength;\r\n    var lPerc = 0;\r\n    if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\r\n      return percents[initPos];\r\n    }\r\n    var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n    var flag = true;\r\n    while (flag) {\r\n      if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\r\n        lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\r\n        flag = false;\r\n      } else {\r\n        initPos += dir;\r\n      }\r\n      if (initPos < 0 || initPos >= len - 1) {\r\n        // FIX for TypedArrays that don't store floating point values with enough accuracy\r\n        if (initPos === len - 1) {\r\n          return percents[initPos];\r\n        }\r\n        flag = false;\r\n      }\r\n    }\r\n    return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\r\n  }\r\n\r\n  function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n    var t1 = getDistancePerc(percent, bezierData);\r\n    var u1 = 1 - t1;\r\n    var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\r\n    var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\r\n    return [ptX, ptY];\r\n  }\r\n\r\n  var bezierSegmentPoints = createTypedArray('float32', 8);\r\n\r\n  function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\r\n    if (startPerc < 0) {\r\n      startPerc = 0;\r\n    } else if (startPerc > 1) {\r\n      startPerc = 1;\r\n    }\r\n    var t0 = getDistancePerc(startPerc, bezierData);\r\n    endPerc = endPerc > 1 ? 1 : endPerc;\r\n    var t1 = getDistancePerc(endPerc, bezierData);\r\n    var i;\r\n    var len = pt1.length;\r\n    var u0 = 1 - t0;\r\n    var u1 = 1 - t1;\r\n    var u0u0u0 = u0 * u0 * u0;\r\n    var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0t0 = t0 * t0 * t0;\r\n    //\r\n    var u0u0u1 = u0 * u0 * u1;\r\n    var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0t1 = t0 * t0 * t1;\r\n    //\r\n    var u0u1u1 = u0 * u1 * u1;\r\n    var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1t1 = t0 * t1 * t1;\r\n    //\r\n    var u1u1u1 = u1 * u1 * u1;\r\n    var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1t1 = t1 * t1 * t1;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n    }\r\n\r\n    return bezierSegmentPoints;\r\n  }\r\n\r\n  return {\r\n    getSegmentsLength: getSegmentsLength,\r\n    getNewSegment: getNewSegment,\r\n    getPointInSegment: getPointInSegment,\r\n    buildBezierData: buildBezierData,\r\n    pointOnLine2D: pointOnLine2D,\r\n    pointOnLine3D: pointOnLine3D,\r\n  };\r\n}\r\n\r\nvar bez = bezFunction();\r\n\r\n/* global _useWebWorker */\r\n\r\nvar dataManager = (function () {\r\n  var _counterId = 1;\r\n  var processes = [];\r\n  var workerFn;\r\n  var workerInstance;\r\n  var workerProxy = {\r\n    onmessage: function () {\r\n\r\n    },\r\n    postMessage: function (path) {\r\n      workerFn({\r\n        data: path,\r\n      });\r\n    },\r\n  };\r\n  var _workerSelf = {\r\n    postMessage: function (data) {\r\n      workerProxy.onmessage({\r\n        data: data,\r\n      });\r\n    },\r\n  };\r\n  function createWorker(fn) {\r\n    if (window.Worker && window.Blob && _useWebWorker) {\r\n      var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], { type: 'text/javascript' });\r\n      // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\r\n      var url = URL.createObjectURL(blob);\r\n      return new Worker(url);\r\n    }\r\n    workerFn = fn;\r\n    return workerProxy;\r\n  }\r\n\r\n  function setupWorker() {\r\n    if (!workerInstance) {\r\n      workerInstance = createWorker(function workerStart(e) {\r\n        /* exported dataManager */\r\n\r\n        function dataFunctionManager() {\r\n          // var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n          function completeLayers(layers, comps) {\r\n            var layerData;\r\n            var i;\r\n            var len = layers.length;\r\n            var j;\r\n            var jLen;\r\n            var k;\r\n            var kLen;\r\n            for (i = 0; i < len; i += 1) {\r\n              layerData = layers[i];\r\n              if (('ks' in layerData) && !layerData.completed) {\r\n                layerData.completed = true;\r\n                if (layerData.tt) {\r\n                  layers[i - 1].td = layerData.tt;\r\n                }\r\n                if (layerData.hasMask) {\r\n                  var maskProps = layerData.masksProperties;\r\n                  jLen = maskProps.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (maskProps[j].pt.k.i) {\r\n                      convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n                    } else {\r\n                      kLen = maskProps[j].pt.k.length;\r\n                      for (k = 0; k < kLen; k += 1) {\r\n                        if (maskProps[j].pt.k[k].s) {\r\n                          convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                        }\r\n                        if (maskProps[j].pt.k[k].e) {\r\n                          convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                if (layerData.ty === 0) {\r\n                  layerData.layers = findCompLayers(layerData.refId, comps);\r\n                  completeLayers(layerData.layers, comps);\r\n                } else if (layerData.ty === 4) {\r\n                  completeShapes(layerData.shapes);\r\n                } else if (layerData.ty === 5) {\r\n                  completeText(layerData);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          function findCompLayers(id, comps) {\r\n            var i = 0;\r\n            var len = comps.length;\r\n            while (i < len) {\r\n              if (comps[i].id === id) {\r\n                if (!comps[i].layers.__used) {\r\n                  comps[i].layers.__used = true;\r\n                  return comps[i].layers;\r\n                }\r\n                return JSON.parse(JSON.stringify(comps[i].layers));\r\n              }\r\n              i += 1;\r\n            }\r\n            return null;\r\n          }\r\n\r\n          function completeShapes(arr) {\r\n            var i;\r\n            var len = arr.length;\r\n            var j;\r\n            var jLen;\r\n            for (i = len - 1; i >= 0; i -= 1) {\r\n              if (arr[i].ty === 'sh') {\r\n                if (arr[i].ks.k.i) {\r\n                  convertPathsToAbsoluteValues(arr[i].ks.k);\r\n                } else {\r\n                  jLen = arr[i].ks.k.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (arr[i].ks.k[j].s) {\r\n                      convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n                    }\r\n                    if (arr[i].ks.k[j].e) {\r\n                      convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n                    }\r\n                  }\r\n                }\r\n              } else if (arr[i].ty === 'gr') {\r\n                completeShapes(arr[i].it);\r\n              }\r\n            }\r\n          }\r\n\r\n          function convertPathsToAbsoluteValues(path) {\r\n            var i;\r\n            var len = path.i.length;\r\n            for (i = 0; i < len; i += 1) {\r\n              path.i[i][0] += path.v[i][0];\r\n              path.i[i][1] += path.v[i][1];\r\n              path.o[i][0] += path.v[i][0];\r\n              path.o[i][1] += path.v[i][1];\r\n            }\r\n          }\r\n\r\n          function checkVersion(minimum, animVersionString) {\r\n            var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\r\n            if (minimum[0] > animVersion[0]) {\r\n              return true;\r\n            } if (animVersion[0] > minimum[0]) {\r\n              return false;\r\n            }\r\n            if (minimum[1] > animVersion[1]) {\r\n              return true;\r\n            } if (animVersion[1] > minimum[1]) {\r\n              return false;\r\n            }\r\n            if (minimum[2] > animVersion[2]) {\r\n              return true;\r\n            } if (animVersion[2] > minimum[2]) {\r\n              return false;\r\n            }\r\n            return null;\r\n          }\r\n\r\n          var checkText = (function () {\r\n            var minimumVersion = [4, 4, 14];\r\n\r\n            function updateTextLayer(textLayer) {\r\n              var documentData = textLayer.t.d;\r\n              textLayer.t.d = {\r\n                k: [\r\n                  {\r\n                    s: documentData,\r\n                    t: 0,\r\n                  },\r\n                ],\r\n              };\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 5) {\r\n                  updateTextLayer(layers[i]);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkChars = (function () {\r\n            var minimumVersion = [4, 7, 99];\r\n            return function (animationData) {\r\n              if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\r\n                var i;\r\n                var len = animationData.chars.length;\r\n                var j;\r\n                var jLen;\r\n                var pathData;\r\n                var paths;\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n                    paths = animationData.chars[i].data.shapes[0].it;\r\n                    jLen = paths.length;\r\n\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      pathData = paths[j].ks.k;\r\n                      if (!pathData.__converted) {\r\n                        convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                        pathData.__converted = true;\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkPathProperties = (function () {\r\n            var minimumVersion = [5, 7, 15];\r\n\r\n            function updateTextLayer(textLayer) {\r\n              var pathData = textLayer.t.p;\r\n              if (typeof pathData.a === 'number') {\r\n                pathData.a = {\r\n                  a: 0,\r\n                  k: pathData.a,\r\n                };\r\n              }\r\n              if (typeof pathData.p === 'number') {\r\n                pathData.p = {\r\n                  a: 0,\r\n                  k: pathData.p,\r\n                };\r\n              }\r\n              if (typeof pathData.r === 'number') {\r\n                pathData.r = {\r\n                  a: 0,\r\n                  k: pathData.r,\r\n                };\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 5) {\r\n                  updateTextLayer(layers[i]);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkColors = (function () {\r\n            var minimumVersion = [4, 1, 9];\r\n\r\n            function iterateShapes(shapes) {\r\n              var i;\r\n              var len = shapes.length;\r\n              var j;\r\n              var jLen;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (shapes[i].ty === 'gr') {\r\n                  iterateShapes(shapes[i].it);\r\n                } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\r\n                  if (shapes[i].c.k && shapes[i].c.k[0].i) {\r\n                    jLen = shapes[i].c.k.length;\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (shapes[i].c.k[j].s) {\r\n                        shapes[i].c.k[j].s[0] /= 255;\r\n                        shapes[i].c.k[j].s[1] /= 255;\r\n                        shapes[i].c.k[j].s[2] /= 255;\r\n                        shapes[i].c.k[j].s[3] /= 255;\r\n                      }\r\n                      if (shapes[i].c.k[j].e) {\r\n                        shapes[i].c.k[j].e[0] /= 255;\r\n                        shapes[i].c.k[j].e[1] /= 255;\r\n                        shapes[i].c.k[j].e[2] /= 255;\r\n                        shapes[i].c.k[j].e[3] /= 255;\r\n                      }\r\n                    }\r\n                  } else {\r\n                    shapes[i].c.k[0] /= 255;\r\n                    shapes[i].c.k[1] /= 255;\r\n                    shapes[i].c.k[2] /= 255;\r\n                    shapes[i].c.k[3] /= 255;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 4) {\r\n                  iterateShapes(layers[i].shapes);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkShapes = (function () {\r\n            var minimumVersion = [4, 4, 18];\r\n\r\n            function completeClosingShapes(arr) {\r\n              var i;\r\n              var len = arr.length;\r\n              var j;\r\n              var jLen;\r\n              for (i = len - 1; i >= 0; i -= 1) {\r\n                if (arr[i].ty === 'sh') {\r\n                  if (arr[i].ks.k.i) {\r\n                    arr[i].ks.k.c = arr[i].closed;\r\n                  } else {\r\n                    jLen = arr[i].ks.k.length;\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (arr[i].ks.k[j].s) {\r\n                        arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n                      }\r\n                      if (arr[i].ks.k[j].e) {\r\n                        arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n                      }\r\n                    }\r\n                  }\r\n                } else if (arr[i].ty === 'gr') {\r\n                  completeClosingShapes(arr[i].it);\r\n                }\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var layerData;\r\n              var i;\r\n              var len = layers.length;\r\n              var j;\r\n              var jLen;\r\n              var k;\r\n              var kLen;\r\n              for (i = 0; i < len; i += 1) {\r\n                layerData = layers[i];\r\n                if (layerData.hasMask) {\r\n                  var maskProps = layerData.masksProperties;\r\n                  jLen = maskProps.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (maskProps[j].pt.k.i) {\r\n                      maskProps[j].pt.k.c = maskProps[j].cl;\r\n                    } else {\r\n                      kLen = maskProps[j].pt.k.length;\r\n                      for (k = 0; k < kLen; k += 1) {\r\n                        if (maskProps[j].pt.k[k].s) {\r\n                          maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                        }\r\n                        if (maskProps[j].pt.k[k].e) {\r\n                          maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                if (layerData.ty === 4) {\r\n                  completeClosingShapes(layerData.shapes);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          function completeData(animationData) {\r\n            if (animationData.__complete) {\r\n              return;\r\n            }\r\n            checkColors(animationData);\r\n            checkText(animationData);\r\n            checkChars(animationData);\r\n            checkPathProperties(animationData);\r\n            checkShapes(animationData);\r\n            completeLayers(animationData.layers, animationData.assets);\r\n            animationData.__complete = true;\r\n          }\r\n\r\n          function completeText(data) {\r\n            if (data.t.a.length === 0 && !('m' in data.t.p)) {\r\n              data.singleShape = true;\r\n            }\r\n          }\r\n\r\n          var moduleOb = {};\r\n          moduleOb.completeData = completeData;\r\n          moduleOb.checkColors = checkColors;\r\n          moduleOb.checkChars = checkChars;\r\n          moduleOb.checkPathProperties = checkPathProperties;\r\n          moduleOb.checkShapes = checkShapes;\r\n          moduleOb.completeLayers = completeLayers;\r\n\r\n          return moduleOb;\r\n        }\r\n        if (!_workerSelf.dataManager) {\r\n          _workerSelf.dataManager = dataFunctionManager();\r\n        }\r\n\r\n        /* exported assetLoader */\r\n        if (!_workerSelf.assetLoader) {\r\n          _workerSelf.assetLoader = (function () {\r\n            function formatResponse(xhr) {\r\n              // using typeof doubles the time of execution of this method,\r\n              // so if available, it's better to use the header to validate the type\r\n              var contentTypeHeader = xhr.getResponseHeader('content-type');\r\n              if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\r\n                return xhr.response;\r\n              }\r\n              if (xhr.response && typeof xhr.response === 'object') {\r\n                return xhr.response;\r\n              } if (xhr.response && typeof xhr.response === 'string') {\r\n                return JSON.parse(xhr.response);\r\n              } if (xhr.responseText) {\r\n                return JSON.parse(xhr.responseText);\r\n              }\r\n              return null;\r\n            }\r\n\r\n            function loadAsset(path, fullPath, callback, errorCallback) {\r\n              var response;\r\n              var xhr = new XMLHttpRequest();\r\n              // set responseType after calling open or IE will break.\r\n              try {\r\n                // This crashes on Android WebView prior to KitKat\r\n                xhr.responseType = 'json';\r\n              } catch (err) {} // eslint-disable-line no-empty\r\n              xhr.onreadystatechange = function () {\r\n                if (xhr.readyState === 4) {\r\n                  if (xhr.status === 200) {\r\n                    response = formatResponse(xhr);\r\n                    callback(response);\r\n                  } else {\r\n                    try {\r\n                      response = formatResponse(xhr);\r\n                      callback(response);\r\n                    } catch (err) {\r\n                      if (errorCallback) {\r\n                        errorCallback(err);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n              try {\r\n                xhr.open('GET', path, true);\r\n              } catch (error) {\r\n                xhr.open('GET', fullPath + '/' + path, true);\r\n              }\r\n              xhr.send();\r\n            }\r\n            return {\r\n              load: loadAsset,\r\n            };\r\n          }());\r\n        }\r\n\r\n        if (e.data.type === 'loadAnimation') {\r\n          _workerSelf.assetLoader.load(\r\n            e.data.path,\r\n            e.data.fullPath,\r\n            function (data) {\r\n              _workerSelf.dataManager.completeData(data);\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success',\r\n              });\r\n            },\r\n            function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error',\r\n              });\r\n            }\r\n          );\r\n        } else if (e.data.type === 'complete') {\r\n          var animation = e.data.animation;\r\n          _workerSelf.dataManager.completeData(animation);\r\n          _workerSelf.postMessage({\r\n            id: e.data.id,\r\n            payload: animation,\r\n            status: 'success',\r\n          });\r\n        } else if (e.data.type === 'loadData') {\r\n          _workerSelf.assetLoader.load(\r\n            e.data.path,\r\n            e.data.fullPath,\r\n            function (data) {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success',\r\n              });\r\n            },\r\n            function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error',\r\n              });\r\n            }\r\n          );\r\n        }\r\n      });\r\n\r\n      workerInstance.onmessage = function (event) {\r\n        var data = event.data;\r\n        var id = data.id;\r\n        var process = processes[id];\r\n        processes[id] = null;\r\n        if (data.status === 'success') {\r\n          process.onComplete(data.payload);\r\n        } else if (process.onError) {\r\n          process.onError();\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  function createProcess(onComplete, onError) {\r\n    _counterId += 1;\r\n    var id = 'processId_' + _counterId;\r\n    processes[id] = {\r\n      onComplete: onComplete,\r\n      onError: onError,\r\n    };\r\n    return id;\r\n  }\r\n\r\n  function loadAnimation(path, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'loadAnimation',\r\n      path: path,\r\n      fullPath: window.location.origin + window.location.pathname,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  function loadData(path, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'loadData',\r\n      path: path,\r\n      fullPath: window.location.origin + window.location.pathname,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  function completeAnimation(anim, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'complete',\r\n      animation: anim,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  return {\r\n    loadAnimation: loadAnimation,\r\n    loadData: loadData,\r\n    completeAnimation: completeAnimation,\r\n  };\r\n}());\r\n\r\n/* exported getFontProperties */\r\n\r\nfunction getFontProperties(fontData) {\r\n  var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n\r\n  var fWeight = 'normal'; var\r\n    fStyle = 'normal';\r\n  var len = styles.length;\r\n  var styleName;\r\n  for (var i = 0; i < len; i += 1) {\r\n    styleName = styles[i].toLowerCase();\r\n    switch (styleName) {\r\n      case 'italic':\r\n        fStyle = 'italic';\r\n        break;\r\n      case 'bold':\r\n        fWeight = '700';\r\n        break;\r\n      case 'black':\r\n        fWeight = '900';\r\n        break;\r\n      case 'medium':\r\n        fWeight = '500';\r\n        break;\r\n      case 'regular':\r\n      case 'normal':\r\n        fWeight = '400';\r\n        break;\r\n      case 'light':\r\n      case 'thin':\r\n        fWeight = '200';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return {\r\n    style: fStyle,\r\n    weight: fontData.fWeight || fWeight,\r\n  };\r\n}\r\n\r\n/* global createNS, createTag, getFontProperties */\r\n/* exported FontManager */\r\n\r\nvar FontManager = (function () {\r\n  var maxWaitingTime = 5000;\r\n  var emptyChar = {\r\n    w: 0,\r\n    size: 0,\r\n    shapes: [],\r\n  };\r\n  var combinedCharacters = [];\r\n  // Hindi characters\r\n  combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366,\r\n    2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379,\r\n    2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n  var surrogateModifiers = [\r\n    'd83cdffb',\r\n    'd83cdffc',\r\n    'd83cdffd',\r\n    'd83cdffe',\r\n    'd83cdfff',\r\n  ];\r\n\r\n  var zeroWidthJoiner = [65039, 8205];\r\n\r\n  function trimFontOptions(font) {\r\n    var familyArray = font.split(',');\r\n    var i;\r\n    var len = familyArray.length;\r\n    var enabledFamilies = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n        enabledFamilies.push(familyArray[i]);\r\n      }\r\n    }\r\n    return enabledFamilies.join(',');\r\n  }\r\n\r\n  function setUpNode(font, family) {\r\n    var parentNode = createTag('span');\r\n    // Node is invisible to screen readers.\r\n    parentNode.setAttribute('aria-hidden', true);\r\n    parentNode.style.fontFamily = family;\r\n    var node = createTag('span');\r\n    // Characters that vary significantly among different fonts\r\n    node.innerText = 'giItT1WQy@!-/#';\r\n    // Visible - so we can measure it - but not on the screen\r\n    parentNode.style.position = 'absolute';\r\n    parentNode.style.left = '-10000px';\r\n    parentNode.style.top = '-10000px';\r\n    // Large font size makes even subtle changes obvious\r\n    parentNode.style.fontSize = '300px';\r\n    // Reset any font properties\r\n    parentNode.style.fontVariant = 'normal';\r\n    parentNode.style.fontStyle = 'normal';\r\n    parentNode.style.fontWeight = 'normal';\r\n    parentNode.style.letterSpacing = '0';\r\n    parentNode.appendChild(node);\r\n    document.body.appendChild(parentNode);\r\n\r\n    // Remember width with no applied web font\r\n    var width = node.offsetWidth;\r\n    node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n    return { node: node, w: width, parent: parentNode };\r\n  }\r\n\r\n  function checkLoadedFonts() {\r\n    var i;\r\n    var len = this.fonts.length;\r\n    var node;\r\n    var w;\r\n    var loadedCount = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.fonts[i].loaded) {\r\n        loadedCount -= 1;\r\n      } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\r\n        this.fonts[i].loaded = true;\r\n      } else {\r\n        node = this.fonts[i].monoCase.node;\r\n        w = this.fonts[i].monoCase.w;\r\n        if (node.offsetWidth !== w) {\r\n          loadedCount -= 1;\r\n          this.fonts[i].loaded = true;\r\n        } else {\r\n          node = this.fonts[i].sansCase.node;\r\n          w = this.fonts[i].sansCase.w;\r\n          if (node.offsetWidth !== w) {\r\n            loadedCount -= 1;\r\n            this.fonts[i].loaded = true;\r\n          }\r\n        }\r\n        if (this.fonts[i].loaded) {\r\n          this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n          this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\r\n      setTimeout(this.checkLoadedFontsBinded, 20);\r\n    } else {\r\n      setTimeout(this.setIsLoadedBinded, 10);\r\n    }\r\n  }\r\n\r\n  function createHelper(def, fontData) {\r\n    var tHelper = createNS('text');\r\n    tHelper.style.fontSize = '100px';\r\n    // tHelper.style.fontFamily = fontData.fFamily;\r\n\r\n    var fontProps = getFontProperties(fontData);\r\n    tHelper.setAttribute('font-family', fontData.fFamily);\r\n    tHelper.setAttribute('font-style', fontProps.style);\r\n    tHelper.setAttribute('font-weight', fontProps.weight);\r\n    tHelper.textContent = '1';\r\n    if (fontData.fClass) {\r\n      tHelper.style.fontFamily = 'inherit';\r\n      tHelper.setAttribute('class', fontData.fClass);\r\n    } else {\r\n      tHelper.style.fontFamily = fontData.fFamily;\r\n    }\r\n    def.appendChild(tHelper);\r\n    var tCanvasHelper = createTag('canvas').getContext('2d');\r\n    tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px ' + fontData.fFamily;\r\n    // tCanvasHelper.font = ' 100px '+ fontData.fFamily;\r\n    return tHelper;\r\n  }\r\n\r\n  function addFonts(fontData, defs) {\r\n    if (!fontData) {\r\n      this.isLoaded = true;\r\n      return;\r\n    }\r\n    if (this.chars) {\r\n      this.isLoaded = true;\r\n      this.fonts = fontData.list;\r\n      return;\r\n    }\r\n\r\n    var fontArr = fontData.list;\r\n    var i;\r\n    var len = fontArr.length;\r\n    var _pendingFonts = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      var shouldLoadFont = true;\r\n      var loadedSelector;\r\n      var j;\r\n      fontArr[i].loaded = false;\r\n      fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\r\n      fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\r\n      if (!fontArr[i].fPath) {\r\n        fontArr[i].loaded = true;\r\n        _pendingFonts -= 1;\r\n      } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\r\n        loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\r\n\r\n        if (loadedSelector.length > 0) {\r\n          shouldLoadFont = false;\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var s = createTag('style');\r\n          s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          s.setAttribute('f-origin', fontArr[i].origin);\r\n          s.setAttribute('f-family', fontArr[i].fFamily);\r\n          s.type = 'text/css';\r\n          s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\r\n          defs.appendChild(s);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\r\n        loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var l = createTag('link');\r\n          l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          l.setAttribute('f-origin', fontArr[i].origin);\r\n          l.type = 'text/css';\r\n          l.rel = 'stylesheet';\r\n          l.href = fontArr[i].fPath;\r\n          document.body.appendChild(l);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\r\n        loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (fontArr[i].fPath === loadedSelector[j].src) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var sc = createTag('link');\r\n          sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          sc.setAttribute('f-origin', fontArr[i].origin);\r\n          sc.setAttribute('rel', 'stylesheet');\r\n          sc.setAttribute('href', fontArr[i].fPath);\r\n          defs.appendChild(sc);\r\n        }\r\n      }\r\n      fontArr[i].helper = createHelper(defs, fontArr[i]);\r\n      fontArr[i].cache = {};\r\n      this.fonts.push(fontArr[i]);\r\n    }\r\n    if (_pendingFonts === 0) {\r\n      this.isLoaded = true;\r\n    } else {\r\n      // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n      // Adding this timeout seems to fix it\r\n      setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n    }\r\n  }\r\n\r\n  function addChars(chars) {\r\n    if (!chars) {\r\n      return;\r\n    }\r\n    if (!this.chars) {\r\n      this.chars = [];\r\n    }\r\n    var i;\r\n    var len = chars.length;\r\n    var j;\r\n    var jLen = this.chars.length;\r\n    var found;\r\n    for (i = 0; i < len; i += 1) {\r\n      j = 0;\r\n      found = false;\r\n      while (j < jLen) {\r\n        if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\r\n          found = true;\r\n        }\r\n        j += 1;\r\n      }\r\n      if (!found) {\r\n        this.chars.push(chars[i]);\r\n        jLen += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function getCharData(char, style, font) {\r\n    var i = 0;\r\n    var len = this.chars.length;\r\n    while (i < len) {\r\n      if (this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font) {\r\n        return this.chars[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    if (((typeof char === 'string' && char.charCodeAt(0) !== 13) || !char)\r\n            && console\r\n            && console.warn // eslint-disable-line no-console\r\n            && !this._warned\r\n    ) {\r\n      this._warned = true;\r\n      console.warn('Missing character from exported characters list: ', char, style, font); // eslint-disable-line no-console\r\n    }\r\n    return emptyChar;\r\n  }\r\n\r\n  function measureText(char, fontName, size) {\r\n    var fontData = this.getFontByName(fontName);\r\n    var index = char.charCodeAt(0);\r\n    if (!fontData.cache[index + 1]) {\r\n      var tHelper = fontData.helper;\r\n      // Canvas version\r\n      // fontData.cache[index] = tHelper.measureText(char).width / 100;\r\n      // SVG version\r\n      // console.log(tHelper.getBBox().width)\r\n      if (char === ' ') {\r\n        tHelper.textContent = '|' + char + '|';\r\n        var doubleSize = tHelper.getComputedTextLength();\r\n        tHelper.textContent = '||';\r\n        var singleSize = tHelper.getComputedTextLength();\r\n        fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\r\n      } else {\r\n        tHelper.textContent = char;\r\n        fontData.cache[index + 1] = (tHelper.getComputedTextLength()) / 100;\r\n      }\r\n    }\r\n    return fontData.cache[index + 1] * size;\r\n  }\r\n\r\n  function getFontByName(name) {\r\n    var i = 0;\r\n    var len = this.fonts.length;\r\n    while (i < len) {\r\n      if (this.fonts[i].fName === name) {\r\n        return this.fonts[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    return this.fonts[0];\r\n  }\r\n\r\n  function isModifier(firstCharCode, secondCharCode) {\r\n    var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\r\n    return surrogateModifiers.indexOf(sum) !== -1;\r\n  }\r\n\r\n  function isZeroWidthJoiner(firstCharCode, secondCharCode) {\r\n    if (!secondCharCode) {\r\n      return firstCharCode === zeroWidthJoiner[1];\r\n    }\r\n    return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\r\n  }\r\n\r\n  function isCombinedCharacter(char) {\r\n    return combinedCharacters.indexOf(char) !== -1;\r\n  }\r\n\r\n  function setIsLoaded() {\r\n    this.isLoaded = true;\r\n  }\r\n\r\n  var Font = function () {\r\n    this.fonts = [];\r\n    this.chars = null;\r\n    this.typekitLoaded = 0;\r\n    this.isLoaded = false;\r\n    this._warned = false;\r\n    this.initTime = Date.now();\r\n    this.setIsLoadedBinded = this.setIsLoaded.bind(this);\r\n    this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\r\n  };\r\n  Font.isModifier = isModifier;\r\n  Font.isZeroWidthJoiner = isZeroWidthJoiner;\r\n  Font.isCombinedCharacter = isCombinedCharacter;\r\n\r\n  var fontPrototype = {\r\n    addChars: addChars,\r\n    addFonts: addFonts,\r\n    getCharData: getCharData,\r\n    getFontByName: getFontByName,\r\n    measureText: measureText,\r\n    checkLoadedFonts: checkLoadedFonts,\r\n    setIsLoaded: setIsLoaded,\r\n  };\r\n\r\n  Font.prototype = fontPrototype;\r\n\r\n  return Font;\r\n}());\r\n\r\n/* global initialDefaultFrame, BezierFactory, degToRads, bez, createTypedArray */\r\n/* exported PropertyFactory */\r\n\r\nvar PropertyFactory = (function () {\r\n  var initFrame = initialDefaultFrame;\r\n  var mathAbs = Math.abs;\r\n\r\n  function interpolateValue(frameNum, caching) {\r\n    var offsetTime = this.offsetTime;\r\n    var newValue;\r\n    if (this.propType === 'multidimensional') {\r\n      newValue = createTypedArray('float32', this.pv.length);\r\n    }\r\n    var iterationIndex = caching.lastIndex;\r\n    var i = iterationIndex;\r\n    var len = this.keyframes.length - 1;\r\n    var flag = true;\r\n    var keyData;\r\n    var nextKeyData;\r\n    var keyframeMetadata;\r\n\r\n    while (flag) {\r\n      keyData = this.keyframes[i];\r\n      nextKeyData = this.keyframes[i + 1];\r\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\r\n        if (keyData.h) {\r\n          keyData = nextKeyData;\r\n        }\r\n        iterationIndex = 0;\r\n        break;\r\n      }\r\n      if ((nextKeyData.t - offsetTime) > frameNum) {\r\n        iterationIndex = i;\r\n        break;\r\n      }\r\n      if (i < len - 1) {\r\n        i += 1;\r\n      } else {\r\n        iterationIndex = 0;\r\n        flag = false;\r\n      }\r\n    }\r\n    keyframeMetadata = this.keyframesMetadata[i] || {};\r\n\r\n    var k;\r\n    var kLen;\r\n    var perc;\r\n    var jLen;\r\n    var j;\r\n    var fnc;\r\n    var nextKeyTime = nextKeyData.t - offsetTime;\r\n    var keyTime = keyData.t - offsetTime;\r\n    var endValue;\r\n    if (keyData.to) {\r\n      if (!keyframeMetadata.bezierData) {\r\n        keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n      }\r\n      var bezierData = keyframeMetadata.bezierData;\r\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n        kLen = bezierData.points[ind].point.length;\r\n        for (k = 0; k < kLen; k += 1) {\r\n          newValue[k] = bezierData.points[ind].point[k];\r\n        }\r\n        // caching._lastKeyframeIndex = -1;\r\n      } else {\r\n        if (keyframeMetadata.__fnct) {\r\n          fnc = keyframeMetadata.__fnct;\r\n        } else {\r\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n          keyframeMetadata.__fnct = fnc;\r\n        }\r\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n        var distanceInLine = bezierData.segmentLength * perc;\r\n\r\n        var segmentPerc;\r\n        var addedLength = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\r\n        j = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\r\n        flag = true;\r\n        jLen = bezierData.points.length;\r\n        while (flag) {\r\n          addedLength += bezierData.points[j].partialLength;\r\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k];\r\n            }\r\n            break;\r\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n            }\r\n            break;\r\n          }\r\n          if (j < jLen - 1) {\r\n            j += 1;\r\n          } else {\r\n            flag = false;\r\n          }\r\n        }\r\n        caching._lastPoint = j;\r\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n        caching._lastKeyframeIndex = i;\r\n      }\r\n    } else {\r\n      var outX;\r\n      var outY;\r\n      var inX;\r\n      var inY;\r\n      var keyValue;\r\n      len = keyData.s.length;\r\n      endValue = nextKeyData.s || keyData.e;\r\n      if (this.sh && keyData.h !== 1) {\r\n        if (frameNum >= nextKeyTime) {\r\n          newValue[0] = endValue[0];\r\n          newValue[1] = endValue[1];\r\n          newValue[2] = endValue[2];\r\n        } else if (frameNum <= keyTime) {\r\n          newValue[0] = keyData.s[0];\r\n          newValue[1] = keyData.s[1];\r\n          newValue[2] = keyData.s[2];\r\n        } else {\r\n          var quatStart = createQuaternion(keyData.s);\r\n          var quatEnd = createQuaternion(endValue);\r\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n        }\r\n      } else {\r\n        for (i = 0; i < len; i += 1) {\r\n          if (keyData.h !== 1) {\r\n            if (frameNum >= nextKeyTime) {\r\n              perc = 1;\r\n            } else if (frameNum < keyTime) {\r\n              perc = 0;\r\n            } else {\r\n              if (keyData.o.x.constructor === Array) {\r\n                if (!keyframeMetadata.__fnct) {\r\n                  keyframeMetadata.__fnct = [];\r\n                }\r\n                if (!keyframeMetadata.__fnct[i]) {\r\n                  outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\r\n                  outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\r\n                  inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\r\n                  inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\r\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                  keyframeMetadata.__fnct[i] = fnc;\r\n                } else {\r\n                  fnc = keyframeMetadata.__fnct[i];\r\n                }\r\n              } else if (!keyframeMetadata.__fnct) {\r\n                outX = keyData.o.x;\r\n                outY = keyData.o.y;\r\n                inX = keyData.i.x;\r\n                inY = keyData.i.y;\r\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                keyData.keyframeMetadata = fnc;\r\n              } else {\r\n                fnc = keyframeMetadata.__fnct;\r\n              }\r\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n            }\r\n          }\r\n\r\n          endValue = nextKeyData.s || keyData.e;\r\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n          if (this.propType === 'multidimensional') {\r\n            newValue[i] = keyValue;\r\n          } else {\r\n            newValue = keyValue;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    caching.lastIndex = iterationIndex;\r\n    return newValue;\r\n  }\r\n\r\n  // based on @Toji's https://github.com/toji/gl-matrix/\r\n  function slerp(a, b, t) {\r\n    var out = [];\r\n    var ax = a[0];\r\n    var ay = a[1];\r\n    var az = a[2];\r\n    var aw = a[3];\r\n    var bx = b[0];\r\n    var by = b[1];\r\n    var bz = b[2];\r\n    var bw = b[3];\r\n\r\n    var omega;\r\n    var cosom;\r\n    var sinom;\r\n    var scale0;\r\n    var scale1;\r\n\r\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n    if (cosom < 0.0) {\r\n      cosom = -cosom;\r\n      bx = -bx;\r\n      by = -by;\r\n      bz = -bz;\r\n      bw = -bw;\r\n    }\r\n    if ((1.0 - cosom) > 0.000001) {\r\n      omega = Math.acos(cosom);\r\n      sinom = Math.sin(omega);\r\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n      scale1 = Math.sin(t * omega) / sinom;\r\n    } else {\r\n      scale0 = 1.0 - t;\r\n      scale1 = t;\r\n    }\r\n    out[0] = scale0 * ax + scale1 * bx;\r\n    out[1] = scale0 * ay + scale1 * by;\r\n    out[2] = scale0 * az + scale1 * bz;\r\n    out[3] = scale0 * aw + scale1 * bw;\r\n\r\n    return out;\r\n  }\r\n\r\n  function quaternionToEuler(out, quat) {\r\n    var qx = quat[0];\r\n    var qy = quat[1];\r\n    var qz = quat[2];\r\n    var qw = quat[3];\r\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\r\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\r\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\r\n    out[0] = heading / degToRads;\r\n    out[1] = attitude / degToRads;\r\n    out[2] = bank / degToRads;\r\n  }\r\n\r\n  function createQuaternion(values) {\r\n    var heading = values[0] * degToRads;\r\n    var attitude = values[1] * degToRads;\r\n    var bank = values[2] * degToRads;\r\n    var c1 = Math.cos(heading / 2);\r\n    var c2 = Math.cos(attitude / 2);\r\n    var c3 = Math.cos(bank / 2);\r\n    var s1 = Math.sin(heading / 2);\r\n    var s2 = Math.sin(attitude / 2);\r\n    var s3 = Math.sin(bank / 2);\r\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n\r\n    return [x, y, z, w];\r\n  }\r\n\r\n  function getValueAtCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    if (!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))) {\r\n      if (this._caching.lastFrame >= frameNum) {\r\n        this._caching._lastKeyframeIndex = -1;\r\n        this._caching.lastIndex = 0;\r\n      }\r\n\r\n      var renderResult = this.interpolateValue(frameNum, this._caching);\r\n      this.pv = renderResult;\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function setVValue(val) {\r\n    var multipliedValue;\r\n    if (this.propType === 'unidimensional') {\r\n      multipliedValue = val * this.mult;\r\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\r\n        this.v = multipliedValue;\r\n        this._mdf = true;\r\n      }\r\n    } else {\r\n      var i = 0;\r\n      var len = this.v.length;\r\n      while (i < len) {\r\n        multipliedValue = val[i] * this.mult;\r\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\r\n          this.v[i] = multipliedValue;\r\n          this._mdf = true;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = this._isFirstFrame;\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    var finalValue = this.kf ? this.pv : this.data.k;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this._isFirstFrame = false;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  function ValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this.v = mult ? data.k * mult : data.k;\r\n    this.pv = data.k;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.vel = 0;\r\n    this.effectsSequence = [];\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function MultiDimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.frameId = -1;\r\n    var i;\r\n    var len = data.k.length;\r\n    this.v = createTypedArray('float32', len);\r\n    this.pv = createTypedArray('float32', len);\r\n    this.vel = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      this.v[i] = data.k[i] * this.mult;\r\n      this.pv[i] = data.k[i];\r\n    }\r\n    this._isFirstFrame = true;\r\n    this.effectsSequence = [];\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.keyframes = data.k;\r\n    this.keyframesMetadata = [];\r\n    this.offsetTime = elem.data.st;\r\n    this.frameId = -1;\r\n    this._caching = {\r\n      lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1,\r\n    };\r\n    this.k = true;\r\n    this.kf = true;\r\n    this.data = data;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.v = initFrame;\r\n    this.pv = initFrame;\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    var i;\r\n    var len = data.k.length;\r\n    var s;\r\n    var e;\r\n    var to;\r\n    var ti;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n        s = data.k[i].s;\r\n        e = data.k[i + 1].s;\r\n        to = data.k[i].to;\r\n        ti = data.k[i].ti;\r\n        if ((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2]))) {\r\n          data.k[i].to = null;\r\n          data.k[i].ti = null;\r\n        }\r\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n          if (s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n            data.k[i].to = null;\r\n            data.k[i].ti = null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.data = data;\r\n    this.keyframes = data.k;\r\n    this.keyframesMetadata = [];\r\n    this.offsetTime = elem.data.st;\r\n    this.k = true;\r\n    this.kf = true;\r\n    this._isFirstFrame = true;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.frameId = -1;\r\n    var arrLen = data.k[0].s.length;\r\n    this.v = createTypedArray('float32', arrLen);\r\n    this.pv = createTypedArray('float32', arrLen);\r\n    for (i = 0; i < arrLen; i += 1) {\r\n      this.v[i] = initFrame;\r\n      this.pv[i] = initFrame;\r\n    }\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0, value: createTypedArray('float32', arrLen) };\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function getProp(elem, data, type, mult, container) {\r\n    var p;\r\n    if (!data.k.length) {\r\n      p = new ValueProperty(elem, data, mult, container);\r\n    } else if (typeof (data.k[0]) === 'number') {\r\n      p = new MultiDimensionalProperty(elem, data, mult, container);\r\n    } else {\r\n      switch (type) {\r\n        case 0:\r\n          p = new KeyframedValueProperty(elem, data, mult, container);\r\n          break;\r\n        case 1:\r\n          p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    if (p.effectsSequence.length) {\r\n      container.addDynamicProperty(p);\r\n    }\r\n    return p;\r\n  }\r\n\r\n  var ob = {\r\n    getProp: getProp,\r\n  };\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix, degToRads, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n/* exported TransformPropertyFactory */\r\n\r\nvar TransformPropertyFactory = (function () {\r\n  var defaultVector = [0, 0];\r\n\r\n  function applyToMatrix(mat) {\r\n    var _mdf = this._mdf;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || _mdf;\r\n    if (this.a) {\r\n      mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n    }\r\n    if (this.s) {\r\n      mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n    }\r\n    if (this.sk) {\r\n      mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n    }\r\n    if (this.r) {\r\n      mat.rotate(-this.r.v);\r\n    } else {\r\n      mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n    }\r\n    if (this.data.p.s) {\r\n      if (this.data.p.z) {\r\n        mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n      } else {\r\n        mat.translate(this.px.v, this.py.v, 0);\r\n      }\r\n    } else {\r\n      mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n    }\r\n  }\r\n  function processKeys(forceRender) {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    }\r\n    if (this._isDirty) {\r\n      this.precalculateMatrix();\r\n      this._isDirty = false;\r\n    }\r\n\r\n    this.iterateDynamicProperties();\r\n\r\n    if (this._mdf || forceRender) {\r\n      var frameRate;\r\n      this.v.cloneFromProps(this.pre.props);\r\n      if (this.appliedTransformations < 1) {\r\n        this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      }\r\n      if (this.appliedTransformations < 2) {\r\n        this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      }\r\n      if (this.sk && this.appliedTransformations < 3) {\r\n        this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n      }\r\n      if (this.r && this.appliedTransformations < 4) {\r\n        this.v.rotate(-this.r.v);\r\n      } else if (!this.r && this.appliedTransformations < 4) {\r\n        this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n          .rotateY(this.or.v[1])\r\n          .rotateX(this.or.v[0]);\r\n      }\r\n      if (this.autoOriented) {\r\n        var v1;\r\n        var v2;\r\n        frameRate = this.elem.globalData.frameRate;\r\n        if (this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n          if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n          } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\r\n            v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n          } else {\r\n            v1 = this.p.pv;\r\n            v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n          }\r\n        } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n          v1 = [];\r\n          v2 = [];\r\n          var px = this.px;\r\n          var py = this.py;\r\n          if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate, 0);\r\n          } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate), 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate), 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n          } else {\r\n            v1 = [px.pv, py.pv];\r\n            v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\r\n            v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\r\n          }\r\n        } else {\r\n          v2 = defaultVector;\r\n          v1 = v2;\r\n        }\r\n        this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n      }\r\n      if (this.data.p && this.data.p.s) {\r\n        if (this.data.p.z) {\r\n          this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n        } else {\r\n          this.v.translate(this.px.v, this.py.v, 0);\r\n        }\r\n      } else {\r\n        this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n      }\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function precalculateMatrix() {\r\n    if (!this.a.k) {\r\n      this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      this.appliedTransformations = 1;\r\n    } else {\r\n      return;\r\n    }\r\n    if (!this.s.effectsSequence.length) {\r\n      this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      this.appliedTransformations = 2;\r\n    } else {\r\n      return;\r\n    }\r\n    if (this.sk) {\r\n      if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n        this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n        this.appliedTransformations = 3;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    if (this.r) {\r\n      if (!this.r.effectsSequence.length) {\r\n        this.pre.rotate(-this.r.v);\r\n        this.appliedTransformations = 4;\r\n      }\r\n    } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n      this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n      this.appliedTransformations = 4;\r\n    }\r\n  }\r\n\r\n  function autoOrient() {\r\n    //\r\n    // var prevP = this.getValueAtTime();\r\n  }\r\n\r\n  function addDynamicProperty(prop) {\r\n    this._addDynamicProperty(prop);\r\n    this.elem.addDynamicProperty(prop);\r\n    this._isDirty = true;\r\n  }\r\n\r\n  function TransformProperty(elem, data, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.propType = 'transform';\r\n    this.data = data;\r\n    this.v = new Matrix();\r\n    // Precalculated matrix with non animated properties\r\n    this.pre = new Matrix();\r\n    this.appliedTransformations = 0;\r\n    this.initDynamicPropertyContainer(container || elem);\r\n    if (data.p && data.p.s) {\r\n      this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\r\n      this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\r\n      if (data.p.z) {\r\n        this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\r\n      }\r\n    } else {\r\n      this.p = PropertyFactory.getProp(elem, data.p || { k: [0, 0, 0] }, 1, 0, this);\r\n    }\r\n    if (data.rx) {\r\n      this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n      this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n      this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n      if (data.or.k[0].ti) {\r\n        var i;\r\n        var len = data.or.k.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          data.or.k[i].to = null;\r\n          data.or.k[i].ti = null;\r\n        }\r\n      }\r\n      this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\r\n      // sh Indicates it needs to be capped between -180 and 180\r\n      this.or.sh = true;\r\n    } else {\r\n      this.r = PropertyFactory.getProp(elem, data.r || { k: 0 }, 0, degToRads, this);\r\n    }\r\n    if (data.sk) {\r\n      this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n      this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n    }\r\n    this.a = PropertyFactory.getProp(elem, data.a || { k: [0, 0, 0] }, 1, 0, this);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: [100, 100, 100] }, 1, 0.01, this);\r\n    // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n    if (data.o) {\r\n      this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\r\n    } else {\r\n      this.o = { _mdf: false, v: 1 };\r\n    }\r\n    this._isDirty = true;\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue(true);\r\n    }\r\n  }\r\n\r\n  TransformProperty.prototype = {\r\n    applyToMatrix: applyToMatrix,\r\n    getValue: processKeys,\r\n    precalculateMatrix: precalculateMatrix,\r\n    autoOrient: autoOrient,\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n  TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n  TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n  function getTransformProperty(elem, data, container) {\r\n    return new TransformProperty(elem, data, container);\r\n  }\r\n\r\n  return {\r\n    getTransformProperty: getTransformProperty,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, createSizedArray, pointPool */\r\n\r\nfunction ShapePath() {\r\n  this.c = false;\r\n  this._length = 0;\r\n  this._maxLength = 8;\r\n  this.v = createSizedArray(this._maxLength);\r\n  this.o = createSizedArray(this._maxLength);\r\n  this.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function (closed, len) {\r\n  this.c = closed;\r\n  this.setLength(len);\r\n  var i = 0;\r\n  while (i < len) {\r\n    this.v[i] = pointPool.newElement();\r\n    this.o[i] = pointPool.newElement();\r\n    this.i[i] = pointPool.newElement();\r\n    i += 1;\r\n  }\r\n};\r\n\r\nShapePath.prototype.setLength = function (len) {\r\n  while (this._maxLength < len) {\r\n    this.doubleArrayLength();\r\n  }\r\n  this._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function () {\r\n  this.v = this.v.concat(createSizedArray(this._maxLength));\r\n  this.i = this.i.concat(createSizedArray(this._maxLength));\r\n  this.o = this.o.concat(createSizedArray(this._maxLength));\r\n  this._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\r\n  var arr;\r\n  this._length = Math.max(this._length, pos + 1);\r\n  if (this._length >= this._maxLength) {\r\n    this.doubleArrayLength();\r\n  }\r\n  switch (type) {\r\n    case 'v':\r\n      arr = this.v;\r\n      break;\r\n    case 'i':\r\n      arr = this.i;\r\n      break;\r\n    case 'o':\r\n      arr = this.o;\r\n      break;\r\n    default:\r\n      arr = [];\r\n      break;\r\n  }\r\n  if (!arr[pos] || (arr[pos] && !replace)) {\r\n    arr[pos] = pointPool.newElement();\r\n  }\r\n  arr[pos][0] = x;\r\n  arr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\r\n  this.setXYAt(vX, vY, 'v', pos, replace);\r\n  this.setXYAt(oX, oY, 'o', pos, replace);\r\n  this.setXYAt(iX, iY, 'i', pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function () {\r\n  var newPath = new ShapePath();\r\n  newPath.setPathData(this.c, this._length);\r\n  var vertices = this.v;\r\n  var outPoints = this.o;\r\n  var inPoints = this.i;\r\n  var init = 0;\r\n  if (this.c) {\r\n    newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n    init = 1;\r\n  }\r\n  var cnt = this._length - 1;\r\n  var len = this._length;\r\n\r\n  var i;\r\n  for (i = init; i < len; i += 1) {\r\n    newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n    cnt -= 1;\r\n  }\r\n  return newPath;\r\n};\r\n\r\n/* global extendPrototype, roundCorner, BezierFactory, shapePool, degToRads,\r\n  shapeCollectionPool, PropertyFactory, bmMin, DynamicPropertyContainer */\r\n/* exported ShapePropertyFactory */\r\n\r\nvar ShapePropertyFactory = (function () {\r\n  var initFrame = -999999;\r\n\r\n  function interpolateShape(frameNum, previousValue, caching) {\r\n    var iterationIndex = caching.lastIndex;\r\n    var keyPropS;\r\n    var keyPropE;\r\n    var isHold;\r\n    var j;\r\n    var k;\r\n    var jLen;\r\n    var kLen;\r\n    var perc;\r\n    var vertexValue;\r\n    var kf = this.keyframes;\r\n    if (frameNum < kf[0].t - this.offsetTime) {\r\n      keyPropS = kf[0].s[0];\r\n      isHold = true;\r\n      iterationIndex = 0;\r\n    } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\r\n      keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n      /* if(kf[kf.length - 1].s){\r\n                keyPropS = kf[kf.length - 1].s[0];\r\n            }else{\r\n                keyPropS = kf[kf.length - 2].e[0];\r\n            } */\r\n      isHold = true;\r\n    } else {\r\n      var i = iterationIndex;\r\n      var len = kf.length - 1;\r\n      var flag = true;\r\n      var keyData;\r\n      var nextKeyData;\r\n      var keyframeMetadata;\r\n      while (flag) {\r\n        keyData = kf[i];\r\n        nextKeyData = kf[i + 1];\r\n        if ((nextKeyData.t - this.offsetTime) > frameNum) {\r\n          break;\r\n        }\r\n        if (i < len - 1) {\r\n          i += 1;\r\n        } else {\r\n          flag = false;\r\n        }\r\n      }\r\n      keyframeMetadata = this.keyframesMetadata[i] || {};\r\n      isHold = keyData.h === 1;\r\n      iterationIndex = i;\r\n      if (!isHold) {\r\n        if (frameNum >= nextKeyData.t - this.offsetTime) {\r\n          perc = 1;\r\n        } else if (frameNum < keyData.t - this.offsetTime) {\r\n          perc = 0;\r\n        } else {\r\n          var fnc;\r\n          if (keyframeMetadata.__fnct) {\r\n            fnc = keyframeMetadata.__fnct;\r\n          } else {\r\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\r\n            keyframeMetadata.__fnct = fnc;\r\n          }\r\n          perc = fnc((frameNum - (keyData.t - this.offsetTime)) / ((nextKeyData.t - this.offsetTime) - (keyData.t - this.offsetTime)));\r\n        }\r\n        keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n      }\r\n      keyPropS = keyData.s[0];\r\n    }\r\n    jLen = previousValue._length;\r\n    kLen = keyPropS.i[0].length;\r\n    caching.lastIndex = iterationIndex;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      for (k = 0; k < kLen; k += 1) {\r\n        vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\r\n        previousValue.i[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\r\n        previousValue.o[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\r\n        previousValue.v[j][k] = vertexValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  function interpolateShapeCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    var lastFrame = this._caching.lastFrame;\r\n    if (!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))) {\r\n      /// /\r\n      this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n      this.interpolateShape(frameNum, this.pv, this._caching);\r\n      /// /\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function resetShape() {\r\n    this.paths = this.localShapeCollection;\r\n  }\r\n\r\n  function shapesEqual(shape1, shape2) {\r\n    if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\r\n      return false;\r\n    }\r\n    var i;\r\n    var len = shape1._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shape1.v[i][0] !== shape2.v[i][0]\r\n            || shape1.v[i][1] !== shape2.v[i][1]\r\n            || shape1.o[i][0] !== shape2.o[i][0]\r\n            || shape1.o[i][1] !== shape2.o[i][1]\r\n            || shape1.i[i][0] !== shape2.i[i][0]\r\n            || shape1.i[i][1] !== shape2.i[i][1]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function setVValue(newPath) {\r\n    if (!shapesEqual(this.v, newPath)) {\r\n      this.v = shapePool.clone(newPath);\r\n      this.localShapeCollection.releaseShapes();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this._mdf = true;\r\n      this.paths = this.localShapeCollection;\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    } if (!this.effectsSequence.length) {\r\n      this._mdf = false;\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var finalValue;\r\n    if (this.kf) {\r\n      finalValue = this.pv;\r\n    } else if (this.data.ks) {\r\n      finalValue = this.data.ks.k;\r\n    } else {\r\n      finalValue = this.data.pt.k;\r\n    }\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function ShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.container = elem;\r\n    this.elem = elem;\r\n    this.data = data;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this._mdf = false;\r\n    var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n    this.v = shapePool.clone(pathData);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.reset = resetShape;\r\n    this.effectsSequence = [];\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  ShapeProperty.prototype.getValue = processEffectsSequence;\r\n  ShapeProperty.prototype.setVValue = setVValue;\r\n  ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  function KeyframedShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.elem = elem;\r\n    this.container = elem;\r\n    this.offsetTime = elem.data.st;\r\n    this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n    this.keyframesMetadata = [];\r\n    this.k = true;\r\n    this.kf = true;\r\n    var len = this.keyframes[0].s[0].i.length;\r\n    this.v = shapePool.newElement();\r\n    this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.lastFrame = initFrame;\r\n    this.reset = resetShape;\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0 };\r\n    this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n  }\r\n  KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n  KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n  KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  var EllShapeProperty = (function () {\r\n    var cPoint = roundCorner;\r\n\r\n    function EllShapePropertyFactory(elem, data) {\r\n      /* this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            }; */\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 4);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.paths = this.localShapeCollection;\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.d = data.d;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertEllToPath();\r\n      }\r\n    }\r\n\r\n    EllShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n\r\n        if (this._mdf) {\r\n          this.convertEllToPath();\r\n        }\r\n      },\r\n      convertEllToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var s0 = this.s.v[0] / 2;\r\n        var s1 = this.s.v[1] / 2;\r\n        var _cw = this.d !== 3;\r\n        var _v = this.v;\r\n        _v.v[0][0] = p0;\r\n        _v.v[0][1] = p1 - s1;\r\n        _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.v[1][1] = p1;\r\n        _v.v[2][0] = p0;\r\n        _v.v[2][1] = p1 + s1;\r\n        _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.v[3][1] = p1;\r\n        _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.i[0][1] = p1 - s1;\r\n        _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.i[1][1] = p1 - s1 * cPoint;\r\n        _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.i[2][1] = p1 + s1;\r\n        _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.i[3][1] = p1 + s1 * cPoint;\r\n        _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.o[0][1] = p1 - s1;\r\n        _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.o[1][1] = p1 + s1 * cPoint;\r\n        _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.o[2][1] = p1 + s1;\r\n        _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.o[3][1] = p1 - s1 * cPoint;\r\n      },\r\n    };\r\n\r\n    extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\r\n\r\n    return EllShapePropertyFactory;\r\n  }());\r\n\r\n  var StarShapeProperty = (function () {\r\n    function StarShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 0);\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.data = data;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      if (data.sy === 1) {\r\n        this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\r\n        this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\r\n        this.convertToPath = this.convertStarToPath;\r\n      } else {\r\n        this.convertToPath = this.convertPolygonToPath;\r\n      }\r\n      this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\r\n      this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\r\n      this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertToPath();\r\n      }\r\n    }\r\n\r\n    StarShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertToPath();\r\n        }\r\n      },\r\n      convertStarToPath: function () {\r\n        var numPts = Math.floor(this.pt.v) * 2;\r\n        var angle = (Math.PI * 2) / numPts;\r\n        /* this.v.v.length = numPts;\r\n                this.v.i.length = numPts;\r\n                this.v.o.length = numPts; */\r\n        var longFlag = true;\r\n        var longRad = this.or.v;\r\n        var shortRad = this.ir.v;\r\n        var longRound = this.os.v;\r\n        var shortRound = this.is.v;\r\n        var longPerimSegment = (2 * Math.PI * longRad) / (numPts * 2);\r\n        var shortPerimSegment = (2 * Math.PI * shortRad) / (numPts * 2);\r\n        var i;\r\n        var rad;\r\n        var roundness;\r\n        var perimSegment;\r\n        var currentAng = -Math.PI / 2;\r\n        currentAng += this.r.v;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          rad = longFlag ? longRad : shortRad;\r\n          roundness = longFlag ? longRound : shortRound;\r\n          perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n\r\n          /* this.v.v[i] = [x,y];\r\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                    this.v._length = numPts; */\r\n          longFlag = !longFlag;\r\n          currentAng += angle * dir;\r\n        }\r\n      },\r\n      convertPolygonToPath: function () {\r\n        var numPts = Math.floor(this.pt.v);\r\n        var angle = (Math.PI * 2) / numPts;\r\n        var rad = this.or.v;\r\n        var roundness = this.os.v;\r\n        var perimSegment = (2 * Math.PI * rad) / (numPts * 4);\r\n        var i;\r\n        var currentAng = -Math.PI * 0.5;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        currentAng += this.r.v;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n          currentAng += angle * dir;\r\n        }\r\n        this.paths.length = 0;\r\n        this.paths[0] = this.v;\r\n      },\r\n\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\r\n\r\n    return StarShapePropertyFactory;\r\n  }());\r\n\r\n  var RectShapeProperty = (function () {\r\n    function RectShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.c = true;\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertRectToPath();\r\n      }\r\n    }\r\n\r\n    RectShapePropertyFactory.prototype = {\r\n      convertRectToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var v0 = this.s.v[0] / 2;\r\n        var v1 = this.s.v[1] / 2;\r\n        var round = bmMin(v0, v1, this.r.v);\r\n        var cPoint = round * (1 - roundCorner);\r\n        this.v._length = 0;\r\n\r\n        if (this.d === 2 || this.d === 1) {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\r\n          this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\r\n          }\r\n        } else {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\r\n          }\r\n        }\r\n      },\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertRectToPath();\r\n        }\r\n      },\r\n      reset: resetShape,\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\r\n\r\n    return RectShapePropertyFactory;\r\n  }());\r\n\r\n  function getShapeProp(elem, data, type) {\r\n    var prop;\r\n    if (type === 3 || type === 4) {\r\n      var dataProp = type === 3 ? data.pt : data.ks;\r\n      var keys = dataProp.k;\r\n      if (keys.length) {\r\n        prop = new KeyframedShapeProperty(elem, data, type);\r\n      } else {\r\n        prop = new ShapeProperty(elem, data, type);\r\n      }\r\n    } else if (type === 5) {\r\n      prop = new RectShapeProperty(elem, data);\r\n    } else if (type === 6) {\r\n      prop = new EllShapeProperty(elem, data);\r\n    } else if (type === 7) {\r\n      prop = new StarShapeProperty(elem, data);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  }\r\n\r\n  function getConstructorFunction() {\r\n    return ShapeProperty;\r\n  }\r\n\r\n  function getKeyframedConstructorFunction() {\r\n    return KeyframedShapeProperty;\r\n  }\r\n\r\n  var ob = {};\r\n  ob.getShapeProp = getShapeProp;\r\n  ob.getConstructorFunction = getConstructorFunction;\r\n  ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n  return ob;\r\n}());\r\n\r\n/* global shapeCollectionPool, initialDefaultFrame, extendPrototype, DynamicPropertyContainer */\r\n/* exported ShapeModifiers */\r\n\r\nvar ShapeModifiers = (function () {\r\n  var ob = {};\r\n  var modifiers = {};\r\n  ob.registerModifier = registerModifier;\r\n  ob.getModifier = getModifier;\r\n\r\n  function registerModifier(nm, factory) {\r\n    if (!modifiers[nm]) {\r\n      modifiers[nm] = factory;\r\n    }\r\n  }\r\n\r\n  function getModifier(nm, elem, data) {\r\n    return new modifiers[nm](elem, data);\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\nfunction ShapeModifier() {}\r\nShapeModifier.prototype.initModifierProperties = function () {};\r\nShapeModifier.prototype.addShapeToModifier = function () {};\r\nShapeModifier.prototype.addShape = function (data) {\r\n  if (!this.closed) {\r\n    // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n    data.sh.container.addDynamicProperty(data.sh);\r\n    var shapeData = { shape: data.sh, data: data, localShapeCollection: shapeCollectionPool.newShapeCollection() };\r\n    this.shapes.push(shapeData);\r\n    this.addShapeToModifier(shapeData);\r\n    if (this._isAnimated) {\r\n      data.setAsAnimated();\r\n    }\r\n  }\r\n};\r\nShapeModifier.prototype.init = function (elem, data) {\r\n  this.shapes = [];\r\n  this.elem = elem;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, data);\r\n  this.frameId = initialDefaultFrame;\r\n  this.closed = false;\r\n  this.k = false;\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\nShapeModifier.prototype.processKeys = function () {\r\n  if (this.elem.globalData.frameId === this.frameId) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, segmentsLengthPool, bez, shapePool, ShapeModifiers */\r\n\r\nfunction TrimModifier() {\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n  this.sValue = 0;\r\n  this.eValue = 0;\r\n  this.getValue = this.processKeys;\r\n  this.m = data.m;\r\n  this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function (shapeData) {\r\n  shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\r\n  var segments = [];\r\n  if (e <= 1) {\r\n    segments.push({\r\n      s: s,\r\n      e: e,\r\n    });\r\n  } else if (s >= 1) {\r\n    segments.push({\r\n      s: s - 1,\r\n      e: e - 1,\r\n    });\r\n  } else {\r\n    segments.push({\r\n      s: s,\r\n      e: 1,\r\n    });\r\n    segments.push({\r\n      s: 0,\r\n      e: e - 1,\r\n    });\r\n  }\r\n  var shapeSegments = [];\r\n  var i;\r\n  var len = segments.length;\r\n  var segmentOb;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentOb = segments[i];\r\n    if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\r\n      var shapeS;\r\n      var shapeE;\r\n      if (segmentOb.s * totalModifierLength <= addedLength) {\r\n        shapeS = 0;\r\n      } else {\r\n        shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n      }\r\n      if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n        shapeE = 1;\r\n      } else {\r\n        shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n      }\r\n      shapeSegments.push([shapeS, shapeE]);\r\n    }\r\n  }\r\n  if (!shapeSegments.length) {\r\n    shapeSegments.push([0, 0]);\r\n  }\r\n  return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function (pathsData) {\r\n  var i;\r\n  var len = pathsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentsLengthPool.release(pathsData[i]);\r\n  }\r\n  pathsData.length = 0;\r\n  return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var s;\r\n  var e;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var o = (this.o.v % 360) / 360;\r\n    if (o < 0) {\r\n      o += 1;\r\n    }\r\n    if (this.s.v > 1) {\r\n      s = 1 + o;\r\n    } else if (this.s.v < 0) {\r\n      s = 0 + o;\r\n    } else {\r\n      s = this.s.v + o;\r\n    }\r\n    if (this.e.v > 1) {\r\n      e = 1 + o;\r\n    } else if (this.e.v < 0) {\r\n      e = 0 + o;\r\n    } else {\r\n      e = this.e.v + o;\r\n    }\r\n\r\n    if (s > e) {\r\n      var _s = s;\r\n      s = e;\r\n      e = _s;\r\n    }\r\n    s = Math.round(s * 10000) * 0.0001;\r\n    e = Math.round(e * 10000) * 0.0001;\r\n    this.sValue = s;\r\n    this.eValue = e;\r\n  } else {\r\n    s = this.sValue;\r\n    e = this.eValue;\r\n  }\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var pathsData;\r\n  var pathData;\r\n  var totalShapeLength;\r\n  var totalModifierLength = 0;\r\n\r\n  if (e === s) {\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].localShapeCollection.releaseShapes();\r\n      this.shapes[i].shape._mdf = true;\r\n      this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n      if (this._mdf) {\r\n        this.shapes[i].pathsData.length = 0;\r\n      }\r\n    }\r\n  } else if (!((e === 1 && s === 0) || (e === 0 && s === 1))) {\r\n    var segments = [];\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n      if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      } else {\r\n        shapePaths = shapeData.shape.paths;\r\n        jLen = shapePaths._length;\r\n        totalShapeLength = 0;\r\n        if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n          totalShapeLength = shapeData.totalShapeLength;\r\n        } else {\r\n          pathsData = this.releasePathsData(shapeData.pathsData);\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n            pathsData.push(pathData);\r\n            totalShapeLength += pathData.totalLength;\r\n          }\r\n          shapeData.totalShapeLength = totalShapeLength;\r\n          shapeData.pathsData = pathsData;\r\n        }\r\n\r\n        totalModifierLength += totalShapeLength;\r\n        shapeData.shape._mdf = true;\r\n      }\r\n    }\r\n    var shapeS = s;\r\n    var shapeE = e;\r\n    var addedLength = 0;\r\n    var edges;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shapeData = this.shapes[i];\r\n      if (shapeData.shape._mdf) {\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n        localShapeCollection.releaseShapes();\r\n        // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n        if (this.m === 2 && len > 1) {\r\n          edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n          addedLength += shapeData.totalShapeLength;\r\n        } else {\r\n          edges = [[shapeS, shapeE]];\r\n        }\r\n        jLen = edges.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          shapeS = edges[j][0];\r\n          shapeE = edges[j][1];\r\n          segments.length = 0;\r\n          if (shapeE <= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength * shapeE,\r\n            });\r\n          } else if (shapeS >= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * (shapeS - 1),\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          } else {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength,\r\n            });\r\n            segments.push({\r\n              s: 0,\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          }\r\n          var newShapesData = this.addShapes(shapeData, segments[0]);\r\n          if (segments[0].s !== segments[0].e) {\r\n            if (segments.length > 1) {\r\n              var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n              if (lastShapeInCollection.c) {\r\n                var lastShape = newShapesData.pop();\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n              } else {\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1]);\r\n              }\r\n            }\r\n            this.addPaths(newShapesData, localShapeCollection);\r\n          }\r\n        }\r\n        shapeData.shape.paths = localShapeCollection;\r\n      }\r\n    }\r\n  } else if (this._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n      // Don't remove this even if it's losing cached info.\r\n      this.shapes[i].pathsData.length = 0;\r\n      this.shapes[i].shape._mdf = true;\r\n    }\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\r\n  var i;\r\n  var len = newPaths.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    localShapeCollection.addShape(newPaths[i]);\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n  shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n  shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\r\n  var pathsData = shapeData.pathsData;\r\n  var shapePaths = shapeData.shape.paths.shapes;\r\n  var i;\r\n  var len = shapeData.shape.paths._length;\r\n  var j;\r\n  var jLen;\r\n  var addedLength = 0;\r\n  var currentLengthData;\r\n  var segmentCount;\r\n  var lengths;\r\n  var segment;\r\n  var shapes = [];\r\n  var initPos;\r\n  var newShape = true;\r\n  if (!shapePath) {\r\n    shapePath = shapePool.newElement();\r\n    segmentCount = 0;\r\n    initPos = 0;\r\n  } else {\r\n    segmentCount = shapePath._length;\r\n    initPos = shapePath._length;\r\n  }\r\n  shapes.push(shapePath);\r\n  for (i = 0; i < len; i += 1) {\r\n    lengths = pathsData[i].lengths;\r\n    shapePath.c = shapePaths[i].c;\r\n    jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n    for (j = 1; j < jLen; j += 1) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n        addedLength += currentLengthData.addedLength;\r\n        shapePath.c = false;\r\n      } else if (addedLength > shapeSegment.e) {\r\n        shapePath.c = false;\r\n        break;\r\n      } else {\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n        addedLength += currentLengthData.addedLength;\r\n        segmentCount += 1;\r\n      }\r\n    }\r\n    if (shapePaths[i].c && lengths.length) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength <= shapeSegment.e) {\r\n        var segmentLength = lengths[j - 1].addedLength;\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n      } else {\r\n        shapePath.c = false;\r\n      }\r\n      addedLength += currentLengthData.addedLength;\r\n      segmentCount += 1;\r\n    }\r\n    if (shapePath._length) {\r\n      shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n      shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\r\n    }\r\n    if (addedLength > shapeSegment.e) {\r\n      break;\r\n    }\r\n    if (i < len - 1) {\r\n      shapePath = shapePool.newElement();\r\n      newShape = true;\r\n      shapes.push(shapePath);\r\n      segmentCount = 0;\r\n    }\r\n  }\r\n  return shapes;\r\n};\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, roundCorner, ShapeModifiers */\r\n\r\nfunction RoundCornersModifier() {}\r\nextendPrototype([ShapeModifier], RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\r\n  this._isAnimated = !!this.rd.effectsSequence.length;\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function (path, round) {\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var i;\r\n  var len = path._length;\r\n  var currentV;\r\n  var currentI;\r\n  var currentO;\r\n  var closerV;\r\n  var distance;\r\n  var newPosPerc;\r\n  var index = 0;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentV = path.v[i];\r\n    currentO = path.o[i];\r\n    currentI = path.i[i];\r\n    if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\r\n      if ((i === 0 || i === len - 1) && !path.c) {\r\n        clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\r\n        /* clonedPath.v[index] = currentV;\r\n                clonedPath.o[index] = currentO;\r\n                clonedPath.i[index] = currentI; */\r\n        index += 1;\r\n      } else {\r\n        if (i === 0) {\r\n          closerV = path.v[len - 1];\r\n        } else {\r\n          closerV = path.v[i - 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = iX;\r\n        iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\r\n        vY = iY;\r\n        oX = vX - (vX - currentV[0]) * roundCorner;\r\n        oY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n\r\n        if (i === len - 1) {\r\n          closerV = path.v[0];\r\n        } else {\r\n          closerV = path.v[i + 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = oX;\r\n        oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\r\n        vY = oY;\r\n        iX = vX - (vX - currentV[0]) * roundCorner;\r\n        iY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n      }\r\n    } else {\r\n      clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\r\n      index += 1;\r\n    }\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var rd = this.rd.v;\r\n\r\n  if (rd !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd', RoundCornersModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, ShapeModifiers */\r\n\r\nfunction PuckerAndBloatModifier() {}\r\nextendPrototype([ShapeModifier], PuckerAndBloatModifier);\r\nPuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\r\n  this._isAnimated = !!this.amount.effectsSequence.length;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processPath = function (path, amount) {\r\n  var percent = amount / 100;\r\n  var centerPoint = [0, 0];\r\n  var pathLength = path._length;\r\n  var i = 0;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    centerPoint[0] += path.v[i][0];\r\n    centerPoint[1] += path.v[i][1];\r\n  }\r\n  centerPoint[0] /= pathLength;\r\n  centerPoint[1] /= pathLength;\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n    vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n    oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n    oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n    iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n    iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n    clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var amount = this.amount.v;\r\n\r\n  if (amount !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\nShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, TransformPropertyFactory, PropertyFactory, Matrix, ShapeModifiers */\r\n\r\nfunction RepeaterModifier() {}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\r\n  this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\r\n  this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\r\n  this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\r\n  this.data = data;\r\n  if (!this.dynamicProperties.length) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = !!this.dynamicProperties.length;\r\n  this.pMatrix = new Matrix();\r\n  this.rMatrix = new Matrix();\r\n  this.sMatrix = new Matrix();\r\n  this.tMatrix = new Matrix();\r\n  this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\r\n  var dir = inv ? -1 : 1;\r\n  var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n  var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n  pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n  rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  rMatrix.rotate(-transform.r.v * dir * perc);\r\n  rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\r\n  sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\r\n  this.elem = elem;\r\n  this.arr = arr;\r\n  this.pos = pos;\r\n  this.elemsData = elemsData;\r\n  this._currentCopies = 0;\r\n  this._elements = [];\r\n  this._groups = [];\r\n  this.frameId = -1;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, arr[pos]);\r\n  while (pos > 0) {\r\n    pos -= 1;\r\n    // this._elements.unshift(arr.splice(pos,1)[0]);\r\n    this._elements.unshift(arr[pos]);\r\n  }\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function (elements) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._processed = false;\r\n    if (elements[i].ty === 'gr') {\r\n      this.resetElements(elements[i].it);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function (elements) {\r\n  var newElements = JSON.parse(JSON.stringify(elements));\r\n  this.resetElements(newElements);\r\n  return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._render = renderFlag;\r\n    if (elements[i].ty === 'gr') {\r\n      this.changeGroupRender(elements[i].it, renderFlag);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var items;\r\n  var itemsTransform;\r\n  var i;\r\n  var dir;\r\n  var cont;\r\n  var hasReloaded = false;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var copies = Math.ceil(this.c.v);\r\n    if (this._groups.length < copies) {\r\n      while (this._groups.length < copies) {\r\n        var group = {\r\n          it: this.cloneElements(this._elements),\r\n          ty: 'gr',\r\n        };\r\n        group.it.push({\r\n          a: { a: 0, ix: 1, k: [0, 0] }, nm: 'Transform', o: { a: 0, ix: 7, k: 100 }, p: { a: 0, ix: 2, k: [0, 0] }, r: { a: 1, ix: 6, k: [{ s: 0, e: 0, t: 0 }, { s: 0, e: 0, t: 1 }] }, s: { a: 0, ix: 3, k: [100, 100] }, sa: { a: 0, ix: 5, k: 0 }, sk: { a: 0, ix: 4, k: 0 }, ty: 'tr',\r\n        });\r\n\r\n        this.arr.splice(0, 0, group);\r\n        this._groups.splice(0, 0, group);\r\n        this._currentCopies += 1;\r\n      }\r\n      this.elem.reloadShapes();\r\n      hasReloaded = true;\r\n    }\r\n    cont = 0;\r\n    var renderFlag;\r\n    for (i = 0; i <= this._groups.length - 1; i += 1) {\r\n      renderFlag = cont < copies;\r\n      this._groups[i]._render = renderFlag;\r\n      this.changeGroupRender(this._groups[i].it, renderFlag);\r\n      if (!renderFlag) {\r\n        var elems = this.elemsData[i].it;\r\n        var transformData = elems[elems.length - 1];\r\n        if (transformData.transform.op.v !== 0) {\r\n          transformData.transform.op._mdf = true;\r\n          transformData.transform.op.v = 0;\r\n        } else {\r\n          transformData.transform.op._mdf = false;\r\n        }\r\n      }\r\n      cont += 1;\r\n    }\r\n\r\n    this._currentCopies = copies;\r\n    /// /\r\n\r\n    var offset = this.o.v;\r\n    var offsetModulo = offset % 1;\r\n    var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n    var pProps = this.pMatrix.props;\r\n    var rProps = this.rMatrix.props;\r\n    var sProps = this.sMatrix.props;\r\n    this.pMatrix.reset();\r\n    this.rMatrix.reset();\r\n    this.sMatrix.reset();\r\n    this.tMatrix.reset();\r\n    this.matrix.reset();\r\n    var iteration = 0;\r\n\r\n    if (offset > 0) {\r\n      while (iteration < roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        iteration += 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n        iteration += offsetModulo;\r\n      }\r\n    } else if (offset < 0) {\r\n      while (iteration > roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n        iteration -= 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\r\n        iteration -= offsetModulo;\r\n      }\r\n    }\r\n    i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n    dir = this.data.m === 1 ? 1 : -1;\r\n    cont = this._currentCopies;\r\n    var j;\r\n    var jLen;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      jLen = itemsTransform.length;\r\n      items[items.length - 1].transform.mProps._mdf = true;\r\n      items[items.length - 1].transform.op._mdf = true;\r\n      items[items.length - 1].transform.op.v = this._currentCopies === 1\r\n        ? this.so.v\r\n        : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n\r\n      if (iteration !== 0) {\r\n        if ((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        }\r\n        this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\r\n        this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\r\n        this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n        this.matrix.reset();\r\n      } else {\r\n        this.matrix.reset();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n      }\r\n      iteration += 1;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  } else {\r\n    cont = this._currentCopies;\r\n    i = 0;\r\n    dir = 1;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      items[items.length - 1].transform.mProps._mdf = false;\r\n      items[items.length - 1].transform.op._mdf = false;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  }\r\n  return hasReloaded;\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function () {};\r\n\r\nShapeModifiers.registerModifier('rp', RepeaterModifier);\r\n\r\n/* global createSizedArray, shapePool */\r\n\r\nfunction ShapeCollection() {\r\n  this._length = 0;\r\n  this._maxLength = 4;\r\n  this.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function (shapeData) {\r\n  if (this._length === this._maxLength) {\r\n    this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n    this._maxLength *= 2;\r\n  }\r\n  this.shapes[this._length] = shapeData;\r\n  this._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function () {\r\n  var i;\r\n  for (i = 0; i < this._length; i += 1) {\r\n    shapePool.release(this.shapes[i]);\r\n  }\r\n  this._length = 0;\r\n};\r\n\r\n/* global createSizedArray, createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction DashProperty(elem, data, renderer, container) {\r\n  this.elem = elem;\r\n  this.frameId = -1;\r\n  this.dataProps = createSizedArray(data.length);\r\n  this.renderer = renderer;\r\n  this.k = false;\r\n  this.dashStr = '';\r\n  this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\r\n  this.dashoffset = createTypedArray('float32', 1);\r\n  this.initDynamicPropertyContainer(container);\r\n  var i;\r\n  var len = data.length || 0;\r\n  var prop;\r\n  for (i = 0; i < len; i += 1) {\r\n    prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\r\n    this.k = prop.k || this.k;\r\n    this.dataProps[i] = { n: data[i].n, p: prop };\r\n  }\r\n  if (!this.k) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = this.k;\r\n}\r\n\r\nDashProperty.prototype.getValue = function (forceRender) {\r\n  if (this.elem.globalData.frameId === this.frameId && !forceRender) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n  this._mdf = this._mdf || forceRender;\r\n  if (this._mdf) {\r\n    var i = 0;\r\n    var len = this.dataProps.length;\r\n    if (this.renderer === 'svg') {\r\n      this.dashStr = '';\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.dataProps[i].n !== 'o') {\r\n        if (this.renderer === 'svg') {\r\n          this.dashStr += ' ' + this.dataProps[i].p.v;\r\n        } else {\r\n          this.dashArray[i] = this.dataProps[i].p.v;\r\n        }\r\n      } else {\r\n        this.dashoffset[0] = this.dataProps[i].p.v;\r\n      }\r\n    }\r\n  }\r\n};\r\nextendPrototype([DynamicPropertyContainer], DashProperty);\r\n\r\n/* global createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\nfunction GradientProperty(elem, data, container) {\r\n  this.data = data;\r\n  this.c = createTypedArray('uint8c', data.p * 4);\r\n  var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p * 4) : data.k.k.length - data.p * 4;\r\n  this.o = createTypedArray('float32', cLength);\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  this._collapsable = this.checkCollapsable();\r\n  this._hasOpacity = cLength;\r\n  this.initDynamicPropertyContainer(container);\r\n  this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\r\n  this.k = this.prop.k;\r\n  this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function (values, points) {\r\n  var i = 0;\r\n  var len = this.o.length / 2;\r\n  var diff;\r\n  while (i < len) {\r\n    diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\r\n    if (diff > 0.01) {\r\n      return false;\r\n    }\r\n    i += 1;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function () {\r\n  if (this.o.length / 2 !== this.c.length / 4) {\r\n    return false;\r\n  }\r\n  if (this.data.k.k[0].s) {\r\n    var i = 0;\r\n    var len = this.data.k.k.length;\r\n    while (i < len) {\r\n      if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n  } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function (forceRender) {\r\n  this.prop.getValue();\r\n  this._mdf = false;\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  if (this.prop._mdf || forceRender) {\r\n    var i;\r\n    var len = this.data.p * 4;\r\n    var mult;\r\n    var val;\r\n    for (i = 0; i < len; i += 1) {\r\n      mult = i % 4 === 0 ? 100 : 255;\r\n      val = Math.round(this.prop.v[i] * mult);\r\n      if (this.c[i] !== val) {\r\n        this.c[i] = val;\r\n        this._cmdf = !forceRender;\r\n      }\r\n    }\r\n    if (this.o.length) {\r\n      len = this.prop.v.length;\r\n      for (i = this.data.p * 4; i < len; i += 1) {\r\n        mult = i % 2 === 0 ? 100 : 1;\r\n        val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\r\n        if (this.o[i - this.data.p * 4] !== val) {\r\n          this.o[i - this.data.p * 4] = val;\r\n          this._omdf = !forceRender;\r\n        }\r\n      }\r\n    }\r\n    this._mdf = !forceRender;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], GradientProperty);\r\n\r\n/* exported buildShapeString */\r\n\r\nvar buildShapeString = function (pathNodes, length, closed, mat) {\r\n  if (length === 0) {\r\n    return '';\r\n  }\r\n  var _o = pathNodes.o;\r\n  var _i = pathNodes.i;\r\n  var _v = pathNodes.v;\r\n  var i;\r\n  var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n  for (i = 1; i < length; i += 1) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n  }\r\n  if (closed && length) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n    shapeString += 'z';\r\n  }\r\n  return shapeString;\r\n};\r\n\r\n/* global Howl */\r\n/* exported audioControllerFactory */\r\n\r\nvar audioControllerFactory = (function () {\r\n  function AudioController(audioFactory) {\r\n    this.audios = [];\r\n    this.audioFactory = audioFactory;\r\n    this._volume = 1;\r\n    this._isMuted = false;\r\n  }\r\n\r\n  AudioController.prototype = {\r\n    addAudio: function (audio) {\r\n      this.audios.push(audio);\r\n    },\r\n    pause: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].pause();\r\n      }\r\n    },\r\n    resume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].resume();\r\n      }\r\n    },\r\n    setRate: function (rateValue) {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].setRate(rateValue);\r\n      }\r\n    },\r\n    createAudio: function (assetPath) {\r\n      if (this.audioFactory) {\r\n        return this.audioFactory(assetPath);\r\n      } if (Howl) {\r\n        return new Howl({\r\n          src: [assetPath],\r\n        });\r\n      }\r\n      return {\r\n        isPlaying: false,\r\n        play: function () { this.isPlaying = true; },\r\n        seek: function () { this.isPlaying = false; },\r\n        playing: function () {},\r\n        rate: function () {},\r\n        setVolume: function () {},\r\n      };\r\n    },\r\n    setAudioFactory: function (audioFactory) {\r\n      this.audioFactory = audioFactory;\r\n    },\r\n    setVolume: function (value) {\r\n      this._volume = value;\r\n      this._updateVolume();\r\n    },\r\n    mute: function () {\r\n      this._isMuted = true;\r\n      this._updateVolume();\r\n    },\r\n    unmute: function () {\r\n      this._isMuted = false;\r\n      this._updateVolume();\r\n    },\r\n    getVolume: function () {\r\n      return this._volume;\r\n    },\r\n    _updateVolume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\r\n      }\r\n    },\r\n  };\r\n\r\n  return function () {\r\n    return new AudioController();\r\n  };\r\n}());\r\n\r\n/* global createTag, createNS, isSafari, dataManager */\r\n/* exported ImagePreloader */\r\n\r\nvar ImagePreloader = (function () {\r\n  var proxyImage = (function () {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    var ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'rgba(0,0,0,0)';\r\n    ctx.fillRect(0, 0, 1, 1);\r\n    return canvas;\r\n  }());\r\n\r\n  function imageLoaded() {\r\n    this.loadedAssets += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n  function footageLoaded() {\r\n    this.loadedFootagesCount += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  function getAssetsPath(assetData, assetsPath, originalPath) {\r\n    var path = '';\r\n    if (assetData.e) {\r\n      path = assetData.p;\r\n    } else if (assetsPath) {\r\n      var imagePath = assetData.p;\r\n      if (imagePath.indexOf('images/') !== -1) {\r\n        imagePath = imagePath.split('/')[1];\r\n      }\r\n      path = assetsPath + imagePath;\r\n    } else {\r\n      path = originalPath;\r\n      path += assetData.u ? assetData.u : '';\r\n      path += assetData.p;\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function testImageLoaded(img) {\r\n    var _count = 0;\r\n    var intervalId = setInterval(function () {\r\n      var box = img.getBBox();\r\n      if (box.width || _count > 500) {\r\n        this._imageLoaded();\r\n        clearInterval(intervalId);\r\n      }\r\n      _count += 1;\r\n    }.bind(this), 50);\r\n  }\r\n\r\n  function createImageData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createNS('image');\r\n    if (isSafari) {\r\n      this.testImageLoaded(img);\r\n    } else {\r\n      img.addEventListener('load', this._imageLoaded, false);\r\n    }\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\r\n    if (this._elementHelper.append) {\r\n      this._elementHelper.append(img);\r\n    } else {\r\n      this._elementHelper.appendChild(img);\r\n    }\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createImgData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createTag('img');\r\n    img.crossOrigin = 'anonymous';\r\n    img.addEventListener('load', this._imageLoaded, false);\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.src = path;\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createFootageData(data) {\r\n    var ob = {\r\n      assetData: data,\r\n    };\r\n    var path = getAssetsPath(data, this.assetsPath, this.path);\r\n    dataManager.loadData(path, function (footageData) {\r\n      ob.img = footageData;\r\n      this._footageLoaded();\r\n    }.bind(this), function () {\r\n      ob.img = {};\r\n      this._footageLoaded();\r\n    }.bind(this));\r\n    return ob;\r\n  }\r\n\r\n  function loadAssets(assets, cb) {\r\n    this.imagesLoadedCb = cb;\r\n    var i;\r\n    var len = assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!assets[i].layers) {\r\n        if (!assets[i].t || assets[i].t === 'seq') {\r\n          this.totalImages += 1;\r\n          this.images.push(this._createImageData(assets[i]));\r\n        } else if (assets[i].t === 3) {\r\n          this.totalFootages += 1;\r\n          this.images.push(this.createFootageData(assets[i]));\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function setPath(path) {\r\n    this.path = path || '';\r\n  }\r\n\r\n  function setAssetsPath(path) {\r\n    this.assetsPath = path || '';\r\n  }\r\n\r\n  function getAsset(assetData) {\r\n    var i = 0;\r\n    var len = this.images.length;\r\n    while (i < len) {\r\n      if (this.images[i].assetData === assetData) {\r\n        return this.images[i].img;\r\n      }\r\n      i += 1;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function destroy() {\r\n    this.imagesLoadedCb = null;\r\n    this.images.length = 0;\r\n  }\r\n\r\n  function loadedImages() {\r\n    return this.totalImages === this.loadedAssets;\r\n  }\r\n\r\n  function loadedFootages() {\r\n    return this.totalFootages === this.loadedFootagesCount;\r\n  }\r\n\r\n  function setCacheType(type, elementHelper) {\r\n    if (type === 'svg') {\r\n      this._elementHelper = elementHelper;\r\n      this._createImageData = this.createImageData.bind(this);\r\n    } else {\r\n      this._createImageData = this.createImgData.bind(this);\r\n    }\r\n  }\r\n\r\n  function ImagePreloaderFactory() {\r\n    this._imageLoaded = imageLoaded.bind(this);\r\n    this._footageLoaded = footageLoaded.bind(this);\r\n    this.testImageLoaded = testImageLoaded.bind(this);\r\n    this.createFootageData = createFootageData.bind(this);\r\n    this.assetsPath = '';\r\n    this.path = '';\r\n    this.totalImages = 0;\r\n    this.totalFootages = 0;\r\n    this.loadedAssets = 0;\r\n    this.loadedFootagesCount = 0;\r\n    this.imagesLoadedCb = null;\r\n    this.images = [];\r\n  }\r\n\r\n  ImagePreloaderFactory.prototype = {\r\n    loadAssets: loadAssets,\r\n    setAssetsPath: setAssetsPath,\r\n    setPath: setPath,\r\n    loadedImages: loadedImages,\r\n    loadedFootages: loadedFootages,\r\n    destroy: destroy,\r\n    getAsset: getAsset,\r\n    createImgData: createImgData,\r\n    createImageData: createImageData,\r\n    imageLoaded: imageLoaded,\r\n    footageLoaded: footageLoaded,\r\n    setCacheType: setCacheType,\r\n  };\r\n\r\n  return ImagePreloaderFactory;\r\n}());\r\n\r\n/* exported featureSupport */\r\n\r\nvar featureSupport = (function () {\r\n  var ob = {\r\n    maskType: true,\r\n  };\r\n  if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n    ob.maskType = false;\r\n  }\r\n  return ob;\r\n}());\r\n\r\n/* global createNS */\r\n/* exported filtersFactory */\r\n\r\nvar filtersFactory = (function () {\r\n  var ob = {};\r\n  ob.createFilter = createFilter;\r\n  ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n  function createFilter(filId, skipCoordinates) {\r\n    var fil = createNS('filter');\r\n    fil.setAttribute('id', filId);\r\n    if (skipCoordinates !== true) {\r\n      fil.setAttribute('filterUnits', 'objectBoundingBox');\r\n      fil.setAttribute('x', '0%');\r\n      fil.setAttribute('y', '0%');\r\n      fil.setAttribute('width', '100%');\r\n      fil.setAttribute('height', '100%');\r\n    }\r\n    return fil;\r\n  }\r\n\r\n  function createAlphaToLuminanceFilter() {\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n    return feColorMatrix;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global createSizedArray, PropertyFactory, TextAnimatorDataProperty, bez, addHueToRGB,\r\n  addSaturationToRGB, addBrightnessToRGB, LetterProps, Matrix, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction TextAnimatorProperty(textData, renderType, elem) {\r\n  this._isFirstFrame = true;\r\n  this._hasMaskedPath = false;\r\n  this._frameId = -1;\r\n  this._textData = textData;\r\n  this._renderType = renderType;\r\n  this._elem = elem;\r\n  this._animatorsData = createSizedArray(this._textData.a.length);\r\n  this._pathData = {};\r\n  this._moreOptions = {\r\n    alignment: {},\r\n  };\r\n  this.renderedLetters = [];\r\n  this.lettersChangedFlag = false;\r\n  this.initDynamicPropertyContainer(elem);\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function () {\r\n  var i;\r\n  var len = this._textData.a.length;\r\n  var animatorProps;\r\n  var getProp = PropertyFactory.getProp;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatorProps = this._textData.a[i];\r\n    this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n  }\r\n  if (this._textData.p && 'm' in this._textData.p) {\r\n    this._pathData = {\r\n      a: getProp(this._elem, this._textData.p.a, 0, 0, this),\r\n      f: getProp(this._elem, this._textData.p.f, 0, 0, this),\r\n      l: getProp(this._elem, this._textData.p.l, 0, 0, this),\r\n      r: getProp(this._elem, this._textData.p.r, 0, 0, this),\r\n      p: getProp(this._elem, this._textData.p.p, 0, 0, this),\r\n      m: this._elem.maskManager.getMaskProperty(this._textData.p.m),\r\n    };\r\n    this._hasMaskedPath = true;\r\n  } else {\r\n    this._hasMaskedPath = false;\r\n  }\r\n  this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\r\n  this.lettersChangedFlag = lettersChangedFlag;\r\n  if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n    return;\r\n  }\r\n  this._isFirstFrame = false;\r\n  var alignment = this._moreOptions.alignment.v;\r\n  var animators = this._animatorsData;\r\n  var textData = this._textData;\r\n  var matrixHelper = this.mHelper;\r\n  var renderType = this._renderType;\r\n  var renderedLettersCount = this.renderedLetters.length;\r\n  var xPos;\r\n  var yPos;\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var pathInfo;\r\n  var currentLength;\r\n  var currentPoint;\r\n  var segmentLength;\r\n  var flag;\r\n  var pointInd;\r\n  var segmentInd;\r\n  var prevPoint;\r\n  var points;\r\n  var segments;\r\n  var partialLength;\r\n  var totalLength;\r\n  var perc;\r\n  var tanAngle;\r\n  var mask;\r\n  if (this._hasMaskedPath) {\r\n    mask = this._pathData.m;\r\n    if (!this._pathData.n || this._pathData._mdf) {\r\n      var paths = mask.v;\r\n      if (this._pathData.r.v) {\r\n        paths = paths.reverse();\r\n      }\r\n      // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n      pathInfo = {\r\n        tLength: 0,\r\n        segments: [],\r\n      };\r\n      len = paths._length - 1;\r\n      var bezierData;\r\n      totalLength = 0;\r\n      for (i = 0; i < len; i += 1) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[i + 1],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      i = len;\r\n      if (mask.v.c) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[0],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      this._pathData.pi = pathInfo;\r\n    }\r\n    pathInfo = this._pathData.pi;\r\n\r\n    currentLength = this._pathData.f.v;\r\n    segmentInd = 0;\r\n    pointInd = 1;\r\n    segmentLength = 0;\r\n    flag = true;\r\n    segments = pathInfo.segments;\r\n    if (currentLength < 0 && mask.v.c) {\r\n      if (pathInfo.tLength < Math.abs(currentLength)) {\r\n        currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n      }\r\n      segmentInd = segments.length - 1;\r\n      points = segments[segmentInd].points;\r\n      pointInd = points.length - 1;\r\n      while (currentLength < 0) {\r\n        currentLength += points[pointInd].partialLength;\r\n        pointInd -= 1;\r\n        if (pointInd < 0) {\r\n          segmentInd -= 1;\r\n          points = segments[segmentInd].points;\r\n          pointInd = points.length - 1;\r\n        }\r\n      }\r\n    }\r\n    points = segments[segmentInd].points;\r\n    prevPoint = points[pointInd - 1];\r\n    currentPoint = points[pointInd];\r\n    partialLength = currentPoint.partialLength;\r\n  }\r\n\r\n  len = letters.length;\r\n  xPos = 0;\r\n  yPos = 0;\r\n  var yOff = documentData.finalSize * 1.2 * 0.714;\r\n  var firstLine = true;\r\n  var animatorProps;\r\n  var animatorSelector;\r\n  var j;\r\n  var jLen;\r\n  var letterValue;\r\n\r\n  jLen = animators.length;\r\n\r\n  var mult;\r\n  var ind = -1;\r\n  var offf;\r\n  var xPathPos;\r\n  var yPathPos;\r\n  var initPathPos = currentLength;\r\n  var initSegmentInd = segmentInd;\r\n  var initPointInd = pointInd;\r\n  var currentLine = -1;\r\n  var elemOpacity;\r\n  var sc;\r\n  var sw;\r\n  var fc;\r\n  var k;\r\n  var letterSw;\r\n  var letterSc;\r\n  var letterFc;\r\n  var letterM = '';\r\n  var letterP = this.defaultPropsArray;\r\n  var letterO;\r\n\r\n  //\r\n  if (documentData.j === 2 || documentData.j === 1) {\r\n    var animatorJustifyOffset = 0;\r\n    var animatorFirstCharOffset = 0;\r\n    var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n    var lastIndex = 0;\r\n    var isNewLine = true;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (letters[i].n) {\r\n        if (animatorJustifyOffset) {\r\n          animatorJustifyOffset += animatorFirstCharOffset;\r\n        }\r\n        while (lastIndex < i) {\r\n          letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n          lastIndex += 1;\r\n        }\r\n        animatorJustifyOffset = 0;\r\n        isNewLine = true;\r\n      } else {\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.t.propType) {\r\n            if (isNewLine && documentData.j === 2) {\r\n              animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n            }\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\r\n            } else {\r\n              animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\r\n            }\r\n          }\r\n        }\r\n        isNewLine = false;\r\n      }\r\n    }\r\n    if (animatorJustifyOffset) {\r\n      animatorJustifyOffset += animatorFirstCharOffset;\r\n    }\r\n    while (lastIndex < i) {\r\n      letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n      lastIndex += 1;\r\n    }\r\n  }\r\n  //\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    matrixHelper.reset();\r\n    elemOpacity = 1;\r\n    if (letters[i].n) {\r\n      xPos = 0;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      currentLength = initPathPos;\r\n      firstLine = false;\r\n      if (this._hasMaskedPath) {\r\n        segmentInd = initSegmentInd;\r\n        pointInd = initPointInd;\r\n        points = segments[segmentInd].points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n        segmentLength = 0;\r\n      }\r\n      letterM = '';\r\n      letterFc = '';\r\n      letterSw = '';\r\n      letterO = '';\r\n      letterP = this.defaultPropsArray;\r\n    } else {\r\n      if (this._hasMaskedPath) {\r\n        if (currentLine !== letters[i].line) {\r\n          switch (documentData.j) {\r\n            case 1:\r\n              currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n              break;\r\n            case 2:\r\n              currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          currentLine = letters[i].line;\r\n        }\r\n        if (ind !== letters[i].ind) {\r\n          if (letters[ind]) {\r\n            currentLength += letters[ind].extra;\r\n          }\r\n          currentLength += letters[i].an / 2;\r\n          ind = letters[i].ind;\r\n        }\r\n        currentLength += (alignment[0] * letters[i].an) * 0.005;\r\n        var animatorOffset = 0;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.p.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.p.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.p.v[0] * mult;\r\n            }\r\n          }\r\n          if (animatorProps.a.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.a.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.a.v[0] * mult;\r\n            }\r\n          }\r\n        }\r\n        flag = true;\r\n        // Force alignment only works with a single line for now\r\n        if (this._pathData.a.v) {\r\n          currentLength = letters[0].an * 0.5 + ((totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind) / (len - 1);\r\n          currentLength += this._pathData.f.v;\r\n        }\r\n        while (flag) {\r\n          if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n            perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n            xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n            yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n            matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, -(alignment[1] * yOff) * 0.01);\r\n            flag = false;\r\n          } else if (points) {\r\n            segmentLength += currentPoint.partialLength;\r\n            pointInd += 1;\r\n            if (pointInd >= points.length) {\r\n              pointInd = 0;\r\n              segmentInd += 1;\r\n              if (!segments[segmentInd]) {\r\n                if (mask.v.c) {\r\n                  pointInd = 0;\r\n                  segmentInd = 0;\r\n                  points = segments[segmentInd].points;\r\n                } else {\r\n                  segmentLength -= currentPoint.partialLength;\r\n                  points = null;\r\n                }\r\n              } else {\r\n                points = segments[segmentInd].points;\r\n              }\r\n            }\r\n            if (points) {\r\n              prevPoint = currentPoint;\r\n              currentPoint = points[pointInd];\r\n              partialLength = currentPoint.partialLength;\r\n            }\r\n          }\r\n        }\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n      } else {\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n\r\n        // Grouping alignment\r\n        matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, (-alignment[1] * yOff) * 0.01, 0);\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.t.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n          if (xPos !== 0 || documentData.j !== 0) {\r\n            if (this._hasMaskedPath) {\r\n              if (mult.length) {\r\n                currentLength += animatorProps.t.v * mult[0];\r\n              } else {\r\n                currentLength += animatorProps.t.v * mult;\r\n              }\r\n            } else if (mult.length) {\r\n              xPos += animatorProps.t.v * mult[0];\r\n            } else {\r\n              xPos += animatorProps.t.v * mult;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        sw = documentData.sw || 0;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        if (documentData.sc) {\r\n          sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n        } else {\r\n          sc = [0, 0, 0];\r\n        }\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.a.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n          if (mult.length) {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.s.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (mult.length) {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult[0]), 1 + ((animatorProps.s.v[1] - 1) * mult[1]), 1);\r\n          } else {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult), 1 + ((animatorProps.s.v[1] - 1) * mult), 1);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        animatorSelector = animators[j].s;\r\n        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n        if (animatorProps.sk.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n          } else {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.r.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n          } else {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.ry.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\r\n          } else {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.rx.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\r\n          } else {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.o.propType) {\r\n          if (mult.length) {\r\n            elemOpacity += ((animatorProps.o.v) * mult[0] - elemOpacity) * mult[0];\r\n          } else {\r\n            elemOpacity += ((animatorProps.o.v) * mult - elemOpacity) * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n          if (mult.length) {\r\n            sw += animatorProps.sw.v * mult[0];\r\n          } else {\r\n            sw += animatorProps.sw.v * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n          for (k = 0; k < 3; k += 1) {\r\n            if (mult.length) {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\r\n            } else {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\r\n            }\r\n          }\r\n        }\r\n        if (documentData.fillColorAnim && documentData.fc) {\r\n          if (animatorProps.fc.propType) {\r\n            for (k = 0; k < 3; k += 1) {\r\n              if (mult.length) {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\r\n              } else {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\r\n              }\r\n            }\r\n          }\r\n          if (animatorProps.fh.propType) {\r\n            if (mult.length) {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\r\n            } else {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fs.propType) {\r\n            if (mult.length) {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\r\n            } else {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fb.propType) {\r\n            if (mult.length) {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\r\n            } else {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n\r\n        if (animatorProps.p.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (this._hasMaskedPath) {\r\n            if (mult.length) {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n            } else {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n            }\r\n          } else if (mult.length) {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        letterSw = sw < 0 ? 0 : sw;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\r\n      }\r\n\r\n      if (this._hasMaskedPath) {\r\n        matrixHelper.translate(0, -documentData.ls);\r\n\r\n        matrixHelper.translate(0, (alignment[1] * yOff) * 0.01 + yPos, 0);\r\n        if (this._pathData.p.v) {\r\n          tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n          var rot = (Math.atan(tanAngle) * 180) / Math.PI;\r\n          if (currentPoint.point[0] < prevPoint.point[0]) {\r\n            rot += 180;\r\n          }\r\n          matrixHelper.rotate((-rot * Math.PI) / 180);\r\n        }\r\n        matrixHelper.translate(xPathPos, yPathPos, 0);\r\n        currentLength -= (alignment[0] * letters[i].an) * 0.005;\r\n        if (letters[i + 1] && ind !== letters[i + 1].ind) {\r\n          currentLength += letters[i].an / 2;\r\n          currentLength += (documentData.tr * 0.001) * documentData.finalSize;\r\n        }\r\n      } else {\r\n        matrixHelper.translate(xPos, yPos, 0);\r\n\r\n        if (documentData.ps) {\r\n          // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n          matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n        }\r\n        switch (documentData.j) {\r\n          case 1:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\r\n            break;\r\n          case 2:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        matrixHelper.translate(0, -documentData.ls);\r\n        matrixHelper.translate(offf, 0, 0);\r\n        matrixHelper.translate((alignment[0] * letters[i].an) * 0.005, (alignment[1] * yOff) * 0.01, 0);\r\n        xPos += letters[i].l + (documentData.tr * 0.001) * documentData.finalSize;\r\n      }\r\n      if (renderType === 'html') {\r\n        letterM = matrixHelper.toCSS();\r\n      } else if (renderType === 'svg') {\r\n        letterM = matrixHelper.to2dCSS();\r\n      } else {\r\n        letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\r\n      }\r\n      letterO = elemOpacity;\r\n    }\r\n\r\n    if (renderedLettersCount <= i) {\r\n      letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\r\n      this.renderedLetters.push(letterValue);\r\n      renderedLettersCount += 1;\r\n      this.lettersChangedFlag = true;\r\n    } else {\r\n      letterValue = this.renderedLetters[i];\r\n      this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n    }\r\n  }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function () {\r\n  if (this._elem.globalData.frameId === this._frameId) {\r\n    return;\r\n  }\r\n  this._frameId = this._elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\n\r\n/* global PropertyFactory, degToRads, TextSelectorProp */\r\n/* exported TextAnimatorDataProperty */\r\n\r\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\r\n  var defaultData = { propType: false };\r\n  var getProp = PropertyFactory.getProp;\r\n  var textAnimatorAnimatables = animatorProps.a;\r\n  this.a = {\r\n    r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\r\n    rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\r\n    ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\r\n    sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\r\n    sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\r\n    s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\r\n    a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\r\n    o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\r\n    p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\r\n    sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\r\n    sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\r\n    fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\r\n    fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\r\n    fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\r\n    fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\r\n    t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData,\r\n  };\r\n\r\n  this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\r\n  this.s.t = animatorProps.s.t;\r\n}\r\n\r\nfunction LetterProps(o, sw, sc, fc, m, p) {\r\n  this.o = o;\r\n  this.sw = sw;\r\n  this.sc = sc;\r\n  this.fc = fc;\r\n  this.m = m;\r\n  this.p = p;\r\n  this._mdf = {\r\n    o: true,\r\n    sw: !!sw,\r\n    sc: !!sc,\r\n    fc: !!fc,\r\n    m: true,\r\n    p: true,\r\n  };\r\n}\r\n\r\nLetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\r\n  this._mdf.o = false;\r\n  this._mdf.sw = false;\r\n  this._mdf.sc = false;\r\n  this._mdf.fc = false;\r\n  this._mdf.m = false;\r\n  this._mdf.p = false;\r\n  var updated = false;\r\n\r\n  if (this.o !== o) {\r\n    this.o = o;\r\n    this._mdf.o = true;\r\n    updated = true;\r\n  }\r\n  if (this.sw !== sw) {\r\n    this.sw = sw;\r\n    this._mdf.sw = true;\r\n    updated = true;\r\n  }\r\n  if (this.sc !== sc) {\r\n    this.sc = sc;\r\n    this._mdf.sc = true;\r\n    updated = true;\r\n  }\r\n  if (this.fc !== fc) {\r\n    this.fc = fc;\r\n    this._mdf.fc = true;\r\n    updated = true;\r\n  }\r\n  if (this.m !== m) {\r\n    this.m = m;\r\n    this._mdf.m = true;\r\n    updated = true;\r\n  }\r\n  if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n    this.p = p;\r\n    this._mdf.p = true;\r\n    updated = true;\r\n  }\r\n  return updated;\r\n};\r\n\r\n/* global FontManager, initialDefaultFrame, getFontProperties */\r\n/* exported TextProperty */\r\n\r\nfunction TextProperty(elem, data) {\r\n  this._frameId = initialDefaultFrame;\r\n  this.pv = '';\r\n  this.v = '';\r\n  this.kf = false;\r\n  this._isFirstFrame = true;\r\n  this._mdf = false;\r\n  this.data = data;\r\n  this.elem = elem;\r\n  this.comp = this.elem.comp;\r\n  this.keysIndex = 0;\r\n  this.canResize = false;\r\n  this.minimumFontSize = 1;\r\n  this.effectsSequence = [];\r\n  this.currentData = {\r\n    ascent: 0,\r\n    boxWidth: this.defaultBoxWidth,\r\n    f: '',\r\n    fStyle: '',\r\n    fWeight: '',\r\n    fc: '',\r\n    j: '',\r\n    justifyOffset: '',\r\n    l: [],\r\n    lh: 0,\r\n    lineWidths: [],\r\n    ls: '',\r\n    of: '',\r\n    s: '',\r\n    sc: '',\r\n    sw: 0,\r\n    t: 0,\r\n    tr: 0,\r\n    sz: 0,\r\n    ps: null,\r\n    fillColorAnim: false,\r\n    strokeColorAnim: false,\r\n    strokeWidthAnim: false,\r\n    yOffset: 0,\r\n    finalSize: 0,\r\n    finalText: [],\r\n    finalLineHeight: 0,\r\n    __complete: false,\r\n\r\n  };\r\n  this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n  if (!this.searchProperty()) {\r\n    this.completeTextData(this.currentData);\r\n  }\r\n}\r\n\r\nTextProperty.prototype.defaultBoxWidth = [0, 0];\r\n\r\nTextProperty.prototype.copyData = function (obj, data) {\r\n  for (var s in data) {\r\n    if (Object.prototype.hasOwnProperty.call(data, s)) {\r\n      obj[s] = data[s];\r\n    }\r\n  }\r\n  return obj;\r\n};\r\n\r\nTextProperty.prototype.setCurrentData = function (data) {\r\n  if (!data.__complete) {\r\n    this.completeTextData(data);\r\n  }\r\n  this.currentData = data;\r\n  this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n  this._mdf = true;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function () {\r\n  return this.searchKeyframes();\r\n};\r\n\r\nTextProperty.prototype.searchKeyframes = function () {\r\n  this.kf = this.data.d.k.length > 1;\r\n  if (this.kf) {\r\n    this.addEffect(this.getKeyframeValue.bind(this));\r\n  }\r\n  return this.kf;\r\n};\r\n\r\nTextProperty.prototype.addEffect = function (effectFunction) {\r\n  this.effectsSequence.push(effectFunction);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.getValue = function (_finalValue) {\r\n  if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n    return;\r\n  }\r\n  this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n  var currentValue = this.currentData;\r\n  var currentIndex = this.keysIndex;\r\n  if (this.lock) {\r\n    this.setCurrentData(this.currentData);\r\n    return;\r\n  }\r\n  this.lock = true;\r\n  this._mdf = false;\r\n  var i; var\r\n    len = this.effectsSequence.length;\r\n  var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n  for (i = 0; i < len; i += 1) {\r\n    // Checking if index changed to prevent creating a new object every time the expression updates.\r\n    if (currentIndex !== this.keysIndex) {\r\n      finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n    } else {\r\n      finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n    }\r\n  }\r\n  if (currentValue !== finalValue) {\r\n    this.setCurrentData(finalValue);\r\n  }\r\n  this.v = this.currentData;\r\n  this.pv = this.v;\r\n  this.lock = false;\r\n  this.frameId = this.elem.globalData.frameId;\r\n};\r\n\r\nTextProperty.prototype.getKeyframeValue = function () {\r\n  var textKeys = this.data.d.k;\r\n  var frameNum = this.elem.comp.renderedFrame;\r\n  var i = 0; var\r\n    len = textKeys.length;\r\n  while (i <= len - 1) {\r\n    if (i === len - 1 || textKeys[i + 1].t > frameNum) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  if (this.keysIndex !== i) {\r\n    this.keysIndex = i;\r\n  }\r\n  return this.data.d.k[this.keysIndex].s;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function (text) {\r\n  var charactersArray = [];\r\n  var i = 0;\r\n  var len = text.length;\r\n  var charCode;\r\n  var secondCharCode;\r\n  var shouldCombine = false;\r\n  while (i < len) {\r\n    charCode = text.charCodeAt(i);\r\n    if (FontManager.isCombinedCharacter(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n    } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\r\n        if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\r\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n          shouldCombine = false;\r\n        } else {\r\n          charactersArray.push(text.substr(i, 2));\r\n        }\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (charCode > 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\r\n        shouldCombine = true;\r\n        charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (FontManager.isZeroWidthJoiner(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n      shouldCombine = true;\r\n    } else {\r\n      charactersArray.push(text.charAt(i));\r\n    }\r\n    i += 1;\r\n  }\r\n  return charactersArray;\r\n};\r\n\r\nTextProperty.prototype.completeTextData = function (documentData) {\r\n  documentData.__complete = true;\r\n  var fontManager = this.elem.globalData.fontManager;\r\n  var data = this.data;\r\n  var letters = [];\r\n  var i; var\r\n    len;\r\n  var newLineFlag; var index = 0; var\r\n    val;\r\n  var anchorGrouping = data.m.g;\r\n  var currentSize = 0; var currentPos = 0; var currentLine = 0; var\r\n    lineWidths = [];\r\n  var lineWidth = 0;\r\n  var maxLineWidth = 0;\r\n  var j; var\r\n    jLen;\r\n  var fontData = fontManager.getFontByName(documentData.f);\r\n  var charData; var\r\n    cLength = 0;\r\n\r\n  var fontProps = getFontProperties(fontData);\r\n  documentData.fWeight = fontProps.weight;\r\n  documentData.fStyle = fontProps.style;\r\n  documentData.finalSize = documentData.s;\r\n  documentData.finalText = this.buildFinalText(documentData.t);\r\n  len = documentData.finalText.length;\r\n  documentData.finalLineHeight = documentData.lh;\r\n  var trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n  var charCode;\r\n  if (documentData.sz) {\r\n    var flag = true;\r\n    var boxWidth = documentData.sz[0];\r\n    var boxHeight = documentData.sz[1];\r\n    var currentHeight; var\r\n      finalText;\r\n    while (flag) {\r\n      finalText = this.buildFinalText(documentData.t);\r\n      currentHeight = 0;\r\n      lineWidth = 0;\r\n      len = finalText.length;\r\n      trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n      var lastSpaceIndex = -1;\r\n      for (i = 0; i < len; i += 1) {\r\n        charCode = finalText[i].charCodeAt(0);\r\n        newLineFlag = false;\r\n        if (finalText[i] === ' ') {\r\n          lastSpaceIndex = i;\r\n        } else if (charCode === 13 || charCode === 3) {\r\n          lineWidth = 0;\r\n          newLineFlag = true;\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n        }\r\n        if (fontManager.chars) {\r\n          charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n          cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n        } else {\r\n          // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n          cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n        }\r\n        if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\r\n          if (lastSpaceIndex === -1) {\r\n            len += 1;\r\n          } else {\r\n            i = lastSpaceIndex;\r\n          }\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n          finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r');\r\n          // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n          lastSpaceIndex = -1;\r\n          lineWidth = 0;\r\n        } else {\r\n          lineWidth += cLength;\r\n          lineWidth += trackingOffset;\r\n        }\r\n      }\r\n      currentHeight += (fontData.ascent * documentData.finalSize) / 100;\r\n      if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n        documentData.finalSize -= 1;\r\n        documentData.finalLineHeight = (documentData.finalSize * documentData.lh) / documentData.s;\r\n      } else {\r\n        documentData.finalText = finalText;\r\n        len = documentData.finalText.length;\r\n        flag = false;\r\n      }\r\n    }\r\n  }\r\n  lineWidth = -trackingOffset;\r\n  cLength = 0;\r\n  var uncollapsedSpaces = 0;\r\n  var currentChar;\r\n  for (i = 0; i < len; i += 1) {\r\n    newLineFlag = false;\r\n    currentChar = documentData.finalText[i];\r\n    charCode = currentChar.charCodeAt(0);\r\n    if (charCode === 13 || charCode === 3) {\r\n      uncollapsedSpaces = 0;\r\n      lineWidths.push(lineWidth);\r\n      maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n      lineWidth = -2 * trackingOffset;\r\n      val = '';\r\n      newLineFlag = true;\r\n      currentLine += 1;\r\n    } else {\r\n      val = currentChar;\r\n    }\r\n    if (fontManager.chars) {\r\n      charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n      cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n    } else {\r\n      // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n      // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n      cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n    }\r\n\r\n    //\r\n    if (currentChar === ' ') {\r\n      uncollapsedSpaces += cLength + trackingOffset;\r\n    } else {\r\n      lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n      uncollapsedSpaces = 0;\r\n    }\r\n    letters.push({\r\n      l: cLength, an: cLength, add: currentSize, n: newLineFlag, anIndexes: [], val: val, line: currentLine, animatorJustifyOffset: 0,\r\n    });\r\n    if (anchorGrouping == 2) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || val === ' ' || i === len - 1) {\r\n        if (val === '' || val === ' ') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        index += 1;\r\n        currentSize = 0;\r\n      }\r\n    } else if (anchorGrouping == 3) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || i === len - 1) {\r\n        if (val === '') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        currentSize = 0;\r\n        index += 1;\r\n      }\r\n    } else {\r\n      letters[index].ind = index;\r\n      letters[index].extra = 0;\r\n      index += 1;\r\n    }\r\n  }\r\n  documentData.l = letters;\r\n  maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n  lineWidths.push(lineWidth);\r\n  if (documentData.sz) {\r\n    documentData.boxWidth = documentData.sz[0];\r\n    documentData.justifyOffset = 0;\r\n  } else {\r\n    documentData.boxWidth = maxLineWidth;\r\n    switch (documentData.j) {\r\n      case 1:\r\n        documentData.justifyOffset = -documentData.boxWidth;\r\n        break;\r\n      case 2:\r\n        documentData.justifyOffset = -documentData.boxWidth / 2;\r\n        break;\r\n      default:\r\n        documentData.justifyOffset = 0;\r\n    }\r\n  }\r\n  documentData.lineWidths = lineWidths;\r\n\r\n  var animators = data.a; var animatorData; var\r\n    letterData;\r\n  jLen = animators.length;\r\n  var based; var ind; var\r\n    indexes = [];\r\n  for (j = 0; j < jLen; j += 1) {\r\n    animatorData = animators[j];\r\n    if (animatorData.a.sc) {\r\n      documentData.strokeColorAnim = true;\r\n    }\r\n    if (animatorData.a.sw) {\r\n      documentData.strokeWidthAnim = true;\r\n    }\r\n    if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\r\n      documentData.fillColorAnim = true;\r\n    }\r\n    ind = 0;\r\n    based = animatorData.s.b;\r\n    for (i = 0; i < len; i += 1) {\r\n      letterData = letters[i];\r\n      letterData.anIndexes[j] = ind;\r\n      if ((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))) { // eslint-disable-line eqeqeq\r\n        if (animatorData.s.rn === 1) {\r\n          indexes.push(ind);\r\n        }\r\n        ind += 1;\r\n      }\r\n    }\r\n    data.a[j].s.totalChars = ind;\r\n    var currentInd = -1; var\r\n      newInd;\r\n    if (animatorData.s.rn === 1) {\r\n      for (i = 0; i < len; i += 1) {\r\n        letterData = letters[i];\r\n        if (currentInd != letterData.anIndexes[j]) { // eslint-disable-line eqeqeq\r\n          currentInd = letterData.anIndexes[j];\r\n          newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\r\n        }\r\n        letterData.anIndexes[j] = newInd;\r\n      }\r\n    }\r\n  }\r\n  documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n  documentData.ls = documentData.ls || 0;\r\n  documentData.ascent = (fontData.ascent * documentData.finalSize) / 100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function (newData, index) {\r\n  index = index === undefined ? this.keysIndex : index;\r\n  var dData = this.copyData({}, this.data.d.k[index].s);\r\n  dData = this.copyData(dData, newData);\r\n  this.data.d.k[index].s = dData;\r\n  this.recalculate(index);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function (index) {\r\n  var dData = this.data.d.k[index].s;\r\n  dData.__complete = false;\r\n  this.keysIndex = 0;\r\n  this._isFirstFrame = true;\r\n  this.getValue(dData);\r\n};\r\n\r\nTextProperty.prototype.canResizeFont = function (_canResize) {\r\n  this.canResize = _canResize;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function (_fontValue) {\r\n  this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\n/* global extendPrototype, BezierFactory, PropertyFactory, DynamicPropertyContainer */\r\n/* exported TextSelectorProp */\r\n\r\nvar TextSelectorProp = (function () {\r\n  var max = Math.max;\r\n  var min = Math.min;\r\n  var floor = Math.floor;\r\n\r\n  function TextSelectorPropFactory(elem, data) {\r\n    this._currentTextLength = -1;\r\n    this.k = false;\r\n    this.data = data;\r\n    this.elem = elem;\r\n    this.comp = elem.comp;\r\n    this.finalS = 0;\r\n    this.finalE = 0;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: 0 }, 0, 0, this);\r\n    if ('e' in data) {\r\n      this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\r\n    } else {\r\n      this.e = { v: 100 };\r\n    }\r\n    this.o = PropertyFactory.getProp(elem, data.o || { k: 0 }, 0, 0, this);\r\n    this.xe = PropertyFactory.getProp(elem, data.xe || { k: 0 }, 0, 0, this);\r\n    this.ne = PropertyFactory.getProp(elem, data.ne || { k: 0 }, 0, 0, this);\r\n    this.sm = PropertyFactory.getProp(elem, data.sm || { k: 100 }, 0, 0, this);\r\n    this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue();\r\n    }\r\n  }\r\n\r\n  TextSelectorPropFactory.prototype = {\r\n    getMult: function (ind) {\r\n      if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n        this.getValue();\r\n      }\r\n      // var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n      var x1 = 0;\r\n      var y1 = 0;\r\n      var x2 = 1;\r\n      var y2 = 1;\r\n      if (this.ne.v > 0) {\r\n        x1 = this.ne.v / 100.0;\r\n      } else {\r\n        y1 = -this.ne.v / 100.0;\r\n      }\r\n      if (this.xe.v > 0) {\r\n        x2 = 1.0 - this.xe.v / 100.0;\r\n      } else {\r\n        y2 = 1.0 + this.xe.v / 100.0;\r\n      }\r\n      var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n\r\n      var mult = 0;\r\n      var s = this.finalS;\r\n      var e = this.finalE;\r\n      var type = this.data.sh;\r\n      if (type === 2) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 1 : 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 3) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 0 : 1;\r\n        } else {\r\n          mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n\r\n        mult = easer(mult);\r\n      } else if (type === 4) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n          if (mult < 0.5) {\r\n            mult *= 2;\r\n          } else {\r\n            mult = 1 - 2 * (mult - 0.5);\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 5) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          var tot = e - s;\r\n          /* ind += 0.5;\r\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          var x = -tot / 2 + ind;\r\n          var a = tot / 2;\r\n          mult = Math.sqrt(1 - (x * x) / (a * a));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 6) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2; // eslint-disable-line\r\n        }\r\n        mult = easer(mult);\r\n      } else {\r\n        if (ind >= floor(s)) {\r\n          if (ind - s < 0) {\r\n            mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n          } else {\r\n            mult = max(0, min(e - ind, 1));\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      }\r\n      // Smoothness implementation.\r\n      // The smoothness represents a reduced range of the original [0; 1] range.\r\n      // if smoothness is 25%, the new range will be [0.375; 0.625]\r\n      // Steps are:\r\n      // - find the lower value of the new range (threshold)\r\n      // - if multiplier is smaller than that value, floor it to 0\r\n      // - if it is larger,\r\n      //     - subtract the threshold\r\n      //     - divide it by the smoothness (this will return the range to [0; 1])\r\n      // Note: If it doesn't work on some scenarios, consider applying it before the easer.\r\n      if (this.sm.v !== 100) {\r\n        var smoothness = this.sm.v * 0.01;\r\n        if (smoothness === 0) {\r\n          smoothness = 0.00000001;\r\n        }\r\n        var threshold = 0.5 - smoothness * 0.5;\r\n        if (mult < threshold) {\r\n          mult = 0;\r\n        } else {\r\n          mult = (mult - threshold) / smoothness;\r\n          if (mult > 1) {\r\n            mult = 1;\r\n          }\r\n        }\r\n      }\r\n      return mult * this.a.v;\r\n    },\r\n    getValue: function (newCharsFlag) {\r\n      this.iterateDynamicProperties();\r\n      this._mdf = newCharsFlag || this._mdf;\r\n      this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n      if (newCharsFlag && this.data.r === 2) {\r\n        this.e.v = this._currentTextLength;\r\n      }\r\n      var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n      var o = this.o.v / divisor;\r\n      var s = this.s.v / divisor + o;\r\n      var e = (this.e.v / divisor) + o;\r\n      if (s > e) {\r\n        var _s = s;\r\n        s = e;\r\n        e = _s;\r\n      }\r\n      this.finalS = s;\r\n      this.finalE = e;\r\n    },\r\n  };\r\n  extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\r\n\r\n  function getTextSelectorProp(elem, data, arr) {\r\n    return new TextSelectorPropFactory(elem, data, arr);\r\n  }\r\n\r\n  return {\r\n    getTextSelectorProp: getTextSelectorProp,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, pooling */\r\n/* exported poolFactory */\r\n\r\nvar poolFactory = (function () {\r\n  return function (initialLength, _create, _release) {\r\n    var _length = 0;\r\n    var _maxLength = initialLength;\r\n    var pool = createSizedArray(_maxLength);\r\n\r\n    var ob = {\r\n      newElement: newElement,\r\n      release: release,\r\n    };\r\n\r\n    function newElement() {\r\n      var element;\r\n      if (_length) {\r\n        _length -= 1;\r\n        element = pool[_length];\r\n      } else {\r\n        element = _create();\r\n      }\r\n      return element;\r\n    }\r\n\r\n    function release(element) {\r\n      if (_length === _maxLength) {\r\n        pool = pooling.double(pool);\r\n        _maxLength *= 2;\r\n      }\r\n      if (_release) {\r\n        _release(element);\r\n      }\r\n      pool[_length] = element;\r\n      _length += 1;\r\n    }\r\n\r\n    return ob;\r\n  };\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported pooling */\r\n\r\nvar pooling = (function () {\r\n  function double(arr) {\r\n    return arr.concat(createSizedArray(arr.length));\r\n  }\r\n\r\n  return {\r\n    double: double,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, poolFactory */\r\n/* exported pointPool */\r\n\r\nvar pointPool = (function () {\r\n  function create() {\r\n    return createTypedArray('float32', 2);\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* global ShapePath, pointPool, poolFactory */\r\n/* exported shapePool */\r\n\r\nvar shapePool = (function () {\r\n  function create() {\r\n    return new ShapePath();\r\n  }\r\n\r\n  function release(shapePath) {\r\n    var len = shapePath._length;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      pointPool.release(shapePath.v[i]);\r\n      pointPool.release(shapePath.i[i]);\r\n      pointPool.release(shapePath.o[i]);\r\n      shapePath.v[i] = null;\r\n      shapePath.i[i] = null;\r\n      shapePath.o[i] = null;\r\n    }\r\n    shapePath._length = 0;\r\n    shapePath.c = false;\r\n  }\r\n\r\n  function clone(shape) {\r\n    var cloned = factory.newElement();\r\n    var i;\r\n    var len = shape._length === undefined ? shape.v.length : shape._length;\r\n    cloned.setLength(len);\r\n    cloned.c = shape.c;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\r\n    }\r\n    return cloned;\r\n  }\r\n\r\n  var factory = poolFactory(4, create, release);\r\n  factory.clone = clone;\r\n\r\n  return factory;\r\n}());\r\n\r\n/* global createSizedArray, ShapeCollection, shapePool, pooling */\r\n/* exported shapeCollectionPool */\r\n\r\nvar shapeCollectionPool = (function () {\r\n  var ob = {\r\n    newShapeCollection: newShapeCollection,\r\n    release: release,\r\n  };\r\n\r\n  var _length = 0;\r\n  var _maxLength = 4;\r\n  var pool = createSizedArray(_maxLength);\r\n\r\n  function newShapeCollection() {\r\n    var shapeCollection;\r\n    if (_length) {\r\n      _length -= 1;\r\n      shapeCollection = pool[_length];\r\n    } else {\r\n      shapeCollection = new ShapeCollection();\r\n    }\r\n    return shapeCollection;\r\n  }\r\n\r\n  function release(shapeCollection) {\r\n    var i;\r\n    var len = shapeCollection._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapePool.release(shapeCollection.shapes[i]);\r\n    }\r\n    shapeCollection._length = 0;\r\n\r\n    if (_length === _maxLength) {\r\n      pool = pooling.double(pool);\r\n      _maxLength *= 2;\r\n    }\r\n    pool[_length] = shapeCollection;\r\n    _length += 1;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global poolFactory, bezierLengthPool */\r\n/* exported segmentsLengthPool */\r\n\r\nvar segmentsLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      lengths: [],\r\n      totalLength: 0,\r\n    };\r\n  }\r\n\r\n  function release(element) {\r\n    var i;\r\n    var len = element.lengths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierLengthPool.release(element.lengths[i]);\r\n    }\r\n    element.lengths.length = 0;\r\n  }\r\n\r\n  return poolFactory(8, create, release);\r\n}());\r\n\r\n/* global createTypedArray, defaultCurveSegments, poolFactory */\r\n/* exported bezierLengthPool */\r\n\r\nvar bezierLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      addedLength: 0,\r\n      percents: createTypedArray('float32', defaultCurveSegments),\r\n      lengths: createTypedArray('float32', defaultCurveSegments),\r\n    };\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* exported markerParser */\r\n\r\nvar markerParser = (\r\n\r\n  function () {\r\n    function parsePayloadLines(payload) {\r\n      var lines = payload.split('\\r\\n');\r\n      var keys = {};\r\n      var line;\r\n      var keysCount = 0;\r\n      for (var i = 0; i < lines.length; i += 1) {\r\n        line = lines[i].split(':');\r\n        if (line.length === 2) {\r\n          keys[line[0]] = line[1].trim();\r\n          keysCount += 1;\r\n        }\r\n      }\r\n      if (keysCount === 0) {\r\n        throw new Error();\r\n      }\r\n      return keys;\r\n    }\r\n\r\n    return function (_markers) {\r\n      var markers = [];\r\n      for (var i = 0; i < _markers.length; i += 1) {\r\n        var _marker = _markers[i];\r\n        var markerData = {\r\n          time: _marker.tm,\r\n          duration: _marker.dr,\r\n        };\r\n        try {\r\n          markerData.payload = JSON.parse(_markers[i].cm);\r\n        } catch (_) {\r\n          try {\r\n            markerData.payload = parsePayloadLines(_markers[i].cm);\r\n          } catch (__) {\r\n            markerData.payload = {\r\n              name: _markers[i],\r\n            };\r\n          }\r\n        }\r\n        markers.push(markerData);\r\n      }\r\n      return markers;\r\n    };\r\n  }());\r\n\r\n/* global AudioElement, FootageElement, FontManager */\r\n\r\nfunction BaseRenderer() {}\r\nBaseRenderer.prototype.checkLayers = function (num) {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var data;\r\n  this.completeLayers = true;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (!this.elements[i]) {\r\n      data = this.layers[i];\r\n      if (data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st)) {\r\n        this.buildItem(i);\r\n      }\r\n    }\r\n    this.completeLayers = this.elements[i] ? this.completeLayers : false;\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function (layer) {\r\n  switch (layer.ty) {\r\n    case 2:\r\n      return this.createImage(layer);\r\n    case 0:\r\n      return this.createComp(layer);\r\n    case 1:\r\n      return this.createSolid(layer);\r\n    case 3:\r\n      return this.createNull(layer);\r\n    case 4:\r\n      return this.createShape(layer);\r\n    case 5:\r\n      return this.createText(layer);\r\n    case 6:\r\n      return this.createAudio(layer);\r\n    case 13:\r\n      return this.createCamera(layer);\r\n    case 15:\r\n      return this.createFootage(layer);\r\n    default:\r\n      return this.createNull(layer);\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function () {\r\n  throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.createAudio = function (data) {\r\n  return new AudioElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.createFootage = function (data) {\r\n  return new FootageElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.buildItem(i);\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function (newLayers) {\r\n  this.completeLayers = false;\r\n  var i;\r\n  var len = newLayers.length;\r\n  var j;\r\n  var jLen = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    j = 0;\r\n    while (j < jLen) {\r\n      if (this.layers[j].id === newLayers[i].id) {\r\n        this.layers[j] = newLayers[i];\r\n        break;\r\n      }\r\n      j += 1;\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function (pInterface) {\r\n  this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function () {\r\n  if (!this.globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\r\n  var elements = this.elements;\r\n  var layers = this.layers;\r\n  var i = 0;\r\n  var len = layers.length;\r\n  while (i < len) {\r\n    if (layers[i].ind == parentName) { // eslint-disable-line eqeqeq\r\n      if (!elements[i] || elements[i] === true) {\r\n        this.buildItem(i);\r\n        this.addPendingElement(element);\r\n      } else {\r\n        hierarchy.push(elements[i]);\r\n        elements[i].setAsParent();\r\n        if (layers[i].parent !== undefined) {\r\n          this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n        } else {\r\n          element.setHierarchy(hierarchy);\r\n        }\r\n      }\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function (element) {\r\n  this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i]);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\r\n  this.globalData.fontManager = new FontManager();\r\n  this.globalData.fontManager.addChars(animData.chars);\r\n  this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n  this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n  this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n  this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n  this.globalData.audioController = this.animationItem.audioController;\r\n  this.globalData.frameId = 0;\r\n  this.globalData.frameRate = animData.fr;\r\n  this.globalData.nm = animData.nm;\r\n  this.globalData.compSize = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n  };\r\n};\r\n\r\n/* global createElementID, extendPrototype, BaseRenderer, NullElement, SVGShapeElement, SVGTextLottieElement,\r\nIImageElement, SVGCompElement, ISolidElement, createNS, locationHref, createSizedArray, expressionsPlugin */\r\n\r\nfunction SVGRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.svgElement = createNS('svg');\r\n  var ariaLabel = '';\r\n  if (config && config.title) {\r\n    var titleElement = createNS('title');\r\n    var titleId = createElementID();\r\n    titleElement.setAttribute('id', titleId);\r\n    titleElement.textContent = config.title;\r\n    this.svgElement.appendChild(titleElement);\r\n    ariaLabel += titleId;\r\n  }\r\n  if (config && config.description) {\r\n    var descElement = createNS('desc');\r\n    var descId = createElementID();\r\n    descElement.setAttribute('id', descId);\r\n    descElement.textContent = config.description;\r\n    this.svgElement.appendChild(descElement);\r\n    ariaLabel += ' ' + descId;\r\n  }\r\n  if (ariaLabel) {\r\n    this.svgElement.setAttribute('aria-labelledby', ariaLabel);\r\n  }\r\n  var defs = createNS('defs');\r\n  this.svgElement.appendChild(defs);\r\n  var maskElement = createNS('g');\r\n  this.svgElement.appendChild(maskElement);\r\n  this.layerElement = maskElement;\r\n  this.renderConfig = {\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    contentVisibility: (config && config.contentVisibility) || 'visible',\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    hideOnTransparent: !((config && config.hideOnTransparent === false)),\r\n    viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n    viewBoxSize: (config && config.viewBoxSize) || false,\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n    focusable: config && config.focusable,\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '100%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '100%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '0%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '0%',\r\n    },\r\n  };\r\n\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    defs: defs,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.destroyed = false;\r\n  this.rendererType = 'svg';\r\n}\r\n\r\nextendPrototype([BaseRenderer], SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n  return new NullElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n  return new SVGShapeElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n  return new SVGTextLottieElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n  return new IImageElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n  return new SVGCompElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n  return new ISolidElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function (animData) {\r\n  this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n  if (this.renderConfig.viewBoxSize) {\r\n    this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\r\n  } else {\r\n    this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\r\n  }\r\n\r\n  if (!this.renderConfig.viewBoxOnly) {\r\n    this.svgElement.setAttribute('width', animData.w);\r\n    this.svgElement.setAttribute('height', animData.h);\r\n    this.svgElement.style.width = '100%';\r\n    this.svgElement.style.height = '100%';\r\n    this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n    this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\r\n  }\r\n  if (this.renderConfig.className) {\r\n    this.svgElement.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  if (this.renderConfig.id) {\r\n    this.svgElement.setAttribute('id', this.renderConfig.id);\r\n  }\r\n  if (this.renderConfig.focusable !== undefined) {\r\n    this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n  }\r\n  this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio);\r\n  // this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n  // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n  this.animationItem.wrapper.appendChild(this.svgElement);\r\n  // Mask animation\r\n  var defs = this.globalData.defs;\r\n\r\n  this.setupGlobalData(animData, defs);\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.data = animData;\r\n\r\n  var maskElement = createNS('clipPath');\r\n  var rect = createNS('rect');\r\n  rect.setAttribute('width', animData.w);\r\n  rect.setAttribute('height', animData.h);\r\n  rect.setAttribute('x', 0);\r\n  rect.setAttribute('y', 0);\r\n  var maskId = createElementID();\r\n  maskElement.setAttribute('id', maskId);\r\n  maskElement.appendChild(rect);\r\n  this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + maskId + ')');\r\n\r\n  defs.appendChild(maskElement);\r\n  this.layers = animData.layers;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.layerElement = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  elements[pos] = true;\r\n  var element = this.createItem(this.layers[pos]);\r\n\r\n  elements[pos] = element;\r\n  if (expressionsPlugin) {\r\n    if (this.layers[pos].ty === 0) {\r\n      this.globalData.projectInterface.registerComposition(element);\r\n    }\r\n    element.initExpressions();\r\n  }\r\n  this.appendElementInPos(element, pos);\r\n  if (this.layers[pos].tt) {\r\n    if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\r\n      this.buildItem(pos - 1);\r\n      this.addPendingElement(element);\r\n    } else {\r\n      element.setMatte(elements[pos - 1].layerId);\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n    if (element.data.tt) {\r\n      var i = 0;\r\n      var len = this.elements.length;\r\n      while (i < len) {\r\n        if (this.elements[i] === element) {\r\n          element.setMatte(this.elements[i - 1].layerId);\r\n          break;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function (num) {\r\n  if (this.renderedFrame === num || this.destroyed) {\r\n    return;\r\n  }\r\n  if (num === null) {\r\n    num = this.renderedFrame;\r\n  } else {\r\n    this.renderedFrame = num;\r\n  }\r\n  // console.log('-------');\r\n  // console.log('FRAME ',num);\r\n  this.globalData.frameNum = num;\r\n  this.globalData.frameId += 1;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n  this.globalData._mdf = false;\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newElement = element.getBaseElement();\r\n  if (!newElement) {\r\n    return;\r\n  }\r\n  var i = 0;\r\n  var nextElement;\r\n  while (i < pos) {\r\n    if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\r\n      nextElement = this.elements[i].getBaseElement();\r\n    }\r\n    i += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(newElement, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(newElement);\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function () {\r\n  this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function () {\r\n  this.layerElement.style.display = 'block';\r\n};\r\n\r\n/* global CVContextData, Matrix, extendPrototype, BaseRenderer, CVShapeElement, CVTextElement,\r\nCVImageElement, CVCompElement, CVSolidElement, SVGRenderer, createTag, createSizedArray */\r\n\r\nfunction CanvasRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.renderConfig = {\r\n    clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\r\n    context: (config && config.context) || null,\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    contentVisibility: (config && config.contentVisibility) || 'visible',\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n  };\r\n  this.renderConfig.dpr = (config && config.dpr) || 1;\r\n  if (this.animationItem.wrapper) {\r\n    this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\r\n  }\r\n  this.renderedFrame = -1;\r\n  this.globalData = {\r\n    frameNum: -1,\r\n    _mdf: false,\r\n    renderConfig: this.renderConfig,\r\n    currentGlobalAlpha: -1,\r\n  };\r\n  this.contextData = new CVContextData();\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.transformMat = new Matrix();\r\n  this.completeLayers = false;\r\n  this.rendererType = 'canvas';\r\n}\r\nextendPrototype([BaseRenderer], CanvasRenderer);\r\n\r\nCanvasRenderer.prototype.createShape = function (data) {\r\n  return new CVShapeElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createText = function (data) {\r\n  return new CVTextElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createImage = function (data) {\r\n  return new CVImageElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createComp = function (data) {\r\n  return new CVCompElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createSolid = function (data) {\r\n  return new CVSolidElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nCanvasRenderer.prototype.ctxTransform = function (props) {\r\n  if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\r\n    return;\r\n  }\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\r\n    return;\r\n  }\r\n  this.transformMat.cloneFromProps(props);\r\n  var cProps = this.contextData.cTr.props;\r\n  this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]);\r\n  // this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n  this.contextData.cTr.cloneFromProps(this.transformMat.props);\r\n  var trProps = this.contextData.cTr.props;\r\n  this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\r\n};\r\n\r\nCanvasRenderer.prototype.ctxOpacity = function (op) {\r\n  /* if(op === 1){\r\n        return;\r\n    } */\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n    return;\r\n  }\r\n  this.contextData.cO *= op < 0 ? 0 : op;\r\n  if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\r\n    this.canvasContext.globalAlpha = this.contextData.cO;\r\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.reset = function () {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.restore();\r\n    return;\r\n  }\r\n  this.contextData.reset();\r\n};\r\n\r\nCanvasRenderer.prototype.save = function (actionFlag) {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.save();\r\n    return;\r\n  }\r\n  if (actionFlag) {\r\n    this.canvasContext.save();\r\n  }\r\n  var props = this.contextData.cTr.props;\r\n  if (this.contextData._length <= this.contextData.cArrPos) {\r\n    this.contextData.duplicate();\r\n  }\r\n  var i;\r\n  var arr = this.contextData.saved[this.contextData.cArrPos];\r\n  for (i = 0; i < 16; i += 1) {\r\n    arr[i] = props[i];\r\n  }\r\n  this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\r\n  this.contextData.cArrPos += 1;\r\n};\r\n\r\nCanvasRenderer.prototype.restore = function (actionFlag) {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.restore();\r\n    return;\r\n  }\r\n  if (actionFlag) {\r\n    this.canvasContext.restore();\r\n    this.globalData.blendMode = 'source-over';\r\n  }\r\n  this.contextData.cArrPos -= 1;\r\n  var popped = this.contextData.saved[this.contextData.cArrPos];\r\n  var i;\r\n  var arr = this.contextData.cTr.props;\r\n  for (i = 0; i < 16; i += 1) {\r\n    arr[i] = popped[i];\r\n  }\r\n  this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\r\n  popped = this.contextData.savedOp[this.contextData.cArrPos];\r\n  this.contextData.cO = popped;\r\n  if (this.globalData.currentGlobalAlpha !== popped) {\r\n    this.canvasContext.globalAlpha = popped;\r\n    this.globalData.currentGlobalAlpha = popped;\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.configAnimation = function (animData) {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.container = createTag('canvas');\r\n    var containerStyle = this.animationItem.container.style;\r\n    containerStyle.width = '100%';\r\n    containerStyle.height = '100%';\r\n    var origin = '0px 0px 0px';\r\n    containerStyle.transformOrigin = origin;\r\n    containerStyle.mozTransformOrigin = origin;\r\n    containerStyle.webkitTransformOrigin = origin;\r\n    containerStyle['-webkit-transform'] = origin;\r\n    containerStyle.contentVisibility = this.renderConfig.contentVisibility;\r\n    this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n    this.canvasContext = this.animationItem.container.getContext('2d');\r\n    if (this.renderConfig.className) {\r\n      this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    if (this.renderConfig.id) {\r\n      this.animationItem.container.setAttribute('id', this.renderConfig.id);\r\n    }\r\n  } else {\r\n    this.canvasContext = this.renderConfig.context;\r\n  }\r\n  this.data = animData;\r\n  this.layers = animData.layers;\r\n  this.transformCanvas = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n    sx: 0,\r\n    sy: 0,\r\n    tx: 0,\r\n    ty: 0,\r\n  };\r\n  this.setupGlobalData(animData, document.body);\r\n  this.globalData.canvasContext = this.canvasContext;\r\n  this.globalData.renderer = this;\r\n  this.globalData.isDashed = false;\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.globalData.transformCanvas = this.transformCanvas;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n\r\n  this.updateContainerSize();\r\n};\r\n\r\nCanvasRenderer.prototype.updateContainerSize = function () {\r\n  this.reset();\r\n  var elementWidth;\r\n  var elementHeight;\r\n  if (this.animationItem.wrapper && this.animationItem.container) {\r\n    elementWidth = this.animationItem.wrapper.offsetWidth;\r\n    elementHeight = this.animationItem.wrapper.offsetHeight;\r\n    this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\r\n    this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\r\n  } else {\r\n    elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\r\n    elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\r\n  }\r\n  var elementRel;\r\n  var animationRel;\r\n  if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\r\n    var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n    var fillType = par[1] || 'meet';\r\n    var pos = par[0] || 'xMidYMid';\r\n    var xPos = pos.substr(0, 4);\r\n    var yPos = pos.substr(4);\r\n    elementRel = elementWidth / elementHeight;\r\n    animationRel = this.transformCanvas.w / this.transformCanvas.h;\r\n    if ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice')) {\r\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n    } else {\r\n      this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n    }\r\n\r\n    if (xPos === 'xMid' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.tx = ((elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2) * this.renderConfig.dpr;\r\n    } else if (xPos === 'xMax' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\r\n    } else {\r\n      this.transformCanvas.tx = 0;\r\n    }\r\n    if (yPos === 'YMid' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2) * this.renderConfig.dpr;\r\n    } else if (yPos === 'YMax' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w))) * this.renderConfig.dpr;\r\n    } else {\r\n      this.transformCanvas.ty = 0;\r\n    }\r\n  } else if (this.renderConfig.preserveAspectRatio === 'none') {\r\n    this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n    this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n    this.transformCanvas.tx = 0;\r\n    this.transformCanvas.ty = 0;\r\n  } else {\r\n    this.transformCanvas.sx = this.renderConfig.dpr;\r\n    this.transformCanvas.sy = this.renderConfig.dpr;\r\n    this.transformCanvas.tx = 0;\r\n    this.transformCanvas.ty = 0;\r\n  }\r\n  this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\r\n  /* var i, len = this.elements.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.elements[i] && this.elements[i].data.ty === 0){\r\n            this.elements[i].resize(this.globalData.transformCanvas);\r\n        }\r\n    } */\r\n  this.ctxTransform(this.transformCanvas.props);\r\n  this.canvasContext.beginPath();\r\n  this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n  this.canvasContext.closePath();\r\n  this.canvasContext.clip();\r\n\r\n  this.renderFrame(this.renderedFrame, true);\r\n};\r\n\r\nCanvasRenderer.prototype.destroy = function () {\r\n  if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.globalData.canvasContext = null;\r\n  this.animationItem.container = null;\r\n  this.destroyed = true;\r\n};\r\n\r\nCanvasRenderer.prototype.renderFrame = function (num, forceRender) {\r\n  if ((this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender) || this.destroyed || num === -1) {\r\n    return;\r\n  }\r\n  this.renderedFrame = num;\r\n  this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n  this.globalData.frameId += 1;\r\n  this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n\r\n  // console.log('--------');\r\n  // console.log('NEW: ',num);\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    if (this.renderConfig.clearCanvas === true) {\r\n      this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n    } else {\r\n      this.save();\r\n    }\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n    if (this.renderConfig.clearCanvas !== true) {\r\n      this.restore();\r\n    }\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  var element = this.createItem(this.layers[pos], this, this.globalData);\r\n  elements[pos] = element;\r\n  element.initExpressions();\r\n  /* if(this.layers[pos].ty === 0){\r\n        element.resize(this.globalData.transformCanvas);\r\n    } */\r\n};\r\n\r\nCanvasRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.hide = function () {\r\n  this.animationItem.container.style.display = 'none';\r\n};\r\n\r\nCanvasRenderer.prototype.show = function () {\r\n  this.animationItem.container.style.display = 'block';\r\n};\r\n\r\n/* global extendPrototype, BaseRenderer, SVGRenderer, SVGShapeElement, HShapeElement, SVGTextLottieElement,\r\nHTextElement, HCameraElement, IImageElement, HImageElement, SVGCompElement, HCompElement, ISolidElement,\r\nHSolidElement, styleDiv, createTag, createNS */\r\n\r\nfunction HybridRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.renderConfig = {\r\n    className: (config && config.className) || '',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    hideOnTransparent: !(config && config.hideOnTransparent === false),\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '400%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '400%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '-100%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '-100%',\r\n    },\r\n  };\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.pendingElements = [];\r\n  this.elements = [];\r\n  this.threeDElements = [];\r\n  this.destroyed = false;\r\n  this.camera = null;\r\n  this.supports3d = true;\r\n  this.rendererType = 'html';\r\n}\r\n\r\nextendPrototype([BaseRenderer], HybridRenderer);\r\n\r\nHybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem;\r\n\r\nHybridRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newDOMElement = element.getBaseElement();\r\n  if (!newDOMElement) {\r\n    return;\r\n  }\r\n  var layer = this.layers[pos];\r\n  if (!layer.ddd || !this.supports3d) {\r\n    if (this.threeDElements) {\r\n      this.addTo3dContainer(newDOMElement, pos);\r\n    } else {\r\n      var i = 0;\r\n      var nextDOMElement;\r\n      var nextLayer;\r\n      var tmpDOMElement;\r\n      while (i < pos) {\r\n        if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\r\n          nextLayer = this.elements[i];\r\n          tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\r\n          nextDOMElement = tmpDOMElement || nextDOMElement;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (nextDOMElement) {\r\n        if (!layer.ddd || !this.supports3d) {\r\n          this.layerElement.insertBefore(newDOMElement, nextDOMElement);\r\n        }\r\n      } else if (!layer.ddd || !this.supports3d) {\r\n        this.layerElement.appendChild(newDOMElement);\r\n      }\r\n    }\r\n  } else {\r\n    this.addTo3dContainer(newDOMElement, pos);\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.createShape = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGShapeElement(data, this.globalData, this);\r\n  }\r\n  return new HShapeElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createText = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGTextLottieElement(data, this.globalData, this);\r\n  }\r\n  return new HTextElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createCamera = function (data) {\r\n  this.camera = new HCameraElement(data, this.globalData, this);\r\n  return this.camera;\r\n};\r\n\r\nHybridRenderer.prototype.createImage = function (data) {\r\n  if (!this.supports3d) {\r\n    return new IImageElement(data, this.globalData, this);\r\n  }\r\n  return new HImageElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createComp = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGCompElement(data, this.globalData, this);\r\n  }\r\n  return new HCompElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createSolid = function (data) {\r\n  if (!this.supports3d) {\r\n    return new ISolidElement(data, this.globalData, this);\r\n  }\r\n  return new HSolidElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nHybridRenderer.prototype.getThreeDContainerByPos = function (pos) {\r\n  var i = 0;\r\n  var len = this.threeDElements.length;\r\n  while (i < len) {\r\n    if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\r\n      return this.threeDElements[i].perspectiveElem;\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nHybridRenderer.prototype.createThreeDContainer = function (pos, type) {\r\n  var perspectiveElem = createTag('div');\r\n  var style;\r\n  var containerStyle;\r\n  styleDiv(perspectiveElem);\r\n  var container = createTag('div');\r\n  styleDiv(container);\r\n  if (type === '3d') {\r\n    style = perspectiveElem.style;\r\n    style.width = this.globalData.compSize.w + 'px';\r\n    style.height = this.globalData.compSize.h + 'px';\r\n    var center = '50% 50%';\r\n    style.webkitTransformOrigin = center;\r\n    style.mozTransformOrigin = center;\r\n    style.transformOrigin = center;\r\n    containerStyle = container.style;\r\n    var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n    containerStyle.transform = matrix;\r\n    containerStyle.webkitTransform = matrix;\r\n  }\r\n\r\n  perspectiveElem.appendChild(container);\r\n  // this.resizerElem.appendChild(perspectiveElem);\r\n  var threeDContainerData = {\r\n    container: container,\r\n    perspectiveElem: perspectiveElem,\r\n    startPos: pos,\r\n    endPos: pos,\r\n    type: type,\r\n  };\r\n  this.threeDElements.push(threeDContainerData);\r\n  return threeDContainerData;\r\n};\r\n\r\nHybridRenderer.prototype.build3dContainers = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var lastThreeDContainerData;\r\n  var currentContainer = '';\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.layers[i].ddd && this.layers[i].ty !== 3) {\r\n      if (currentContainer !== '3d') {\r\n        currentContainer = '3d';\r\n        lastThreeDContainerData = this.createThreeDContainer(i, '3d');\r\n      }\r\n      lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n    } else {\r\n      if (currentContainer !== '2d') {\r\n        currentContainer = '2d';\r\n        lastThreeDContainerData = this.createThreeDContainer(i, '2d');\r\n      }\r\n      lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n    }\r\n  }\r\n  len = this.threeDElements.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.addTo3dContainer = function (elem, pos) {\r\n  var i = 0;\r\n  var len = this.threeDElements.length;\r\n  while (i < len) {\r\n    if (pos <= this.threeDElements[i].endPos) {\r\n      var j = this.threeDElements[i].startPos;\r\n      var nextElement;\r\n      while (j < pos) {\r\n        if (this.elements[j] && this.elements[j].getBaseElement) {\r\n          nextElement = this.elements[j].getBaseElement();\r\n        }\r\n        j += 1;\r\n      }\r\n      if (nextElement) {\r\n        this.threeDElements[i].container.insertBefore(elem, nextElement);\r\n      } else {\r\n        this.threeDElements[i].container.appendChild(elem);\r\n      }\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.configAnimation = function (animData) {\r\n  var resizerElem = createTag('div');\r\n  var wrapper = this.animationItem.wrapper;\r\n  var style = resizerElem.style;\r\n  style.width = animData.w + 'px';\r\n  style.height = animData.h + 'px';\r\n  this.resizerElem = resizerElem;\r\n  styleDiv(resizerElem);\r\n  style.transformStyle = 'flat';\r\n  style.mozTransformStyle = 'flat';\r\n  style.webkitTransformStyle = 'flat';\r\n  if (this.renderConfig.className) {\r\n    resizerElem.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  wrapper.appendChild(resizerElem);\r\n\r\n  style.overflow = 'hidden';\r\n  var svg = createNS('svg');\r\n  svg.setAttribute('width', '1');\r\n  svg.setAttribute('height', '1');\r\n  styleDiv(svg);\r\n  this.resizerElem.appendChild(svg);\r\n  var defs = createNS('defs');\r\n  svg.appendChild(defs);\r\n  this.data = animData;\r\n  // Mask animation\r\n  this.setupGlobalData(animData, svg);\r\n  this.globalData.defs = defs;\r\n  this.layers = animData.layers;\r\n  this.layerElement = this.resizerElem;\r\n  this.build3dContainers();\r\n  this.updateContainerSize();\r\n};\r\n\r\nHybridRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.animationItem.container = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.elements[i].destroy();\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nHybridRenderer.prototype.updateContainerSize = function () {\r\n  var elementWidth = this.animationItem.wrapper.offsetWidth;\r\n  var elementHeight = this.animationItem.wrapper.offsetHeight;\r\n  var elementRel = elementWidth / elementHeight;\r\n  var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\r\n  var sx;\r\n  var sy;\r\n  var tx;\r\n  var ty;\r\n  if (animationRel > elementRel) {\r\n    sx = elementWidth / (this.globalData.compSize.w);\r\n    sy = elementWidth / (this.globalData.compSize.w);\r\n    tx = 0;\r\n    ty = ((elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2);\r\n  } else {\r\n    sx = elementHeight / (this.globalData.compSize.h);\r\n    sy = elementHeight / (this.globalData.compSize.h);\r\n    tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\r\n    ty = 0;\r\n  }\r\n  var style = this.resizerElem.style;\r\n  style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\r\n  style.transform = style.webkitTransform;\r\n};\r\n\r\nHybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\r\n\r\nHybridRenderer.prototype.hide = function () {\r\n  this.resizerElem.style.display = 'none';\r\n};\r\n\r\nHybridRenderer.prototype.show = function () {\r\n  this.resizerElem.style.display = 'block';\r\n};\r\n\r\nHybridRenderer.prototype.initItems = function () {\r\n  this.buildAllItems();\r\n  if (this.camera) {\r\n    this.camera.setup();\r\n  } else {\r\n    var cWidth = this.globalData.compSize.w;\r\n    var cHeight = this.globalData.compSize.h;\r\n    var i;\r\n    var len = this.threeDElements.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      var style = this.threeDElements[i].perspectiveElem.style;\r\n      style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\r\n      style.perspective = style.webkitPerspective;\r\n    }\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  var floatingContainer = createTag('div');\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createSizedArray, createElementID, PropertyFactory, ShapePropertyFactory, createNS, locationHref */\r\n\r\nfunction MaskElement(data, element, globalData) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.globalData = globalData;\r\n  this.storedData = [];\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.maskElement = null;\r\n  var defs = this.globalData.defs;\r\n  var i;\r\n  var len = this.masksProperties ? this.masksProperties.length : 0;\r\n  this.viewData = createSizedArray(len);\r\n  this.solidPath = '';\r\n\r\n  var path;\r\n  var properties = this.masksProperties;\r\n  var count = 0;\r\n  var currentMasks = [];\r\n  var j;\r\n  var jLen;\r\n  var layerId = createElementID();\r\n  var rect;\r\n  var expansor;\r\n  var feMorph;\r\n  var x;\r\n  var maskType = 'clipPath';\r\n  var maskRef = 'clip-path';\r\n  for (i = 0; i < len; i += 1) {\r\n    if ((properties[i].mode !== 'a' && properties[i].mode !== 'n') || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\r\n      maskType = 'mask';\r\n      maskRef = 'mask';\r\n    }\r\n\r\n    if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\r\n      rect = createNS('rect');\r\n      rect.setAttribute('fill', '#ffffff');\r\n      rect.setAttribute('width', this.element.comp.data.w || 0);\r\n      rect.setAttribute('height', this.element.comp.data.h || 0);\r\n      currentMasks.push(rect);\r\n    } else {\r\n      rect = null;\r\n    }\r\n\r\n    path = createNS('path');\r\n    if (properties[i].mode === 'n') {\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        elem: path,\r\n        lastPath: '',\r\n      };\r\n      defs.appendChild(path);\r\n    } else {\r\n      count += 1;\r\n\r\n      path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      path.setAttribute('clip-rule', 'nonzero');\r\n      var filterID;\r\n\r\n      if (properties[i].x.k !== 0) {\r\n        maskType = 'mask';\r\n        maskRef = 'mask';\r\n        x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\r\n        filterID = createElementID();\r\n        expansor = createNS('filter');\r\n        expansor.setAttribute('id', filterID);\r\n        feMorph = createNS('feMorphology');\r\n        feMorph.setAttribute('operator', 'erode');\r\n        feMorph.setAttribute('in', 'SourceGraphic');\r\n        feMorph.setAttribute('radius', '0');\r\n        expansor.appendChild(feMorph);\r\n        defs.appendChild(expansor);\r\n        path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      } else {\r\n        feMorph = null;\r\n        x = null;\r\n      }\r\n\r\n      // TODO move this to a factory or to a constructor\r\n      this.storedData[i] = {\r\n        elem: path,\r\n        x: x,\r\n        expan: feMorph,\r\n        lastPath: '',\r\n        lastOperator: '',\r\n        filterId: filterID,\r\n        lastRadius: 0,\r\n      };\r\n      if (properties[i].mode === 'i') {\r\n        jLen = currentMasks.length;\r\n        var g = createNS('g');\r\n        for (j = 0; j < jLen; j += 1) {\r\n          g.appendChild(currentMasks[j]);\r\n        }\r\n        var mask = createNS('mask');\r\n        mask.setAttribute('mask-type', 'alpha');\r\n        mask.setAttribute('id', layerId + '_' + count);\r\n        mask.appendChild(path);\r\n        defs.appendChild(mask);\r\n        g.setAttribute('mask', 'url(' + locationHref + '#' + layerId + '_' + count + ')');\r\n\r\n        currentMasks.length = 0;\r\n        currentMasks.push(g);\r\n      } else {\r\n        currentMasks.push(path);\r\n      }\r\n      if (properties[i].inv && !this.solidPath) {\r\n        this.solidPath = this.createLayerSolidPath();\r\n      }\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        elem: path,\r\n        lastPath: '',\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        invRect: rect,\r\n      };\r\n      if (!this.viewData[i].prop.k) {\r\n        this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  this.maskElement = createNS(maskType);\r\n\r\n  len = currentMasks.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.maskElement.appendChild(currentMasks[i]);\r\n  }\r\n\r\n  if (count > 0) {\r\n    this.maskElement.setAttribute('id', layerId);\r\n    this.element.maskedElement.setAttribute(maskRef, 'url(' + locationHref + '#' + layerId + ')');\r\n    defs.appendChild(this.maskElement);\r\n  }\r\n  if (this.viewData.length) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function (pos) {\r\n  return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n  var finalMat = this.element.finalTransform.mat;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.viewData[i].prop._mdf || isFirstFrame) {\r\n      this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n    }\r\n    if (this.viewData[i].op._mdf || isFirstFrame) {\r\n      this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\r\n    }\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\r\n        this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\r\n      }\r\n      if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\r\n        var feMorph = this.storedData[i].expan;\r\n        if (this.storedData[i].x.v < 0) {\r\n          if (this.storedData[i].lastOperator !== 'erode') {\r\n            this.storedData[i].lastOperator = 'erode';\r\n            this.storedData[i].elem.setAttribute('filter', 'url(' + locationHref + '#' + this.storedData[i].filterId + ')');\r\n          }\r\n          feMorph.setAttribute('radius', -this.storedData[i].x.v);\r\n        } else {\r\n          if (this.storedData[i].lastOperator !== 'dilate') {\r\n            this.storedData[i].lastOperator = 'dilate';\r\n            this.storedData[i].elem.setAttribute('filter', null);\r\n          }\r\n          this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n  return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function () {\r\n  var path = 'M0,0 ';\r\n  path += ' h' + this.globalData.compSize.w;\r\n  path += ' v' + this.globalData.compSize.h;\r\n  path += ' h-' + this.globalData.compSize.w;\r\n  path += ' v-' + this.globalData.compSize.h + ' ';\r\n  return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\r\n  var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  var i;\r\n  var len;\r\n  len = pathNodes._length;\r\n  for (i = 1; i < len; i += 1) {\r\n    // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\r\n  }\r\n  // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n  if (pathNodes.c && len > 1) {\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  }\r\n  // pathNodes.__renderedString = pathString;\r\n\r\n  if (viewData.lastPath !== pathString) {\r\n    var pathShapeValue = '';\r\n    if (viewData.elem) {\r\n      if (pathNodes.c) {\r\n        pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n      }\r\n      viewData.elem.setAttribute('d', pathShapeValue);\r\n    }\r\n    viewData.lastPath = pathString;\r\n  }\r\n};\r\n\r\nMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n  this.globalData = null;\r\n  this.maskElement = null;\r\n  this.data = null;\r\n  this.masksProperties = null;\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement() {}\r\n\r\nHierarchyElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n  initHierarchy: function () {\r\n    // element's parent list\r\n    this.hierarchy = [];\r\n    // if element is parent of another layer _isParent will be true\r\n    this._isParent = false;\r\n    this.checkParenting();\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */\r\n  setHierarchy: function (hierarchy) {\r\n    this.hierarchy = hierarchy;\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer as parent.\r\n     *\r\n     */\r\n  setAsParent: function () {\r\n    this._isParent = true;\r\n  },\r\n  /**\r\n     * @function\r\n     * Searches layer's parenting chain\r\n     *\r\n     */\r\n  checkParenting: function () {\r\n    if (this.data.parent !== undefined) {\r\n      this.comp.buildElementParenting(this, this.data.parent, []);\r\n    }\r\n  },\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement() {}\r\n\r\nFrameElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n  initFrame: function () {\r\n    // set to true when inpoint is rendered\r\n    this._isFirstFrame = false;\r\n    // list of animated properties\r\n    this.dynamicProperties = [];\r\n    // If layer has been modified in current tick this will be true\r\n    this._mdf = false;\r\n  },\r\n  /**\r\n     * @function\r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     *\r\n     */\r\n  prepareProperties: function (num, isVisible) {\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n        this.dynamicProperties[i].getValue();\r\n        if (this.dynamicProperties[i]._mdf) {\r\n          this.globalData._mdf = true;\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n    }\r\n  },\r\n};\r\n\r\n/* global TransformPropertyFactory, Matrix */\r\n\r\nfunction TransformElement() {}\r\n\r\nTransformElement.prototype = {\r\n  initTransform: function () {\r\n    this.finalTransform = {\r\n      mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : { o: 0 },\r\n      _matMdf: false,\r\n      _opMdf: false,\r\n      mat: new Matrix(),\r\n    };\r\n    if (this.data.ao) {\r\n      this.finalTransform.mProp.autoOriented = true;\r\n    }\r\n\r\n    // TODO: check TYPE 11: Guided elements\r\n    if (this.data.ty !== 11) {\r\n      // this.createElements();\r\n    }\r\n  },\r\n  renderTransform: function () {\r\n    this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n    this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n    if (this.hierarchy) {\r\n      var mat;\r\n      var finalMat = this.finalTransform.mat;\r\n      var i = 0;\r\n      var len = this.hierarchy.length;\r\n      // Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n      if (!this.finalTransform._matMdf) {\r\n        while (i < len) {\r\n          if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n            this.finalTransform._matMdf = true;\r\n            break;\r\n          }\r\n          i += 1;\r\n        }\r\n      }\r\n\r\n      if (this.finalTransform._matMdf) {\r\n        mat = this.finalTransform.mProp.v.props;\r\n        finalMat.cloneFromProps(mat);\r\n        for (i = 0; i < len; i += 1) {\r\n          mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n          finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  globalToLocal: function (pt) {\r\n    var transforms = [];\r\n    transforms.push(this.finalTransform);\r\n    var flag = true;\r\n    var comp = this.comp;\r\n    while (flag) {\r\n      if (comp.finalTransform) {\r\n        if (comp.data.hasMask) {\r\n          transforms.splice(0, 0, comp.finalTransform);\r\n        }\r\n        comp = comp.comp;\r\n      } else {\r\n        flag = false;\r\n      }\r\n    }\r\n    var i;\r\n    var len = transforms.length;\r\n    var ptNew;\r\n    for (i = 0; i < len; i += 1) {\r\n      ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n      // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n      pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n    }\r\n    return pt;\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\n\r\nfunction RenderableElement() {\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n  initRenderable: function () {\r\n    // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n    this.isInRange = false;\r\n    // layer's display state\r\n    this.hidden = false;\r\n    // If layer's transparency equals 0, it can be hidden\r\n    this.isTransparent = false;\r\n    // list of animated components\r\n    this.renderableComponents = [];\r\n  },\r\n  addRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) === -1) {\r\n      this.renderableComponents.push(component);\r\n    }\r\n  },\r\n  removeRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) !== -1) {\r\n      this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n    }\r\n  },\r\n  prepareRenderableFrame: function (num) {\r\n    this.checkLayerLimits(num);\r\n  },\r\n  checkTransparency: function () {\r\n    if (this.finalTransform.mProp.o.v <= 0) {\r\n      if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\r\n        this.isTransparent = true;\r\n        this.hide();\r\n      }\r\n    } else if (this.isTransparent) {\r\n      this.isTransparent = false;\r\n      this.show();\r\n    }\r\n  },\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     *\r\n     */\r\n  checkLayerLimits: function (num) {\r\n    if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\r\n      if (this.isInRange !== true) {\r\n        this.globalData._mdf = true;\r\n        this._mdf = true;\r\n        this.isInRange = true;\r\n        this.show();\r\n      }\r\n    } else if (this.isInRange !== false) {\r\n      this.globalData._mdf = true;\r\n      this.isInRange = false;\r\n      this.hide();\r\n    }\r\n  },\r\n  renderRenderable: function () {\r\n    var i;\r\n    var len = this.renderableComponents.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n    }\r\n    /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\r\n  },\r\n  sourceRectAtTime: function () {\r\n    return {\r\n      top: 0,\r\n      left: 0,\r\n      width: 100,\r\n      height: 100,\r\n    };\r\n  },\r\n  getLayerSize: function () {\r\n    if (this.data.ty === 5) {\r\n      return { w: this.data.textData.width, h: this.data.textData.height };\r\n    }\r\n    return { w: this.data.width, h: this.data.height };\r\n  },\r\n};\r\n\r\n/* global extendPrototype, RenderableElement, createProxyFunction */\r\n\r\nfunction RenderableDOMElement() {}\r\n\r\n(function () {\r\n  var _prototype = {\r\n    initElement: function (data, globalData, comp) {\r\n      this.initFrame();\r\n      this.initBaseData(data, globalData, comp);\r\n      this.initTransform(data, globalData, comp);\r\n      this.initHierarchy();\r\n      this.initRenderable();\r\n      this.initRendererElement();\r\n      this.createContainerElements();\r\n      this.createRenderableComponents();\r\n      this.createContent();\r\n      this.hide();\r\n    },\r\n    hide: function () {\r\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n        var elem = this.baseElement || this.layerElement;\r\n        elem.style.display = 'none';\r\n        this.hidden = true;\r\n      }\r\n    },\r\n    show: function () {\r\n      if (this.isInRange && !this.isTransparent) {\r\n        if (!this.data.hd) {\r\n          var elem = this.baseElement || this.layerElement;\r\n          elem.style.display = 'block';\r\n        }\r\n        this.hidden = false;\r\n        this._isFirstFrame = true;\r\n      }\r\n    },\r\n    renderFrame: function () {\r\n      // If it is exported as hidden (data.hd === true) no need to render\r\n      // If it is not visible no need to render\r\n      if (this.data.hd || this.hidden) {\r\n        return;\r\n      }\r\n      this.renderTransform();\r\n      this.renderRenderable();\r\n      this.renderElement();\r\n      this.renderInnerContent();\r\n      if (this._isFirstFrame) {\r\n        this._isFirstFrame = false;\r\n      }\r\n    },\r\n    renderInnerContent: function () {},\r\n    prepareFrame: function (num) {\r\n      this._mdf = false;\r\n      this.prepareRenderableFrame(num);\r\n      this.prepareProperties(num, this.isInRange);\r\n      this.checkTransparency();\r\n    },\r\n    destroy: function () {\r\n      this.innerElem = null;\r\n      this.destroyBaseElement();\r\n    },\r\n  };\r\n  extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\n\r\n/* exported ProcessedElement */\r\n\r\nfunction ProcessedElement(element, position) {\r\n  this.elem = element;\r\n  this.pos = position;\r\n}\r\n\r\n/* global createNS */\r\n\r\nfunction SVGStyleData(data, level) {\r\n  this.data = data;\r\n  this.type = data.ty;\r\n  this.d = '';\r\n  this.lvl = level;\r\n  this._mdf = false;\r\n  this.closed = data.hd === true;\r\n  this.pElem = createNS('path');\r\n  this.msElem = null;\r\n}\r\n\r\nSVGStyleData.prototype.reset = function () {\r\n  this.d = '';\r\n  this._mdf = false;\r\n};\r\n\r\nfunction SVGShapeData(transformers, level, shape) {\r\n  this.caches = [];\r\n  this.styles = [];\r\n  this.transformers = transformers;\r\n  this.lStr = '';\r\n  this.sh = shape;\r\n  this.lvl = level;\r\n  // TODO find if there are some cases where _isAnimated can be false.\r\n  // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n  // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n  this._isAnimated = !!shape.k;\r\n  // TODO: commenting this for now since all shapes are animated\r\n  var i = 0;\r\n  var len = transformers.length;\r\n  while (i < len) {\r\n    if (transformers[i].mProps.dynamicProperties.length) {\r\n      this._isAnimated = true;\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n}\r\n\r\nSVGShapeData.prototype.setAsAnimated = function () {\r\n  this._isAnimated = true;\r\n};\r\n\r\n/* exported SVGTransformData */\r\n\r\nfunction SVGTransformData(mProps, op, container) {\r\n  this.transform = {\r\n    mProps: mProps,\r\n    op: op,\r\n    container: container,\r\n  };\r\n  this.elements = [];\r\n  this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\r\n}\r\n\r\n/* global DashProperty, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\r\n\r\n/* global PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGFillStyleData);\r\n\r\n/* global PropertyFactory, degToRads, GradientProperty, createElementID, createNS, locationHref,\r\nextendPrototype, DynamicPropertyContainer, lineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGGradientFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.initGradientData(elem, data, styleOb);\r\n}\r\n\r\nSVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\r\n  this.h = PropertyFactory.getProp(elem, data.h || { k: 0 }, 0, 0.01, this);\r\n  this.a = PropertyFactory.getProp(elem, data.a || { k: 0 }, 0, degToRads, this);\r\n  this.g = new GradientProperty(elem, data.g, this);\r\n  this.style = styleOb;\r\n  this.stops = [];\r\n  this.setGradientData(styleOb.pElem, data);\r\n  this.setGradientOpacity(data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\r\n  var gradientId = createElementID();\r\n  var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n  gfill.setAttribute('id', gradientId);\r\n  gfill.setAttribute('spreadMethod', 'pad');\r\n  gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n  var stops = [];\r\n  var stop;\r\n  var j;\r\n  var jLen;\r\n  jLen = data.g.p * 4;\r\n  for (j = 0; j < jLen; j += 4) {\r\n    stop = createNS('stop');\r\n    gfill.appendChild(stop);\r\n    stops.push(stop);\r\n  }\r\n  pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + gradientId + ')');\r\n  this.gf = gfill;\r\n  this.cst = stops;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\r\n  if (this.g._hasOpacity && !this.g._collapsable) {\r\n    var stop;\r\n    var j;\r\n    var jLen;\r\n    var mask = createNS('mask');\r\n    var maskElement = createNS('path');\r\n    mask.appendChild(maskElement);\r\n    var opacityId = createElementID();\r\n    var maskId = createElementID();\r\n    mask.setAttribute('id', maskId);\r\n    var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    opFill.setAttribute('id', opacityId);\r\n    opFill.setAttribute('spreadMethod', 'pad');\r\n    opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n    jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n    var stops = this.stops;\r\n    for (j = data.g.p * 4; j < jLen; j += 2) {\r\n      stop = createNS('stop');\r\n      stop.setAttribute('stop-color', 'rgb(255,255,255)');\r\n      opFill.appendChild(stop);\r\n      stops.push(stop);\r\n    }\r\n    maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + opacityId + ')');\r\n    if (data.ty === 'gs') {\r\n      maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n      maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n      if (data.lj === 1) {\r\n        maskElement.setAttribute('stroke-miterlimit', data.ml);\r\n      }\r\n    }\r\n    this.of = opFill;\r\n    this.ms = mask;\r\n    this.ost = stops;\r\n    this.maskId = maskId;\r\n    styleOb.msElem = maskElement;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\r\n\r\n/* global PropertyFactory, DashProperty, extendPrototype, SVGGradientFillStyleData, DynamicPropertyContainer */\r\n\r\nfunction SVGGradientStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.initGradientData(elem, data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\r\n\r\n/* global createNS */\r\n/* exported ShapeGroupData */\r\n\r\nfunction ShapeGroupData() {\r\n  this.it = [];\r\n  this.prevViewData = [];\r\n  this.gr = createNS('g');\r\n}\r\n\r\n/* global Matrix, buildShapeString, bmFloor */\r\n/* exported SVGElementsRenderer */\r\n\r\nvar SVGElementsRenderer = (function () {\r\n  var _identityMatrix = new Matrix();\r\n  var _matrixHelper = new Matrix();\r\n\r\n  var ob = {\r\n    createRenderFunction: createRenderFunction,\r\n  };\r\n\r\n  function createRenderFunction(data) {\r\n    switch (data.ty) {\r\n      case 'fl':\r\n        return renderFill;\r\n      case 'gf':\r\n        return renderGradient;\r\n      case 'gs':\r\n        return renderGradientStroke;\r\n      case 'st':\r\n        return renderStroke;\r\n      case 'sh':\r\n      case 'el':\r\n      case 'rc':\r\n      case 'sr':\r\n        return renderPath;\r\n      case 'tr':\r\n        return renderContentTransform;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  function renderContentTransform(styleData, itemData, isFirstFrame) {\r\n    if (isFirstFrame || itemData.transform.op._mdf) {\r\n      itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\r\n    }\r\n    if (isFirstFrame || itemData.transform.mProps._mdf) {\r\n      itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\r\n    }\r\n  }\r\n\r\n  function renderPath(styleData, itemData, isFirstFrame) {\r\n    var j;\r\n    var jLen;\r\n    var pathStringTransformed;\r\n    var redraw;\r\n    var pathNodes;\r\n    var l;\r\n    var lLen = itemData.styles.length;\r\n    var lvl = itemData.lvl;\r\n    var paths;\r\n    var mat;\r\n    var props;\r\n    var iterations;\r\n    var k;\r\n    for (l = 0; l < lLen; l += 1) {\r\n      redraw = itemData.sh._mdf || isFirstFrame;\r\n      if (itemData.styles[l].lvl < lvl) {\r\n        mat = _matrixHelper.reset();\r\n        iterations = lvl - itemData.styles[l].lvl;\r\n        k = itemData.transformers.length - 1;\r\n        while (!redraw && iterations > 0) {\r\n          redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n          iterations -= 1;\r\n          k -= 1;\r\n        }\r\n        if (redraw) {\r\n          iterations = lvl - itemData.styles[l].lvl;\r\n          k = itemData.transformers.length - 1;\r\n          while (iterations > 0) {\r\n            props = itemData.transformers[k].mProps.v.props;\r\n            mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n            iterations -= 1;\r\n            k -= 1;\r\n          }\r\n        }\r\n      } else {\r\n        mat = _identityMatrix;\r\n      }\r\n      paths = itemData.sh.paths;\r\n      jLen = paths._length;\r\n      if (redraw) {\r\n        pathStringTransformed = '';\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathNodes = paths.shapes[j];\r\n          if (pathNodes && pathNodes._length) {\r\n            pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n          }\r\n        }\r\n        itemData.caches[l] = pathStringTransformed;\r\n      } else {\r\n        pathStringTransformed = itemData.caches[l];\r\n      }\r\n      itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\r\n      itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n    }\r\n  }\r\n\r\n  function renderFill(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\r\n    }\r\n  }\r\n\r\n  function renderGradientStroke(styleData, itemData, isFirstFrame) {\r\n    renderGradient(styleData, itemData, isFirstFrame);\r\n    renderStroke(styleData, itemData, isFirstFrame);\r\n  }\r\n\r\n  function renderGradient(styleData, itemData, isFirstFrame) {\r\n    var gfill = itemData.gf;\r\n    var hasOpacity = itemData.g._hasOpacity;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n      itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n    }\r\n    if (itemData.s._mdf || isFirstFrame) {\r\n      var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n      var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n      gfill.setAttribute(attr1, pt1[0]);\r\n      gfill.setAttribute(attr2, pt1[1]);\r\n      if (hasOpacity && !itemData.g._collapsable) {\r\n        itemData.of.setAttribute(attr1, pt1[0]);\r\n        itemData.of.setAttribute(attr2, pt1[1]);\r\n      }\r\n    }\r\n    var stops;\r\n    var i;\r\n    var len;\r\n    var stop;\r\n    if (itemData.g._cmdf || isFirstFrame) {\r\n      stops = itemData.cst;\r\n      var cValues = itemData.g.c;\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        stop.setAttribute('offset', cValues[i * 4] + '%');\r\n        stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\r\n      }\r\n    }\r\n    if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\r\n      var oValues = itemData.g.o;\r\n      if (itemData.g._collapsable) {\r\n        stops = itemData.cst;\r\n      } else {\r\n        stops = itemData.ost;\r\n      }\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        if (!itemData.g._collapsable) {\r\n          stop.setAttribute('offset', oValues[i * 2] + '%');\r\n        }\r\n        stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n      }\r\n    }\r\n    if (styleData.t === 1) {\r\n      if (itemData.e._mdf || isFirstFrame) {\r\n        gfill.setAttribute('x2', pt2[0]);\r\n        gfill.setAttribute('y2', pt2[1]);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('x2', pt2[0]);\r\n          itemData.of.setAttribute('y2', pt2[1]);\r\n        }\r\n      }\r\n    } else {\r\n      var rad;\r\n      if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\r\n        rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        gfill.setAttribute('r', rad);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('r', rad);\r\n        }\r\n      }\r\n      if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\r\n        if (!rad) {\r\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        }\r\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n        var percent = itemData.h.v;\r\n        if (percent >= 1) {\r\n          percent = 0.99;\r\n        } else if (percent <= -1) {\r\n          percent = -0.99;\r\n        }\r\n        var dist = rad * percent;\r\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n        gfill.setAttribute('fx', x);\r\n        gfill.setAttribute('fy', y);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('fx', x);\r\n          itemData.of.setAttribute('fy', y);\r\n        }\r\n      }\r\n      // gfill.setAttribute('fy','200');\r\n    }\r\n  }\r\n\r\n  function renderStroke(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if (d && (d._mdf || isFirstFrame) && d.dashStr) {\r\n      styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n      styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n    }\r\n    if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\r\n      styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n    }\r\n    if (itemData.w._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n      if (styleElem.msElem) {\r\n        styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n      }\r\n    }\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix */\r\n\r\nfunction ShapeTransformManager() {\r\n  this.sequences = {};\r\n  this.sequenceList = [];\r\n  this.transform_key_count = 0;\r\n}\r\n\r\nShapeTransformManager.prototype = {\r\n  addTransformSequence: function (transforms) {\r\n    var i;\r\n    var len = transforms.length;\r\n    var key = '_';\r\n    for (i = 0; i < len; i += 1) {\r\n      key += transforms[i].transform.key + '_';\r\n    }\r\n    var sequence = this.sequences[key];\r\n    if (!sequence) {\r\n      sequence = {\r\n        transforms: [].concat(transforms),\r\n        finalTransform: new Matrix(),\r\n        _mdf: false,\r\n      };\r\n      this.sequences[key] = sequence;\r\n      this.sequenceList.push(sequence);\r\n    }\r\n    return sequence;\r\n  },\r\n  processSequence: function (sequence, isFirstFrame) {\r\n    var i = 0;\r\n    var len = sequence.transforms.length;\r\n    var _mdf = isFirstFrame;\r\n    while (i < len && !isFirstFrame) {\r\n      if (sequence.transforms[i].transform.mProps._mdf) {\r\n        _mdf = true;\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (_mdf) {\r\n      var props;\r\n      sequence.finalTransform.reset();\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        props = sequence.transforms[i].transform.mProps.v.props;\r\n        sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n      }\r\n    }\r\n    sequence._mdf = _mdf;\r\n  },\r\n  processSequences: function (isFirstFrame) {\r\n    var i;\r\n    var len = this.sequenceList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.processSequence(this.sequenceList[i], isFirstFrame);\r\n    }\r\n  },\r\n  getNewKey: function () {\r\n    this.transform_key_count += 1;\r\n    return '_' + this.transform_key_count;\r\n  },\r\n};\r\n\r\n/* global ShapePropertyFactory, SVGShapeData */\r\n\r\nfunction CVShapeData(element, data, styles, transformsManager) {\r\n  this.styledShapes = [];\r\n  this.tr = [0, 0, 0, 0, 0, 0];\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\r\n  var i;\r\n  var len = styles.length;\r\n  var styledShape;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!styles[i].closed) {\r\n      styledShape = {\r\n        transforms: transformsManager.addTransformSequence(styles[i].transforms),\r\n        trNodes: [],\r\n      };\r\n      this.styledShapes.push(styledShape);\r\n      styles[i].elements.push(styledShape);\r\n    }\r\n  }\r\n}\r\n\r\nCVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\r\n\r\n/* global LayerExpressionInterface, EffectsExpressionInterface, CompExpressionInterface, ShapeExpressionInterface,\r\nTextExpressionInterface, getBlendMode,createElementID, EffectsManager */\r\n\r\nfunction BaseElement() {\r\n}\r\n\r\nBaseElement.prototype = {\r\n  checkMasks: function () {\r\n    if (!this.data.hasMask) {\r\n      return false;\r\n    }\r\n    var i = 0;\r\n    var len = this.data.masksProperties.length;\r\n    while (i < len) {\r\n      if ((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n        return true;\r\n      }\r\n      i += 1;\r\n    }\r\n    return false;\r\n  },\r\n  initExpressions: function () {\r\n    this.layerInterface = LayerExpressionInterface(this);\r\n    if (this.data.hasMask && this.maskManager) {\r\n      this.layerInterface.registerMaskInterface(this.maskManager);\r\n    }\r\n    var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\r\n    this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n    if (this.data.ty === 0 || this.data.xt) {\r\n      this.compInterface = CompExpressionInterface(this);\r\n    } else if (this.data.ty === 4) {\r\n      this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\r\n      this.layerInterface.content = this.layerInterface.shapeInterface;\r\n    } else if (this.data.ty === 5) {\r\n      this.layerInterface.textInterface = TextExpressionInterface(this);\r\n      this.layerInterface.text = this.layerInterface.textInterface;\r\n    }\r\n  },\r\n  setBlendMode: function () {\r\n    var blendModeValue = getBlendMode(this.data.bm);\r\n    var elem = this.baseElement || this.layerElement;\r\n\r\n    elem.style['mix-blend-mode'] = blendModeValue;\r\n  },\r\n  initBaseData: function (data, globalData, comp) {\r\n    this.globalData = globalData;\r\n    this.comp = comp;\r\n    this.data = data;\r\n    this.layerId = createElementID();\r\n\r\n    // Stretch factor for old animations missing this property.\r\n    if (!this.data.sr) {\r\n      this.data.sr = 1;\r\n    }\r\n    // effects manager\r\n    this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\r\n  },\r\n  getType: function () {\r\n    return this.type;\r\n  },\r\n  sourceRectAtTime: function () {},\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement */\r\n\r\nfunction NullElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initFrame();\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function () {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nNullElement.prototype.destroy = function () {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nNullElement.prototype.hide = function () {\r\n};\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\r\n\r\n/* global filtersFactory, featureSupport, filtersFactory, createElementID, createNS, MaskElement, SVGEffects, locationHref */\r\n\r\nfunction SVGBaseElement() {\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n  initRendererElement: function () {\r\n    this.layerElement = createNS('g');\r\n  },\r\n  createContainerElements: function () {\r\n    this.matteElement = createNS('g');\r\n    this.transformedElement = this.layerElement;\r\n    this.maskedElement = this.layerElement;\r\n    this._sizeChanged = false;\r\n    var layerElementParent = null;\r\n    // If this layer acts as a mask for the following layer\r\n    var filId;\r\n    var fil;\r\n    var gg;\r\n    if (this.data.td) {\r\n      if (this.data.td == 3 || this.data.td == 1) { // eslint-disable-line eqeqeq\r\n        var masker = createNS('mask');\r\n        masker.setAttribute('id', this.layerId);\r\n        masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\r\n        masker.appendChild(this.layerElement);\r\n        layerElementParent = masker;\r\n        this.globalData.defs.appendChild(masker);\r\n        // This is only for IE and Edge when mask if of type alpha\r\n        if (!featureSupport.maskType && this.data.td == 1) { // eslint-disable-line eqeqeq\r\n          masker.setAttribute('mask-type', 'luminance');\r\n          filId = createElementID();\r\n          fil = filtersFactory.createFilter(filId);\r\n          this.globalData.defs.appendChild(fil);\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          masker.appendChild(gg);\r\n          gg.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        }\r\n      } else if (this.data.td == 2) { // eslint-disable-line eqeqeq\r\n        var maskGroup = createNS('mask');\r\n        maskGroup.setAttribute('id', this.layerId);\r\n        maskGroup.setAttribute('mask-type', 'alpha');\r\n        var maskGrouper = createNS('g');\r\n        maskGroup.appendChild(maskGrouper);\r\n        filId = createElementID();\r\n        fil = filtersFactory.createFilter(filId);\r\n        /// /\r\n\r\n        // This solution doesn't work on Android when meta tag with viewport attribute is set\r\n        /* var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix); */\r\n        /// /\r\n        var feCTr = createNS('feComponentTransfer');\r\n        feCTr.setAttribute('in', 'SourceGraphic');\r\n        fil.appendChild(feCTr);\r\n        var feFunc = createNS('feFuncA');\r\n        feFunc.setAttribute('type', 'table');\r\n        feFunc.setAttribute('tableValues', '1.0 0.0');\r\n        feCTr.appendChild(feFunc);\r\n        /// /\r\n        this.globalData.defs.appendChild(fil);\r\n        var alphaRect = createNS('rect');\r\n        alphaRect.setAttribute('width', this.comp.data.w);\r\n        alphaRect.setAttribute('height', this.comp.data.h);\r\n        alphaRect.setAttribute('x', '0');\r\n        alphaRect.setAttribute('y', '0');\r\n        alphaRect.setAttribute('fill', '#ffffff');\r\n        alphaRect.setAttribute('opacity', '0');\r\n        maskGrouper.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        maskGrouper.appendChild(alphaRect);\r\n        maskGrouper.appendChild(this.layerElement);\r\n        layerElementParent = maskGrouper;\r\n        if (!featureSupport.maskType) {\r\n          maskGroup.setAttribute('mask-type', 'luminance');\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          maskGrouper.appendChild(alphaRect);\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          maskGrouper.appendChild(gg);\r\n        }\r\n        this.globalData.defs.appendChild(maskGroup);\r\n      }\r\n    } else if (this.data.tt) {\r\n      this.matteElement.appendChild(this.layerElement);\r\n      layerElementParent = this.matteElement;\r\n      this.baseElement = this.matteElement;\r\n    } else {\r\n      this.baseElement = this.layerElement;\r\n    }\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n    if (this.data.ty === 0 && !this.data.hd) {\r\n      var cp = createNS('clipPath');\r\n      var pt = createNS('path');\r\n      pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n      var clipId = createElementID();\r\n      cp.setAttribute('id', clipId);\r\n      cp.appendChild(pt);\r\n      this.globalData.defs.appendChild(cp);\r\n\r\n      if (this.checkMasks()) {\r\n        var cpGroup = createNS('g');\r\n        cpGroup.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n        cpGroup.appendChild(this.layerElement);\r\n        this.transformedElement = cpGroup;\r\n        if (layerElementParent) {\r\n          layerElementParent.appendChild(this.transformedElement);\r\n        } else {\r\n          this.baseElement = this.transformedElement;\r\n        }\r\n      } else {\r\n        this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n      }\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    if (this.finalTransform._matMdf) {\r\n      this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n    }\r\n  },\r\n  destroyBaseElement: function () {\r\n    this.layerElement = null;\r\n    this.matteElement = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  getBaseElement: function () {\r\n    if (this.data.hd) {\r\n      return null;\r\n    }\r\n    return this.baseElement;\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n    this.renderableEffectsManager = new SVGEffects(this);\r\n  },\r\n  setMatte: function (id) {\r\n    if (!this.matteElement) {\r\n      return;\r\n    }\r\n    this.matteElement.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n  },\r\n};\r\n\r\n/* global ProcessedElement */\r\n\r\nfunction IShapeElement() {\r\n}\r\n\r\nIShapeElement.prototype = {\r\n  addShapeToModifiers: function (data) {\r\n    var i;\r\n    var len = this.shapeModifiers.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapeModifiers[i].addShape(data);\r\n    }\r\n  },\r\n  isShapeInAnimatedModifiers: function (data) {\r\n    var i = 0;\r\n    var len = this.shapeModifiers.length;\r\n    while (i < len) {\r\n      if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  renderModifiers: function () {\r\n    if (!this.shapeModifiers.length) {\r\n      return;\r\n    }\r\n    var i;\r\n    var len = this.shapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].sh.reset();\r\n    }\r\n\r\n    len = this.shapeModifiers.length;\r\n    var shouldBreakProcess;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n      // workaround to fix cases where a repeater resets the shape so the following processes get called twice\r\n      // TODO: find a better solution for this\r\n      if (shouldBreakProcess) {\r\n        break;\r\n      }\r\n    }\r\n  },\r\n\r\n  searchProcessedElement: function (elem) {\r\n    var elements = this.processedElements;\r\n    var i = 0;\r\n    var len = elements.length;\r\n    while (i < len) {\r\n      if (elements[i].elem === elem) {\r\n        return elements[i].pos;\r\n      }\r\n      i += 1;\r\n    }\r\n    return 0;\r\n  },\r\n  addProcessedElement: function (elem, pos) {\r\n    var elements = this.processedElements;\r\n    var i = elements.length;\r\n    while (i) {\r\n      i -= 1;\r\n      if (elements[i].elem === elem) {\r\n        elements[i].pos = pos;\r\n        return;\r\n      }\r\n    }\r\n    elements.push(new ProcessedElement(elem, pos));\r\n  },\r\n  prepareFrame: function (num) {\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n  },\r\n};\r\n\r\n/* global TextProperty, TextAnimatorProperty, buildShapeString, LetterProps */\r\n\r\nfunction ITextElement() {\r\n}\r\n\r\nITextElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.lettersChangedFlag = true;\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n  this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n  this.initRenderable();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  this.createContent();\r\n  this.hide();\r\n  this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n    this.buildNewText();\r\n    this.textProperty._isFirstFrame = false;\r\n    this.textProperty._mdf = false;\r\n  }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\r\n  var j;\r\n  var jLen = shapes.length;\r\n  var pathNodes;\r\n  var shapeStr = '';\r\n  for (j = 0; j < jLen; j += 1) {\r\n    pathNodes = shapes[j].ks.k;\r\n    shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n  }\r\n  return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function (newData, index) {\r\n  this.textProperty.updateDocumentData(newData, index);\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function (_canResize) {\r\n  this.textProperty.canResizeFont(_canResize);\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function (_fontSize) {\r\n  this.textProperty.setMinimumFontSize(_fontSize);\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n  if (documentData.ps) {\r\n    matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n  }\r\n  matrixHelper.translate(0, -documentData.ls, 0);\r\n  switch (documentData.j) {\r\n    case 1:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\r\n      break;\r\n    case 2:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\nITextElement.prototype.buildColor = function (colorData) {\r\n  return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\r\n};\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function () {\r\n\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement */\r\n\r\nfunction ICompElement() {}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initRenderable();\r\n  this.initHierarchy();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  if (this.data.xt || !globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n  this.hide();\r\n};\r\n\r\n/* ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n}; */\r\n\r\nICompElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (!this.isInRange && !this.data.xt) {\r\n    return;\r\n  }\r\n\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    if (timeRemapped === this.data.op) {\r\n      timeRemapped = this.data.op - 1;\r\n    }\r\n    this.renderedFrame = timeRemapped;\r\n  } else {\r\n    this.renderedFrame = num / this.data.sr;\r\n  }\r\n  var i;\r\n  var len = this.elements.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(this.renderedFrame);\r\n  }\r\n  // This iteration needs to be backwards because of how expressions connect between each other\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n      if (this.elements[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.setElements = function (elems) {\r\n  this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function () {\r\n  return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.destroy = function () {\r\n  this.destroyElements();\r\n  this.destroyBaseElement();\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, createNS */\r\n\r\nfunction IImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n  this.sourceRect = {\r\n    top: 0, left: 0, width: this.assetData.w, height: this.assetData.h,\r\n  };\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n  this.innerElem = createNS('image');\r\n  this.innerElem.setAttribute('width', this.assetData.w + 'px');\r\n  this.innerElem.setAttribute('height', this.assetData.h + 'px');\r\n  this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n  this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n\r\n  this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nIImageElement.prototype.sourceRectAtTime = function () {\r\n  return this.sourceRect;\r\n};\r\n\r\n/* global extendPrototype, IImageElement, createNS */\r\n\r\nfunction ISolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function () {\r\n  var rect = createNS('rect');\r\n  /// /rect.style.width = this.data.sw;\r\n  /// /rect.style.height = this.data.sh;\r\n  /// /rect.style.fill = this.data.sc;\r\n  rect.setAttribute('width', this.data.sw);\r\n  rect.setAttribute('height', this.data.sh);\r\n  rect.setAttribute('fill', this.data.sc);\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global PropertyFactory, extendPrototype, RenderableElement, BaseElement, FrameElement */\r\n\r\nfunction AudioElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initRenderable();\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initBaseData(data, globalData, comp);\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  this.audio = this.globalData.audioController.createAudio(assetPath);\r\n  this._currentTime = 0;\r\n  this.globalData.audioController.addAudio(this);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nAudioElement.prototype.prepareFrame = function (num) {\r\n  this.prepareRenderableFrame(num, true);\r\n  this.prepareProperties(num, true);\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    this._currentTime = timeRemapped;\r\n  } else {\r\n    this._currentTime = num / this.data.sr;\r\n  }\r\n};\r\n\r\nextendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\r\n\r\nAudioElement.prototype.renderFrame = function () {\r\n  if (this.isInRange && this._canPlay) {\r\n    if (!this._isPlaying) {\r\n      this.audio.play();\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n      this._isPlaying = true;\r\n    } else if (!this.audio.playing()\r\n      || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1\r\n    ) {\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n    }\r\n  }\r\n};\r\n\r\nAudioElement.prototype.show = function () {\r\n  // this.audio.play()\r\n};\r\n\r\nAudioElement.prototype.hide = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n};\r\n\r\nAudioElement.prototype.pause = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n};\r\n\r\nAudioElement.prototype.resume = function () {\r\n  this._canPlay = true;\r\n};\r\n\r\nAudioElement.prototype.setRate = function (rateValue) {\r\n  this.audio.rate(rateValue);\r\n};\r\n\r\nAudioElement.prototype.volume = function (volumeValue) {\r\n  this.audio.volume(volumeValue);\r\n};\r\n\r\nAudioElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nAudioElement.prototype.destroy = function () {\r\n};\r\n\r\nAudioElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nAudioElement.prototype.initExpressions = function () {\r\n};\r\n\r\n/* global extendPrototype, RenderableElement, BaseElement, FrameElement, FootageInterface */\r\n\r\nfunction FootageElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initRenderable();\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.footageData = globalData.imageLoader.getAsset(this.assetData);\r\n  this.initBaseData(data, globalData, comp);\r\n}\r\n\r\nFootageElement.prototype.prepareFrame = function () {\r\n};\r\n\r\nextendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\r\n\r\nFootageElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nFootageElement.prototype.renderFrame = function () {\r\n};\r\n\r\nFootageElement.prototype.destroy = function () {\r\n};\r\n\r\nFootageElement.prototype.initExpressions = function () {\r\n  this.layerInterface = FootageInterface(this);\r\n};\r\n\r\nFootageElement.prototype.getFootageData = function () {\r\n  return this.footageData;\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, SVGRenderer, ICompElement, SVGBaseElement */\r\n\r\nfunction SVGCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = true;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  // this.layerElement = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement);\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createNS */\r\n\r\nfunction SVGTextLottieElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.renderType = 'svg';\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\r\n\r\nSVGTextLottieElement.prototype.createContent = function () {\r\n  if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n    this.textContainer = createNS('text');\r\n  }\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildTextContents = function (textArray) {\r\n  var i = 0;\r\n  var len = textArray.length;\r\n  var textContents = [];\r\n  var currentTextContent = '';\r\n  while (i < len) {\r\n    if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\r\n      textContents.push(currentTextContent);\r\n      currentTextContent = '';\r\n    } else {\r\n      currentTextContent += textArray[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  textContents.push(currentTextContent);\r\n  return textContents;\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildNewText = function () {\r\n  var i;\r\n  var len;\r\n\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n  if (documentData.fc) {\r\n    this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n  } else {\r\n    this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n  }\r\n  if (documentData.sc) {\r\n    this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n    this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n  }\r\n  this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (fontData.fClass) {\r\n    this.layerElement.setAttribute('class', fontData.fClass);\r\n  } else {\r\n    this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n    var fWeight = documentData.fWeight;\r\n    var fStyle = documentData.fStyle;\r\n    this.layerElement.setAttribute('font-style', fStyle);\r\n    this.layerElement.setAttribute('font-weight', fWeight);\r\n  }\r\n  this.layerElement.setAttribute('aria-label', documentData.t);\r\n\r\n  var letters = documentData.l || [];\r\n  var usesGlyphs = !!this.globalData.fontManager.chars;\r\n  len = letters.length;\r\n\r\n  var tSpan;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var singleShape = this.data.singleShape;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  if (singleShape && !usesGlyphs && !documentData.sz) {\r\n    var tElement = this.textContainer;\r\n    var justify = 'start';\r\n    switch (documentData.j) {\r\n      case 1:\r\n        justify = 'end';\r\n        break;\r\n      case 2:\r\n        justify = 'middle';\r\n        break;\r\n      default:\r\n        justify = 'start';\r\n        break;\r\n    }\r\n    tElement.setAttribute('text-anchor', justify);\r\n    tElement.setAttribute('letter-spacing', trackingOffset);\r\n    var textContent = this.buildTextContents(documentData.finalText);\r\n    len = textContent.length;\r\n    yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      tSpan = this.textSpans[i] || createNS('tspan');\r\n      tSpan.textContent = textContent[i];\r\n      tSpan.setAttribute('x', 0);\r\n      tSpan.setAttribute('y', yPos);\r\n      tSpan.style.display = 'inherit';\r\n      tElement.appendChild(tSpan);\r\n      this.textSpans[i] = tSpan;\r\n      yPos += documentData.finalLineHeight;\r\n    }\r\n\r\n    this.layerElement.appendChild(tElement);\r\n  } else {\r\n    var cachedSpansLength = this.textSpans.length;\r\n    var shapeData;\r\n    var charData;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!usesGlyphs || !singleShape || i === 0) {\r\n        tSpan = cachedSpansLength > i ? this.textSpans[i] : createNS(usesGlyphs ? 'path' : 'text');\r\n        if (cachedSpansLength <= i) {\r\n          tSpan.setAttribute('stroke-linecap', 'butt');\r\n          tSpan.setAttribute('stroke-linejoin', 'round');\r\n          tSpan.setAttribute('stroke-miterlimit', '4');\r\n          this.textSpans[i] = tSpan;\r\n          this.layerElement.appendChild(tSpan);\r\n        }\r\n        tSpan.style.display = 'inherit';\r\n      }\r\n\r\n      matrixHelper.reset();\r\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n      if (singleShape) {\r\n        if (letters[i].n) {\r\n          xPos = -trackingOffset;\r\n          yPos += documentData.yOffset;\r\n          yPos += firstLine ? 1 : 0;\r\n          firstLine = false;\r\n        }\r\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        xPos += letters[i].l || 0;\r\n        // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n        xPos += trackingOffset;\r\n      }\r\n      if (usesGlyphs) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = (charData && charData.data) || {};\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        if (!singleShape) {\r\n          tSpan.setAttribute('d', this.createPathShape(matrixHelper, shapes));\r\n        } else {\r\n          shapeStr += this.createPathShape(matrixHelper, shapes);\r\n        }\r\n      } else {\r\n        if (singleShape) {\r\n          tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\r\n        }\r\n        tSpan.textContent = letters[i].val;\r\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      }\r\n      //\r\n    }\r\n    if (singleShape && tSpan) {\r\n      tSpan.setAttribute('d', shapeStr);\r\n    }\r\n  }\r\n  while (i < this.textSpans.length) {\r\n    this.textSpans[i].style.display = 'none';\r\n    i += 1;\r\n  }\r\n\r\n  this._sizeChanged = true;\r\n};\r\n\r\nSVGTextLottieElement.prototype.sourceRectAtTime = function () {\r\n  this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n  this.renderInnerContent();\r\n  if (this._sizeChanged) {\r\n    this._sizeChanged = false;\r\n    var textBox = this.layerElement.getBBox();\r\n    this.bbox = {\r\n      top: textBox.y,\r\n      left: textBox.x,\r\n      width: textBox.width,\r\n      height: textBox.height,\r\n    };\r\n  }\r\n  return this.bbox;\r\n};\r\n\r\nSVGTextLottieElement.prototype.renderInnerContent = function () {\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\r\n      this._sizeChanged = true;\r\n      var i;\r\n      var len;\r\n      var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n      var letters = this.textProperty.currentData.l;\r\n\r\n      len = letters.length;\r\n      var renderedLetter;\r\n      var textSpan;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (!letters[i].n) {\r\n          renderedLetter = renderedLetters[i];\r\n          textSpan = this.textSpans[i];\r\n          if (renderedLetter._mdf.m) {\r\n            textSpan.setAttribute('transform', renderedLetter.m);\r\n          }\r\n          if (renderedLetter._mdf.o) {\r\n            textSpan.setAttribute('opacity', renderedLetter.o);\r\n          }\r\n          if (renderedLetter._mdf.sw) {\r\n            textSpan.setAttribute('stroke-width', renderedLetter.sw);\r\n          }\r\n          if (renderedLetter._mdf.sc) {\r\n            textSpan.setAttribute('stroke', renderedLetter.sc);\r\n          }\r\n          if (renderedLetter._mdf.fc) {\r\n            textSpan.setAttribute('fill', renderedLetter.fc);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement,\r\nFrameElement, RenderableDOMElement, Matrix, SVGStyleData, SVGStrokeStyleData, SVGFillStyleData,\r\nSVGGradientFillStyleData, SVGGradientStrokeStyleData, locationHref, getBlendMode, ShapeGroupData,\r\nTransformPropertyFactory, SVGTransformData, ShapePropertyFactory, SVGShapeData, SVGElementsRenderer, ShapeModifiers,\r\nlineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function () {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function () {};\r\n\r\nSVGShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n};\r\n\r\n/*\r\nThis method searches for multiple shapes that affect a single element and one of them is animated\r\n*/\r\nSVGShapeElement.prototype.filterUniqueShapes = function () {\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var shape;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  var style;\r\n  var tempShapes = [];\r\n  var areAnimated = false;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    style = this.stylesList[j];\r\n    areAnimated = false;\r\n    tempShapes.length = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      shape = this.shapes[i];\r\n      if (shape.styles.indexOf(style) !== -1) {\r\n        tempShapes.push(shape);\r\n        areAnimated = shape._isAnimated || areAnimated;\r\n      }\r\n    }\r\n    if (tempShapes.length > 1 && areAnimated) {\r\n      this.setShapesAsAnimated(tempShapes);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\r\n  var i;\r\n  var len = shapes.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    shapes[i].setAsAnimated();\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.createStyleElement = function (data, level) {\r\n  // TODO: prevent drawing of hidden styles\r\n  var elementData;\r\n  var styleOb = new SVGStyleData(data, level);\r\n\r\n  var pathElement = styleOb.pElem;\r\n  if (data.ty === 'st') {\r\n    elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'fl') {\r\n    elementData = new SVGFillStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n    elementData = new GradientConstructor(this, data, styleOb);\r\n    this.globalData.defs.appendChild(elementData.gf);\r\n    if (elementData.maskId) {\r\n      this.globalData.defs.appendChild(elementData.ms);\r\n      this.globalData.defs.appendChild(elementData.of);\r\n      pathElement.setAttribute('mask', 'url(' + locationHref + '#' + elementData.maskId + ')');\r\n    }\r\n  }\r\n\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n    pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n    pathElement.setAttribute('fill-opacity', '0');\r\n    if (data.lj === 1) {\r\n      pathElement.setAttribute('stroke-miterlimit', data.ml);\r\n    }\r\n  }\r\n\r\n  if (data.r === 2) {\r\n    pathElement.setAttribute('fill-rule', 'evenodd');\r\n  }\r\n\r\n  if (data.ln) {\r\n    pathElement.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    pathElement.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  this.stylesList.push(styleOb);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function (data) {\r\n  var elementData = new ShapeGroupData();\r\n  if (data.ln) {\r\n    elementData.gr.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    elementData.gr.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function (data, container) {\r\n  var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\r\n  var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\r\n  var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\r\n  var i = 0;\r\n  var len = this.animatedContents.length;\r\n  while (i < len) {\r\n    if (this.animatedContents[i].element === element) {\r\n      return;\r\n    }\r\n    i += 1;\r\n  }\r\n  this.animatedContents.push({\r\n    fn: SVGElementsRenderer.createRenderFunction(data),\r\n    element: element,\r\n    data: data,\r\n  });\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function (elementData) {\r\n  var arr = elementData.styles;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    if (!this.stylesList[j].closed) {\r\n      arr.push(this.stylesList[j]);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\r\n  var ownTransformers = [].concat(transformers);\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var currentTransform;\r\n  var modifier;\r\n  var processedPos;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._render = render;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], level);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n      if (arr[i]._render) {\r\n        if (itemsData[i].style.pElem.parentNode !== container) {\r\n          container.appendChild(itemsData[i].style.pElem);\r\n        }\r\n      }\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\r\n      if (arr[i]._render) {\r\n        if (itemsData[i].gr.parentNode !== container) {\r\n          container.appendChild(itemsData[i].gr);\r\n        }\r\n      }\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createTransformElement(arr[i], container);\r\n      }\r\n      currentTransform = itemsData[i].transform;\r\n      ownTransformers.push(currentTransform);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n      }\r\n      this.setElementStyles(itemsData[i]);\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        render = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  len = ownStyles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownStyles[i].closed = true;\r\n  }\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function () {\r\n  this.renderModifiers();\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.stylesList[i].reset();\r\n  }\r\n  this.renderShape();\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n      if (this.stylesList[i].msElem) {\r\n        this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n        // Adding M0 0 fixes same mask bug on all browsers\r\n        this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n      }\r\n      this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderShape = function () {\r\n  var i;\r\n  var len = this.animatedContents.length;\r\n  var animatedContent;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatedContent = this.animatedContents[i];\r\n    if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n      animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.destroy = function () {\r\n  this.destroyBaseElement();\r\n  this.shapesData = null;\r\n  this.itemsData = null;\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTintFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f2');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n  if (filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k) {\r\n    var feMerge = createNS('feMerge');\r\n    filter.appendChild(feMerge);\r\n    var feMergeNode;\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'SourceGraphic');\r\n    feMerge.appendChild(feMergeNode);\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'f2');\r\n    feMerge.appendChild(feMergeNode);\r\n  }\r\n}\r\n\r\nSVGTintFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var colorBlack = this.filterManager.effectElements[0].p.v;\r\n    var colorWhite = this.filterManager.effectElements[1].p.v;\r\n    var opacity = this.filterManager.effectElements[2].p.v / 100;\r\n    this.matrixFilter.setAttribute('values', (colorWhite[0] - colorBlack[0]) + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGFillFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n}\r\nSVGFillFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color = this.filterManager.effectElements[2].p.v;\r\n    var opacity = this.filterManager.effectElements[6].p.v;\r\n    this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGGaussianBlurEffect(filter, filterManager) {\r\n  // Outset the filter region by 100% on all sides to accommodate blur expansion.\r\n  filter.setAttribute('x', '-100%');\r\n  filter.setAttribute('y', '-100%');\r\n  filter.setAttribute('width', '300%');\r\n  filter.setAttribute('height', '300%');\r\n\r\n  this.filterManager = filterManager;\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  filter.appendChild(feGaussianBlur);\r\n  this.feGaussianBlur = feGaussianBlur;\r\n}\r\n\r\nSVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    // Empirical value, matching AE's blur appearance.\r\n    var kBlurrinessToSigma = 0.3;\r\n    var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;\r\n\r\n    // Dimensions mapping:\r\n    //\r\n    //   1 -> horizontal & vertical\r\n    //   2 -> horizontal only\r\n    //   3 -> vertical only\r\n    //\r\n    var dimensions = this.filterManager.effectElements[1].p.v;\r\n    var sigmaX = (dimensions == 3) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n    var sigmaY = (dimensions == 2) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n\r\n    this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY);\r\n\r\n    // Repeat edges mapping:\r\n    //\r\n    //   0 -> off -> duplicate\r\n    //   1 -> on  -> wrap\r\n    var edgeMode = (this.filterManager.effectElements[2].p.v == 1) ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\r\n    this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\r\n  }\r\n};\r\n\r\n/* global createNS, createElementID, locationHref, bmFloor */\r\n\r\nfunction SVGStrokeEffect(elem, filterManager) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.elem = elem;\r\n  this.paths = [];\r\n}\r\n\r\nSVGStrokeEffect.prototype.initialize = function () {\r\n  var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n  var path;\r\n  var groupPath;\r\n  var i;\r\n  var len;\r\n  if (this.filterManager.effectElements[1].p.v === 1) {\r\n    len = this.elem.maskManager.masksProperties.length;\r\n    i = 0;\r\n  } else {\r\n    i = this.filterManager.effectElements[0].p.v - 1;\r\n    len = i + 1;\r\n  }\r\n  groupPath = createNS('g');\r\n  groupPath.setAttribute('fill', 'none');\r\n  groupPath.setAttribute('stroke-linecap', 'round');\r\n  groupPath.setAttribute('stroke-dashoffset', 1);\r\n  for (i; i < len; i += 1) {\r\n    path = createNS('path');\r\n    groupPath.appendChild(path);\r\n    this.paths.push({ p: path, m: i });\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 3) {\r\n    var mask = createNS('mask');\r\n    var id = createElementID();\r\n    mask.setAttribute('id', id);\r\n    mask.setAttribute('mask-type', 'alpha');\r\n    mask.appendChild(groupPath);\r\n    this.elem.globalData.defs.appendChild(mask);\r\n    var g = createNS('g');\r\n    g.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n    while (elemChildren[0]) {\r\n      g.appendChild(elemChildren[0]);\r\n    }\r\n    this.elem.layerElement.appendChild(g);\r\n    this.masker = mask;\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (this.filterManager.effectElements[10].p.v === 2) {\r\n      elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n      while (elemChildren.length) {\r\n        this.elem.layerElement.removeChild(elemChildren[0]);\r\n      }\r\n    }\r\n    this.elem.layerElement.appendChild(groupPath);\r\n    this.elem.layerElement.removeAttribute('mask');\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  }\r\n  this.initialized = true;\r\n  this.pathMasker = groupPath;\r\n};\r\n\r\nSVGStrokeEffect.prototype.renderFrame = function (forceRender) {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n  var i;\r\n  var len = this.paths.length;\r\n  var mask;\r\n  var path;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.paths[i].m !== -1) {\r\n      mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n      path = this.paths[i].p;\r\n      if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\r\n        path.setAttribute('d', mask.lastPath);\r\n      }\r\n      if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\r\n        var dasharrayValue;\r\n        if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\r\n          var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var l = path.getTotalLength();\r\n          dasharrayValue = '0 0 0 ' + l * s + ' ';\r\n          var lineLength = l * (e - s);\r\n          var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n          var units = Math.floor(lineLength / segment);\r\n          var j;\r\n          for (j = 0; j < units; j += 1) {\r\n            dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\r\n          }\r\n          dasharrayValue += '0 ' + l * 10 + ' 0 0';\r\n        } else {\r\n          dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n        }\r\n        path.setAttribute('stroke-dasharray', dasharrayValue);\r\n      }\r\n    }\r\n  }\r\n  if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n    this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\r\n  }\r\n\r\n  if (forceRender || this.filterManager.effectElements[6].p._mdf) {\r\n    this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (forceRender || this.filterManager.effectElements[3].p._mdf) {\r\n      var color = this.filterManager.effectElements[3].p.v;\r\n      this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTritoneFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n  feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n  filter.appendChild(feComponentTransfer);\r\n  this.matrixFilter = feComponentTransfer;\r\n  var feFuncR = createNS('feFuncR');\r\n  feFuncR.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncR);\r\n  this.feFuncR = feFuncR;\r\n  var feFuncG = createNS('feFuncG');\r\n  feFuncG.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncG);\r\n  this.feFuncG = feFuncG;\r\n  var feFuncB = createNS('feFuncB');\r\n  feFuncB.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncB);\r\n  this.feFuncB = feFuncB;\r\n}\r\n\r\nSVGTritoneFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color1 = this.filterManager.effectElements[0].p.v;\r\n    var color2 = this.filterManager.effectElements[1].p.v;\r\n    var color3 = this.filterManager.effectElements[2].p.v;\r\n    var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n    var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n    var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n    this.feFuncR.setAttribute('tableValues', tableR);\r\n    this.feFuncG.setAttribute('tableValues', tableG);\r\n    this.feFuncB.setAttribute('tableValues', tableB);\r\n    // var opacity = this.filterManager.effectElements[2].p.v/100;\r\n    // this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGProLevelsFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var effectElements = this.filterManager.effectElements;\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n\r\n  if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\r\n    this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n  }\r\n  if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\r\n    this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n  }\r\n  if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\r\n    this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n  if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\r\n    this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n  }\r\n\r\n  if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    feComponentTransfer = createNS('feComponentTransfer');\r\n  }\r\n\r\n  if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n}\r\n\r\nSVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\r\n  var feFunc = createNS(type);\r\n  feFunc.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFunc);\r\n  return feFunc;\r\n};\r\n\r\nSVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n  var cnt = 0;\r\n  var segments = 256;\r\n  var perc;\r\n  var min = Math.min(inputBlack, inputWhite);\r\n  var max = Math.max(inputBlack, inputWhite);\r\n  var table = Array.call(null, { length: segments });\r\n  var colorValue;\r\n  var pos = 0;\r\n  var outputDelta = outputWhite - outputBlack;\r\n  var inputDelta = inputWhite - inputBlack;\r\n  while (cnt <= 256) {\r\n    perc = cnt / 256;\r\n    if (perc <= min) {\r\n      colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n    } else if (perc >= max) {\r\n      colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n    } else {\r\n      colorValue = (outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma));\r\n    }\r\n    table[pos] = colorValue;\r\n    pos += 1;\r\n    cnt += 256 / (segments - 1);\r\n  }\r\n  return table.join(' ');\r\n};\r\n\r\nSVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var val;\r\n    var effectElements = this.filterManager.effectElements;\r\n    if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\r\n      val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\r\n      this.feFuncRComposed.setAttribute('tableValues', val);\r\n      this.feFuncGComposed.setAttribute('tableValues', val);\r\n      this.feFuncBComposed.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\r\n      val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\r\n      this.feFuncR.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\r\n      val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\r\n      this.feFuncG.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\r\n      val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\r\n      this.feFuncB.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\r\n      val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\r\n      this.feFuncA.setAttribute('tableValues', val);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS, rgbToHex, degToRads */\r\n\r\nfunction SVGDropShadowEffect(filter, filterManager) {\r\n  var filterSize = filterManager.container.globalData.renderConfig.filterSize;\r\n  filter.setAttribute('x', filterSize.x);\r\n  filter.setAttribute('y', filterSize.y);\r\n  filter.setAttribute('width', filterSize.width);\r\n  filter.setAttribute('height', filterSize.height);\r\n  this.filterManager = filterManager;\r\n\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  feGaussianBlur.setAttribute('in', 'SourceAlpha');\r\n  feGaussianBlur.setAttribute('result', 'drop_shadow_1');\r\n  feGaussianBlur.setAttribute('stdDeviation', '0');\r\n  this.feGaussianBlur = feGaussianBlur;\r\n  filter.appendChild(feGaussianBlur);\r\n\r\n  var feOffset = createNS('feOffset');\r\n  feOffset.setAttribute('dx', '25');\r\n  feOffset.setAttribute('dy', '0');\r\n  feOffset.setAttribute('in', 'drop_shadow_1');\r\n  feOffset.setAttribute('result', 'drop_shadow_2');\r\n  this.feOffset = feOffset;\r\n  filter.appendChild(feOffset);\r\n  var feFlood = createNS('feFlood');\r\n  feFlood.setAttribute('flood-color', '#00ff00');\r\n  feFlood.setAttribute('flood-opacity', '1');\r\n  feFlood.setAttribute('result', 'drop_shadow_3');\r\n  this.feFlood = feFlood;\r\n  filter.appendChild(feFlood);\r\n\r\n  var feComposite = createNS('feComposite');\r\n  feComposite.setAttribute('in', 'drop_shadow_3');\r\n  feComposite.setAttribute('in2', 'drop_shadow_2');\r\n  feComposite.setAttribute('operator', 'in');\r\n  feComposite.setAttribute('result', 'drop_shadow_4');\r\n  filter.appendChild(feComposite);\r\n\r\n  var feMerge = createNS('feMerge');\r\n  filter.appendChild(feMerge);\r\n  var feMergeNode;\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMerge.appendChild(feMergeNode);\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMergeNode.setAttribute('in', 'SourceGraphic');\r\n  this.feMergeNode = feMergeNode;\r\n  this.feMerge = feMerge;\r\n  this.originalNodeAdded = false;\r\n  feMerge.appendChild(feMergeNode);\r\n}\r\n\r\nSVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n      this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[0].p._mdf) {\r\n      var col = this.filterManager.effectElements[0].p.v;\r\n      this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[1].p._mdf) {\r\n      this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\r\n      var distance = this.filterManager.effectElements[3].p.v;\r\n      var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n      var x = distance * Math.cos(angle);\r\n      var y = distance * Math.sin(angle);\r\n      this.feOffset.setAttribute('dx', x);\r\n      this.feOffset.setAttribute('dy', y);\r\n    }\r\n    /* if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n            if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n                this.feMerge.removeChild(this.feMergeNode);\r\n                this.originalNodeAdded = false;\r\n            } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n                this.feMerge.appendChild(this.feMergeNode);\r\n                this.originalNodeAdded = true;\r\n            }\r\n        } */\r\n  }\r\n};\r\n\r\n/* global createElementID, createNS */\r\n\r\nvar _svgMatteSymbols = [];\r\n\r\nfunction SVGMatte3Effect(filterElem, filterManager, elem) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.filterElem = filterElem;\r\n  this.elem = elem;\r\n  elem.matteElement = createNS('g');\r\n  elem.matteElement.appendChild(elem.layerElement);\r\n  elem.matteElement.appendChild(elem.transformedElement);\r\n  elem.baseElement = elem.matteElement;\r\n}\r\n\r\nSVGMatte3Effect.prototype.findSymbol = function (mask) {\r\n  var i = 0;\r\n  var len = _svgMatteSymbols.length;\r\n  while (i < len) {\r\n    if (_svgMatteSymbols[i] === mask) {\r\n      return _svgMatteSymbols[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nSVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\r\n  var parentNode = mask.layerElement.parentNode;\r\n  if (!parentNode) {\r\n    return;\r\n  }\r\n  var children = parentNode.children;\r\n  var i = 0;\r\n  var len = children.length;\r\n  while (i < len) {\r\n    if (children[i] === mask.layerElement) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  var nextChild;\r\n  if (i <= len - 2) {\r\n    nextChild = children[i + 1];\r\n  }\r\n  var useElem = createNS('use');\r\n  useElem.setAttribute('href', '#' + symbolId);\r\n  if (nextChild) {\r\n    parentNode.insertBefore(useElem, nextChild);\r\n  } else {\r\n    parentNode.appendChild(useElem);\r\n  }\r\n};\r\n\r\nSVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\r\n  if (!this.findSymbol(mask)) {\r\n    var symbolId = createElementID();\r\n    var masker = createNS('mask');\r\n    masker.setAttribute('id', mask.layerId);\r\n    masker.setAttribute('mask-type', 'alpha');\r\n    _svgMatteSymbols.push(mask);\r\n    var defs = elem.globalData.defs;\r\n    defs.appendChild(masker);\r\n    var symbol = createNS('symbol');\r\n    symbol.setAttribute('id', symbolId);\r\n    this.replaceInParent(mask, symbolId);\r\n    symbol.appendChild(mask.layerElement);\r\n    defs.appendChild(symbol);\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n    masker.appendChild(useElem);\r\n    mask.data.hd = false;\r\n    mask.show();\r\n  }\r\n  elem.setMatte(mask.layerId);\r\n};\r\n\r\nSVGMatte3Effect.prototype.initialize = function () {\r\n  var ind = this.filterManager.effectElements[0].p.v;\r\n  var elements = this.elem.comp.elements;\r\n  var i = 0;\r\n  var len = elements.length;\r\n  while (i < len) {\r\n    if (elements[i] && elements[i].data.ind === ind) {\r\n      this.setElementAsMask(this.elem, elements[i]);\r\n    }\r\n    i += 1;\r\n  }\r\n  this.initialized = true;\r\n};\r\n\r\nSVGMatte3Effect.prototype.renderFrame = function () {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n};\r\n\r\n/* global createElementID, filtersFactory, SVGTintFilter, SVGFillFilter, SVGStrokeEffect, SVGTritoneFilter,\r\nSVGProLevelsFilter, SVGDropShadowEffect, SVGMatte3Effect, SVGGaussianBlurEffect, locationHref */\r\n\r\nfunction SVGEffects(elem) {\r\n  var i;\r\n  var len = elem.data.ef ? elem.data.ef.length : 0;\r\n  var filId = createElementID();\r\n  var fil = filtersFactory.createFilter(filId, true);\r\n  var count = 0;\r\n  this.filters = [];\r\n  var filterManager;\r\n  for (i = 0; i < len; i += 1) {\r\n    filterManager = null;\r\n    if (elem.data.ef[i].ty === 20) {\r\n      count += 1;\r\n      filterManager = new SVGTintFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 21) {\r\n      count += 1;\r\n      filterManager = new SVGFillFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 22) {\r\n      filterManager = new SVGStrokeEffect(elem, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 23) {\r\n      count += 1;\r\n      filterManager = new SVGTritoneFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 24) {\r\n      count += 1;\r\n      filterManager = new SVGProLevelsFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 25) {\r\n      count += 1;\r\n      filterManager = new SVGDropShadowEffect(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 28) {\r\n      // count += 1;\r\n      filterManager = new SVGMatte3Effect(fil, elem.effectsManager.effectElements[i], elem);\r\n    } else if (elem.data.ef[i].ty === 29) {\r\n      count += 1;\r\n      filterManager = new SVGGaussianBlurEffect(fil, elem.effectsManager.effectElements[i]);\r\n    }\r\n    if (filterManager) {\r\n      this.filters.push(filterManager);\r\n    }\r\n  }\r\n  if (count) {\r\n    elem.globalData.defs.appendChild(fil);\r\n    elem.layerElement.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n  }\r\n  if (this.filters.length) {\r\n    elem.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nSVGEffects.prototype.renderFrame = function (_isFirstFrame) {\r\n  var i;\r\n  var len = this.filters.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.filters[i].renderFrame(_isFirstFrame);\r\n  }\r\n};\r\n\r\n/* global Matrix, createTypedArray */\r\n\r\nfunction CVContextData() {\r\n  this.saved = [];\r\n  this.cArrPos = 0;\r\n  this.cTr = new Matrix();\r\n  this.cO = 1;\r\n  var i;\r\n  var len = 15;\r\n  this.savedOp = createTypedArray('float32', len);\r\n  for (i = 0; i < len; i += 1) {\r\n    this.saved[i] = createTypedArray('float32', 16);\r\n  }\r\n  this._length = len;\r\n}\r\n\r\nCVContextData.prototype.duplicate = function () {\r\n  var newLength = this._length * 2;\r\n  var currentSavedOp = this.savedOp;\r\n  this.savedOp = createTypedArray('float32', newLength);\r\n  this.savedOp.set(currentSavedOp);\r\n  var i = 0;\r\n  for (i = this._length; i < newLength; i += 1) {\r\n    this.saved[i] = createTypedArray('float32', 16);\r\n  }\r\n  this._length = newLength;\r\n};\r\n\r\nCVContextData.prototype.reset = function () {\r\n  this.cArrPos = 0;\r\n  this.cTr.reset();\r\n  this.cO = 1;\r\n};\r\n\r\n/* global CVEffects, getBlendMode, CVMaskElement, Matrix */\r\n\r\nfunction CVBaseElement() {\r\n}\r\n\r\nCVBaseElement.prototype = {\r\n  createElements: function () {},\r\n  initRendererElement: function () {},\r\n  createContainerElements: function () {\r\n    this.canvasContext = this.globalData.canvasContext;\r\n    this.renderableEffectsManager = new CVEffects(this);\r\n  },\r\n  createContent: function () {},\r\n  setBlendMode: function () {\r\n    var globalData = this.globalData;\r\n    if (globalData.blendMode !== this.data.bm) {\r\n      globalData.blendMode = this.data.bm;\r\n      var blendModeValue = getBlendMode(this.data.bm);\r\n      globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n    }\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new CVMaskElement(this.data, this);\r\n  },\r\n  hideElement: function () {\r\n    if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n      this.hidden = true;\r\n    }\r\n  },\r\n  showElement: function () {\r\n    if (this.isInRange && !this.isTransparent) {\r\n      this.hidden = false;\r\n      this._isFirstFrame = true;\r\n      this.maskManager._isFirstFrame = true;\r\n    }\r\n  },\r\n  renderFrame: function () {\r\n    if (this.hidden || this.data.hd) {\r\n      return;\r\n    }\r\n    this.renderTransform();\r\n    this.renderRenderable();\r\n    this.setBlendMode();\r\n    var forceRealStack = this.data.ty === 0;\r\n    this.globalData.renderer.save(forceRealStack);\r\n    this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\r\n    this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\r\n    this.renderInnerContent();\r\n    this.globalData.renderer.restore(forceRealStack);\r\n    if (this.maskManager.hasMasks) {\r\n      this.globalData.renderer.restore(true);\r\n    }\r\n    if (this._isFirstFrame) {\r\n      this._isFirstFrame = false;\r\n    }\r\n  },\r\n  destroy: function () {\r\n    this.canvasContext = null;\r\n    this.data = null;\r\n    this.globalData = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\nCVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\nCVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement,HierarchyElement, FrameElement,\r\nRenderableElement, SVGShapeElement, IImageElement, createTag */\r\n\r\nfunction CVImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.img = globalData.imageLoader.getAsset(this.assetData);\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n\r\nCVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVImageElement.prototype.createContent = function () {\r\n  if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = this.assetData.w;\r\n    canvas.height = this.assetData.h;\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    var imgW = this.img.width;\r\n    var imgH = this.img.height;\r\n    var imgRel = imgW / imgH;\r\n    var canvasRel = this.assetData.w / this.assetData.h;\r\n    var widthCrop;\r\n    var heightCrop;\r\n    var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\r\n    if ((imgRel > canvasRel && par === 'xMidYMid slice') || (imgRel < canvasRel && par !== 'xMidYMid slice')) {\r\n      heightCrop = imgH;\r\n      widthCrop = heightCrop * canvasRel;\r\n    } else {\r\n      widthCrop = imgW;\r\n      heightCrop = widthCrop / canvasRel;\r\n    }\r\n    ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\r\n    this.img = canvas;\r\n  }\r\n};\r\n\r\nCVImageElement.prototype.renderInnerContent = function () {\r\n  this.canvasContext.drawImage(this.img, 0, 0);\r\n};\r\n\r\nCVImageElement.prototype.destroy = function () {\r\n  this.img = null;\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, CanvasRenderer, ICompElement, CVBaseElement */\r\n\r\nfunction CVCompElement(data, globalData, comp) {\r\n  this.completeLayers = false;\r\n  this.layers = data.layers;\r\n  this.pendingElements = [];\r\n  this.elements = createSizedArray(this.layers.length);\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement);\r\n\r\nCVCompElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.beginPath();\r\n  ctx.moveTo(0, 0);\r\n  ctx.lineTo(this.data.w, 0);\r\n  ctx.lineTo(this.data.w, this.data.h);\r\n  ctx.lineTo(0, this.data.h);\r\n  ctx.lineTo(0, 0);\r\n  ctx.clip();\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nCVCompElement.prototype.destroy = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.layers = null;\r\n  this.elements = null;\r\n};\r\n\r\n/* global createSizedArray, ShapePropertyFactory, MaskElement */\r\n\r\nfunction CVMaskElement(data, element) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.viewData = createSizedArray(this.masksProperties.length);\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  var hasMasks = false;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      hasMasks = true;\r\n    }\r\n    this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\r\n  }\r\n  this.hasMasks = hasMasks;\r\n  if (hasMasks) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nCVMaskElement.prototype.renderFrame = function () {\r\n  if (!this.hasMasks) {\r\n    return;\r\n  }\r\n  var transform = this.element.finalTransform.mat;\r\n  var ctx = this.element.canvasContext;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  var pt;\r\n  var pts;\r\n  var data;\r\n  ctx.beginPath();\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.masksProperties[i].inv) {\r\n        ctx.moveTo(0, 0);\r\n        ctx.lineTo(this.element.globalData.compSize.w, 0);\r\n        ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\r\n        ctx.lineTo(0, this.element.globalData.compSize.h);\r\n        ctx.lineTo(0, 0);\r\n      }\r\n      data = this.viewData[i].v;\r\n      pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\r\n      ctx.moveTo(pt[0], pt[1]);\r\n      var j;\r\n      var jLen = data._length;\r\n      for (j = 1; j < jLen; j += 1) {\r\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n      }\r\n      pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n      ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n    }\r\n  }\r\n  this.element.globalData.renderer.save(true);\r\n  ctx.clip();\r\n};\r\n\r\nCVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\nCVMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n};\r\n\r\n/* global ShapeTransformManager, extendPrototype, BaseElement, TransformElement, CVBaseElement, IShapeElement,\r\nHierarchyElement, FrameElement, RenderableElement, RenderableDOMElement, PropertyFactory, degToRads, GradientProperty,\r\nDashProperty, TransformPropertyFactory, CVShapeData, ShapeModifiers, bmFloor, lineCapEnum, lineJoinEnum */\r\n\r\nfunction CVShapeElement(data, globalData, comp) {\r\n  this.shapes = [];\r\n  this.shapesData = data.shapes;\r\n  this.stylesList = [];\r\n  this.itemsData = [];\r\n  this.prevViewData = [];\r\n  this.shapeModifiers = [];\r\n  this.processedElements = [];\r\n  this.transformsManager = new ShapeTransformManager();\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\r\n\r\nCVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n\r\nCVShapeElement.prototype.transformHelper = { opacity: 1, _opMdf: false };\r\n\r\nCVShapeElement.prototype.dashResetter = [];\r\n\r\nCVShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n};\r\n\r\nCVShapeElement.prototype.createStyleElement = function (data, transforms) {\r\n  var styleElem = {\r\n    data: data,\r\n    type: data.ty,\r\n    preTransforms: this.transformsManager.addTransformSequence(transforms),\r\n    transforms: [],\r\n    elements: [],\r\n    closed: data.hd === true,\r\n  };\r\n  var elementData = {};\r\n  if (data.ty === 'fl' || data.ty === 'st') {\r\n    elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\r\n    if (!elementData.c.k) {\r\n      styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\r\n    }\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\r\n    elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\r\n    elementData.h = PropertyFactory.getProp(this, data.h || { k: 0 }, 0, 0.01, this);\r\n    elementData.a = PropertyFactory.getProp(this, data.a || { k: 0 }, 0, degToRads, this);\r\n    elementData.g = new GradientProperty(this, data.g, this);\r\n  }\r\n  elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    styleElem.lc = lineCapEnum[data.lc || 2];\r\n    styleElem.lj = lineJoinEnum[data.lj || 2];\r\n    if (data.lj == 1) { // eslint-disable-line eqeqeq\r\n      styleElem.ml = data.ml;\r\n    }\r\n    elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\r\n    if (!elementData.w.k) {\r\n      styleElem.wi = elementData.w.v;\r\n    }\r\n    if (data.d) {\r\n      var d = new DashProperty(this, data.d, 'canvas', this);\r\n      elementData.d = d;\r\n      if (!elementData.d.k) {\r\n        styleElem.da = elementData.d.dashArray;\r\n        styleElem.do = elementData.d.dashoffset[0];\r\n      }\r\n    }\r\n  } else {\r\n    styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n  }\r\n  this.stylesList.push(styleElem);\r\n  elementData.style = styleElem;\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createGroupElement = function () {\r\n  var elementData = {\r\n    it: [],\r\n    prevViewData: [],\r\n  };\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createTransformElement = function (data) {\r\n  var elementData = {\r\n    transform: {\r\n      opacity: 1,\r\n      _opMdf: false,\r\n      key: this.transformsManager.getNewKey(),\r\n      op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\r\n      mProps: TransformPropertyFactory.getTransformProperty(this, data, this),\r\n    },\r\n  };\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createShapeElement = function (data) {\r\n  var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\r\n\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n  this.transformsManager.processSequences(this._isFirstFrame);\r\n};\r\n\r\nCVShapeElement.prototype.addTransformToStyleList = function (transform) {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!this.stylesList[i].closed) {\r\n      this.stylesList[i].transforms.push(transform);\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.removeTransformFromStyleList = function () {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!this.stylesList[i].closed) {\r\n      this.stylesList[i].transforms.pop();\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.closeStyles = function (styles) {\r\n  var i;\r\n  var len = styles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    styles[i].closed = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var processedPos;\r\n  var modifier;\r\n  var currentTransform;\r\n  var ownTransforms = [].concat(transforms);\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._shouldRender = shouldRender;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        currentTransform = this.createTransformElement(arr[i]);\r\n        itemsData[i] = currentTransform;\r\n      }\r\n      ownTransforms.push(itemsData[i]);\r\n      this.addTransformToStyleList(itemsData[i]);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i]);\r\n      }\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        shouldRender = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  this.removeTransformFromStyleList();\r\n  this.closeStyles(ownStyles);\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderInnerContent = function () {\r\n  this.transformHelper.opacity = 1;\r\n  this.transformHelper._opMdf = false;\r\n  this.renderModifiers();\r\n  this.transformsManager.processSequences(this._isFirstFrame);\r\n  this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\r\n};\r\n\r\nCVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\r\n  if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n    groupTransform.opacity = parentTransform.opacity;\r\n    groupTransform.opacity *= groupTransform.op.v;\r\n    groupTransform._opMdf = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.drawLayer = function () {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  var j;\r\n  var jLen;\r\n  var k;\r\n  var kLen;\r\n  var elems;\r\n  var nodes;\r\n  var renderer = this.globalData.renderer;\r\n  var ctx = this.globalData.canvasContext;\r\n  var type;\r\n  var currentStyle;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentStyle = this.stylesList[i];\r\n    type = currentStyle.type;\r\n\r\n    // Skipping style when\r\n    // Stroke width equals 0\r\n    // style should not be rendered (extra unused repeaters)\r\n    // current opacity equals 0\r\n    // global opacity equals 0\r\n    if (!(((type === 'st' || type === 'gs') && currentStyle.wi === 0) || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\r\n      renderer.save();\r\n      elems = currentStyle.elements;\r\n      if (type === 'st' || type === 'gs') {\r\n        ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\r\n        ctx.lineWidth = currentStyle.wi;\r\n        ctx.lineCap = currentStyle.lc;\r\n        ctx.lineJoin = currentStyle.lj;\r\n        ctx.miterLimit = currentStyle.ml || 0;\r\n      } else {\r\n        ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\r\n      }\r\n      renderer.ctxOpacity(currentStyle.coOp);\r\n      if (type !== 'st' && type !== 'gs') {\r\n        ctx.beginPath();\r\n      }\r\n      renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\r\n      jLen = elems.length;\r\n      for (j = 0; j < jLen; j += 1) {\r\n        if (type === 'st' || type === 'gs') {\r\n          ctx.beginPath();\r\n          if (currentStyle.da) {\r\n            ctx.setLineDash(currentStyle.da);\r\n            ctx.lineDashOffset = currentStyle.do;\r\n          }\r\n        }\r\n        nodes = elems[j].trNodes;\r\n        kLen = nodes.length;\r\n\r\n        for (k = 0; k < kLen; k += 1) {\r\n          if (nodes[k].t === 'm') {\r\n            ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\r\n          } else if (nodes[k].t === 'c') {\r\n            ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\r\n          } else {\r\n            ctx.closePath();\r\n          }\r\n        }\r\n        if (type === 'st' || type === 'gs') {\r\n          ctx.stroke();\r\n          if (currentStyle.da) {\r\n            ctx.setLineDash(this.dashResetter);\r\n          }\r\n        }\r\n      }\r\n      if (type !== 'st' && type !== 'gs') {\r\n        ctx.fill(currentStyle.r);\r\n      }\r\n      renderer.restore();\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\r\n  var i;\r\n  var len = items.length - 1;\r\n  var groupTransform;\r\n  groupTransform = parentTransform;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    if (items[i].ty === 'tr') {\r\n      groupTransform = data[i].transform;\r\n      this.renderShapeTransform(parentTransform, groupTransform);\r\n    } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\r\n      this.renderPath(items[i], data[i]);\r\n    } else if (items[i].ty === 'fl') {\r\n      this.renderFill(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'st') {\r\n      this.renderStroke(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\r\n      this.renderGradientFill(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'gr') {\r\n      this.renderShape(groupTransform, items[i].it, data[i].it);\r\n    } else if (items[i].ty === 'tm') {\r\n      //\r\n    }\r\n  }\r\n  if (isMain) {\r\n    this.drawLayer();\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\r\n  if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\r\n    var shapeNodes = styledShape.trNodes;\r\n    var paths = shape.paths;\r\n    var i;\r\n    var len;\r\n    var j;\r\n    var jLen = paths._length;\r\n    shapeNodes.length = 0;\r\n    var groupTransformMat = styledShape.transforms.finalTransform;\r\n    for (j = 0; j < jLen; j += 1) {\r\n      var pathNodes = paths.shapes[j];\r\n      if (pathNodes && pathNodes.v) {\r\n        len = pathNodes._length;\r\n        for (i = 1; i < len; i += 1) {\r\n          if (i === 1) {\r\n            shapeNodes.push({\r\n              t: 'm',\r\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\r\n            });\r\n          }\r\n          shapeNodes.push({\r\n            t: 'c',\r\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i]),\r\n          });\r\n        }\r\n        if (len === 1) {\r\n          shapeNodes.push({\r\n            t: 'm',\r\n            p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\r\n          });\r\n        }\r\n        if (pathNodes.c && len) {\r\n          shapeNodes.push({\r\n            t: 'c',\r\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0]),\r\n          });\r\n          shapeNodes.push({\r\n            t: 'z',\r\n          });\r\n        }\r\n      }\r\n    }\r\n    styledShape.trNodes = shapeNodes;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderPath = function (pathData, itemData) {\r\n  if (pathData.hd !== true && pathData._shouldRender) {\r\n    var i;\r\n    var len = itemData.styledShapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n\r\n  if (itemData.c._mdf || this._isFirstFrame) {\r\n    styleElem.co = 'rgb('\r\n        + bmFloor(itemData.c.v[0]) + ','\r\n        + bmFloor(itemData.c.v[1]) + ','\r\n        + bmFloor(itemData.c.v[2]) + ')';\r\n  }\r\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n  var grd;\r\n  if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\r\n    var ctx = this.globalData.canvasContext;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n    if (styleData.t === 1) {\r\n      grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\r\n    } else {\r\n      var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n      var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n      var percent = itemData.h.v;\r\n      if (percent >= 1) {\r\n        percent = 0.99;\r\n      } else if (percent <= -1) {\r\n        percent = -0.99;\r\n      }\r\n      var dist = rad * percent;\r\n      var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n      var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n      grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\r\n    }\r\n\r\n    var i;\r\n    var len = styleData.g.p;\r\n    var cValues = itemData.g.c;\r\n    var opacity = 1;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (itemData.g._hasOpacity && itemData.g._collapsable) {\r\n        opacity = itemData.g.o[i * 2 + 1];\r\n      }\r\n      grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\r\n    }\r\n    styleElem.grd = grd;\r\n  }\r\n  styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n};\r\n\r\nCVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n  var d = itemData.d;\r\n  if (d && (d._mdf || this._isFirstFrame)) {\r\n    styleElem.da = d.dashArray;\r\n    styleElem.do = d.dashoffset[0];\r\n  }\r\n  if (itemData.c._mdf || this._isFirstFrame) {\r\n    styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\r\n  }\r\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  }\r\n  if (itemData.w._mdf || this._isFirstFrame) {\r\n    styleElem.wi = itemData.w.v;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.destroy = function () {\r\n  this.shapesData = null;\r\n  this.globalData = null;\r\n  this.canvasContext = null;\r\n  this.stylesList.length = 0;\r\n  this.itemsData.length = 0;\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement,\r\nSVGShapeElement, IImageElement */\r\n\r\nfunction CVSolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n\r\nCVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVSolidElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.fillStyle = this.data.sc;\r\n  ctx.fillRect(0, 0, this.data.sw, this.data.sh);\r\n  //\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement,\r\nRenderableElement, ITextElement, createTag, createSizedArray */\r\n\r\nfunction CVTextElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.yOffset = 0;\r\n  this.fillColorAnim = false;\r\n  this.strokeColorAnim = false;\r\n  this.strokeWidthAnim = false;\r\n  this.stroke = false;\r\n  this.fill = false;\r\n  this.justifyOffset = 0;\r\n  this.currentRender = null;\r\n  this.renderType = 'canvas';\r\n  this.values = {\r\n    fill: 'rgba(0,0,0,0)',\r\n    stroke: 'rgba(0,0,0,0)',\r\n    sWidth: 0,\r\n    fValue: '',\r\n  };\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\r\n\r\nCVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\nCVTextElement.prototype.buildNewText = function () {\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n\r\n  var hasFill = false;\r\n  if (documentData.fc) {\r\n    hasFill = true;\r\n    this.values.fill = this.buildColor(documentData.fc);\r\n  } else {\r\n    this.values.fill = 'rgba(0,0,0,0)';\r\n  }\r\n  this.fill = hasFill;\r\n  var hasStroke = false;\r\n  if (documentData.sc) {\r\n    hasStroke = true;\r\n    this.values.stroke = this.buildColor(documentData.sc);\r\n    this.values.sWidth = documentData.sw;\r\n  }\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var matrixHelper = this.mHelper;\r\n  this.stroke = hasStroke;\r\n  this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n  len = documentData.finalText.length;\r\n  // this.tHelper.font = this.values.fValue;\r\n  var charData;\r\n  var shapeData;\r\n  var k;\r\n  var kLen;\r\n  var shapes;\r\n  var j;\r\n  var jLen;\r\n  var pathNodes;\r\n  var commands;\r\n  var pathArr;\r\n  var singleShape = this.data.singleShape;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var cnt = 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n    shapeData = (charData && charData.data) || {};\r\n    matrixHelper.reset();\r\n    if (singleShape && letters[i].n) {\r\n      xPos = -trackingOffset;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      firstLine = false;\r\n    }\r\n\r\n    shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n    jLen = shapes.length;\r\n    matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n    if (singleShape) {\r\n      this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n    }\r\n    commands = createSizedArray(jLen);\r\n    for (j = 0; j < jLen; j += 1) {\r\n      kLen = shapes[j].ks.k.i.length;\r\n      pathNodes = shapes[j].ks.k;\r\n      pathArr = [];\r\n      for (k = 1; k < kLen; k += 1) {\r\n        if (k === 1) {\r\n          pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n        }\r\n        pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\r\n      }\r\n      pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n      commands[j] = pathArr;\r\n    }\r\n    if (singleShape) {\r\n      xPos += letters[i].l;\r\n      xPos += trackingOffset;\r\n    }\r\n    if (this.textSpans[cnt]) {\r\n      this.textSpans[cnt].elem = commands;\r\n    } else {\r\n      this.textSpans[cnt] = { elem: commands };\r\n    }\r\n    cnt += 1;\r\n  }\r\n};\r\n\r\nCVTextElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.font = this.values.fValue;\r\n  ctx.lineCap = 'butt';\r\n  ctx.lineJoin = 'miter';\r\n  ctx.miterLimit = 4;\r\n\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n  }\r\n\r\n  var i;\r\n  var len;\r\n  var j;\r\n  var jLen;\r\n  var k;\r\n  var kLen;\r\n  var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n  var letters = this.textProperty.currentData.l;\r\n\r\n  len = letters.length;\r\n  var renderedLetter;\r\n  var lastFill = null;\r\n  var lastStroke = null;\r\n  var lastStrokeW = null;\r\n  var commands;\r\n  var pathArr;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!letters[i].n) {\r\n      renderedLetter = renderedLetters[i];\r\n      if (renderedLetter) {\r\n        this.globalData.renderer.save();\r\n        this.globalData.renderer.ctxTransform(renderedLetter.p);\r\n        this.globalData.renderer.ctxOpacity(renderedLetter.o);\r\n      }\r\n      if (this.fill) {\r\n        if (renderedLetter && renderedLetter.fc) {\r\n          if (lastFill !== renderedLetter.fc) {\r\n            lastFill = renderedLetter.fc;\r\n            ctx.fillStyle = renderedLetter.fc;\r\n          }\r\n        } else if (lastFill !== this.values.fill) {\r\n          lastFill = this.values.fill;\r\n          ctx.fillStyle = this.values.fill;\r\n        }\r\n        commands = this.textSpans[i].elem;\r\n        jLen = commands.length;\r\n        this.globalData.canvasContext.beginPath();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathArr = commands[j];\r\n          kLen = pathArr.length;\r\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n          for (k = 2; k < kLen; k += 6) {\r\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n          }\r\n        }\r\n        this.globalData.canvasContext.closePath();\r\n        this.globalData.canvasContext.fill();\r\n        /// ctx.fillText(this.textSpans[i].val,0,0);\r\n      }\r\n      if (this.stroke) {\r\n        if (renderedLetter && renderedLetter.sw) {\r\n          if (lastStrokeW !== renderedLetter.sw) {\r\n            lastStrokeW = renderedLetter.sw;\r\n            ctx.lineWidth = renderedLetter.sw;\r\n          }\r\n        } else if (lastStrokeW !== this.values.sWidth) {\r\n          lastStrokeW = this.values.sWidth;\r\n          ctx.lineWidth = this.values.sWidth;\r\n        }\r\n        if (renderedLetter && renderedLetter.sc) {\r\n          if (lastStroke !== renderedLetter.sc) {\r\n            lastStroke = renderedLetter.sc;\r\n            ctx.strokeStyle = renderedLetter.sc;\r\n          }\r\n        } else if (lastStroke !== this.values.stroke) {\r\n          lastStroke = this.values.stroke;\r\n          ctx.strokeStyle = this.values.stroke;\r\n        }\r\n        commands = this.textSpans[i].elem;\r\n        jLen = commands.length;\r\n        this.globalData.canvasContext.beginPath();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathArr = commands[j];\r\n          kLen = pathArr.length;\r\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n          for (k = 2; k < kLen; k += 6) {\r\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n          }\r\n        }\r\n        this.globalData.canvasContext.closePath();\r\n        this.globalData.canvasContext.stroke();\r\n        /// ctx.strokeText(letters[i].val,0,0);\r\n      }\r\n      if (renderedLetter) {\r\n        this.globalData.renderer.restore();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nfunction CVEffects() {\r\n\r\n}\r\nCVEffects.prototype.renderFrame = function () {};\r\n\r\n/* global createTag, createNS, styleDiv, CVEffects, MaskElement, SVGBaseElement, HybridRenderer */\r\n\r\nfunction HBaseElement() {}\r\nHBaseElement.prototype = {\r\n  checkBlendMode: function () {},\r\n  initRendererElement: function () {\r\n    this.baseElement = createTag(this.data.tg || 'div');\r\n    if (this.data.hasMask) {\r\n      this.svgElement = createNS('svg');\r\n      this.layerElement = createNS('g');\r\n      this.maskedElement = this.layerElement;\r\n      this.svgElement.appendChild(this.layerElement);\r\n      this.baseElement.appendChild(this.svgElement);\r\n    } else {\r\n      this.layerElement = this.baseElement;\r\n    }\r\n    styleDiv(this.baseElement);\r\n  },\r\n  createContainerElements: function () {\r\n    this.renderableEffectsManager = new CVEffects(this);\r\n    this.transformedElement = this.baseElement;\r\n    this.maskedElement = this.layerElement;\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\r\n    if (this.finalTransform._matMdf) {\r\n      var matrixValue = this.finalTransform.mat.toCSS();\r\n      transformedElementStyle.transform = matrixValue;\r\n      transformedElementStyle.webkitTransform = matrixValue;\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\r\n    }\r\n  },\r\n  renderFrame: function () {\r\n    // If it is exported as hidden (data.hd === true) no need to render\r\n    // If it is not visible no need to render\r\n    if (this.data.hd || this.hidden) {\r\n      return;\r\n    }\r\n    this.renderTransform();\r\n    this.renderRenderable();\r\n    this.renderElement();\r\n    this.renderInnerContent();\r\n    if (this._isFirstFrame) {\r\n      this._isFirstFrame = false;\r\n    }\r\n  },\r\n  destroy: function () {\r\n    this.layerElement = null;\r\n    this.transformedElement = null;\r\n    if (this.matteElement) {\r\n      this.matteElement = null;\r\n    }\r\n    if (this.maskManager) {\r\n      this.maskManager.destroy();\r\n      this.maskManager = null;\r\n    }\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n  },\r\n  addEffects: function () {\r\n  },\r\n  setMatte: function () {},\r\n};\r\nHBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\r\nHBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\r\nHBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting;\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, createNS, createTag */\r\n\r\nfunction HSolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\r\n\r\nHSolidElement.prototype.createContent = function () {\r\n  var rect;\r\n  if (this.data.hasMask) {\r\n    rect = createNS('rect');\r\n    rect.setAttribute('width', this.data.sw);\r\n    rect.setAttribute('height', this.data.sh);\r\n    rect.setAttribute('fill', this.data.sc);\r\n    this.svgElement.setAttribute('width', this.data.sw);\r\n    this.svgElement.setAttribute('height', this.data.sh);\r\n  } else {\r\n    rect = createTag('div');\r\n    rect.style.width = this.data.sw + 'px';\r\n    rect.style.height = this.data.sh + 'px';\r\n    rect.style.backgroundColor = this.data.sc;\r\n  }\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, HybridRenderer, ICompElement, HBaseElement */\r\n\r\nfunction HCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = !data.hasMask;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement);\r\nHCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\r\n\r\nHCompElement.prototype.createContainerElements = function () {\r\n  this._createBaseContainerElements();\r\n  // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\r\n  if (this.data.hasMask) {\r\n    this.svgElement.setAttribute('width', this.data.w);\r\n    this.svgElement.setAttribute('height', this.data.h);\r\n    this.transformedElement = this.baseElement;\r\n  } else {\r\n    this.transformedElement = this.layerElement;\r\n  }\r\n};\r\n\r\nHCompElement.prototype.addTo3dContainer = function (elem, pos) {\r\n  var j = 0;\r\n  var nextElement;\r\n  while (j < pos) {\r\n    if (this.elements[j] && this.elements[j].getBaseElement) {\r\n      nextElement = this.elements[j].getBaseElement();\r\n    }\r\n    j += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(elem, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(elem);\r\n  }\r\n};\r\n\r\n/* global createNS, extendPrototype, BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement,\r\nHierarchyElement, FrameElement, RenderableElement, createNS, bmMin, bmSqrt, bmMin, bmMax, bmPow */\r\n\r\nfunction HShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.shapesContainer = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  this.currentBBox = {\r\n    x: 999999,\r\n    y: -999999,\r\n    h: 0,\r\n    w: 0,\r\n  };\r\n}\r\nextendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\r\nHShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\r\n\r\nHShapeElement.prototype.createContent = function () {\r\n  var cont;\r\n  this.baseElement.style.fontSize = 0;\r\n  if (this.data.hasMask) {\r\n    this.layerElement.appendChild(this.shapesContainer);\r\n    cont = this.svgElement;\r\n  } else {\r\n    cont = createNS('svg');\r\n    var size = this.comp.data ? this.comp.data : this.globalData.compSize;\r\n    cont.setAttribute('width', size.w);\r\n    cont.setAttribute('height', size.h);\r\n    cont.appendChild(this.shapesContainer);\r\n    this.layerElement.appendChild(cont);\r\n  }\r\n\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  this.shapeCont = cont;\r\n};\r\n\r\nHShapeElement.prototype.getTransformedPoint = function (transformers, point) {\r\n  var i;\r\n  var len = transformers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\r\n  }\r\n  return point;\r\n};\r\n\r\nHShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\r\n  var shape = item.sh.v;\r\n  var transformers = item.transformers;\r\n  var i;\r\n  var len = shape._length;\r\n  var vPoint;\r\n  var oPoint;\r\n  var nextIPoint;\r\n  var nextVPoint;\r\n  if (len <= 1) {\r\n    return;\r\n  }\r\n  for (i = 0; i < len - 1; i += 1) {\r\n    vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n    oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n    nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\r\n    nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\r\n    this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n  }\r\n  if (shape.c) {\r\n    vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n    oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n    nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\r\n    nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\r\n    this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n  }\r\n};\r\n\r\nHShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\r\n  this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\r\n  var bounds = this.shapeBoundingBox;\r\n  boundingBox.x = bmMin(bounds.left, boundingBox.x);\r\n  boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\r\n  boundingBox.y = bmMin(bounds.top, boundingBox.y);\r\n  boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\r\n};\r\n\r\nHShapeElement.prototype.shapeBoundingBox = {\r\n  left: 0,\r\n  right: 0,\r\n  top: 0,\r\n  bottom: 0,\r\n};\r\n\r\nHShapeElement.prototype.tempBoundingBox = {\r\n  x: 0,\r\n  xMax: 0,\r\n  y: 0,\r\n  yMax: 0,\r\n  width: 0,\r\n  height: 0,\r\n};\r\n\r\nHShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\r\n  var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\r\n\r\n  for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) { // eslint-disable-line no-plusplus\r\n    b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\r\n    a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\r\n    c = 3 * p1[i] - 3 * p0[i];\r\n\r\n    b |= 0; // eslint-disable-line no-bitwise\r\n    a |= 0; // eslint-disable-line no-bitwise\r\n    c |= 0; // eslint-disable-line no-bitwise\r\n\r\n    if (a === 0 && b === 0) {\r\n      //\r\n    } else if (a === 0) {\r\n      t = -c / b;\r\n\r\n      if (t > 0 && t < 1) {\r\n        bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\r\n      }\r\n    } else {\r\n      b2ac = b * b - 4 * c * a;\r\n\r\n      if (b2ac >= 0) {\r\n        t1 = (-b + bmSqrt(b2ac)) / (2 * a);\r\n        if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\r\n        t2 = (-b - bmSqrt(b2ac)) / (2 * a);\r\n        if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\r\n      }\r\n    }\r\n  }\r\n\r\n  this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\r\n  this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\r\n  this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\r\n  this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\r\n};\r\n\r\nHShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\r\n  return bmPow(1 - t, 3) * p0[i]\r\n        + 3 * bmPow(1 - t, 2) * t * p1[i]\r\n        + 3 * (1 - t) * bmPow(t, 2) * p2[i]\r\n        + bmPow(t, 3) * p3[i];\r\n};\r\n\r\nHShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\r\n  var i;\r\n  var len = itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (itemsData[i] && itemsData[i].sh) {\r\n      this.calculateShapeBoundingBox(itemsData[i], boundingBox);\r\n    } else if (itemsData[i] && itemsData[i].it) {\r\n      this.calculateBoundingBox(itemsData[i].it, boundingBox);\r\n    }\r\n  }\r\n};\r\n\r\nHShapeElement.prototype.currentBoxContains = function (box) {\r\n  return this.currentBBox.x <= box.x\r\n    && this.currentBBox.y <= box.y\r\n    && this.currentBBox.width + this.currentBBox.x >= box.x + box.width\r\n    && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\r\n};\r\n\r\nHShapeElement.prototype.renderInnerContent = function () {\r\n  this._renderShapeFrame();\r\n\r\n  if (!this.hidden && (this._isFirstFrame || this._mdf)) {\r\n    var tempBoundingBox = this.tempBoundingBox;\r\n    var max = 999999;\r\n    tempBoundingBox.x = max;\r\n    tempBoundingBox.xMax = -max;\r\n    tempBoundingBox.y = max;\r\n    tempBoundingBox.yMax = -max;\r\n    this.calculateBoundingBox(this.itemsData, tempBoundingBox);\r\n    tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\r\n    tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y;\r\n    // var tempBoundingBox = this.shapeCont.getBBox();\r\n    if (this.currentBoxContains(tempBoundingBox)) {\r\n      return;\r\n    }\r\n    var changed = false;\r\n    if (this.currentBBox.w !== tempBoundingBox.width) {\r\n      this.currentBBox.w = tempBoundingBox.width;\r\n      this.shapeCont.setAttribute('width', tempBoundingBox.width);\r\n      changed = true;\r\n    }\r\n    if (this.currentBBox.h !== tempBoundingBox.height) {\r\n      this.currentBBox.h = tempBoundingBox.height;\r\n      this.shapeCont.setAttribute('height', tempBoundingBox.height);\r\n      changed = true;\r\n    }\r\n    if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\r\n      this.currentBBox.w = tempBoundingBox.width;\r\n      this.currentBBox.h = tempBoundingBox.height;\r\n      this.currentBBox.x = tempBoundingBox.x;\r\n      this.currentBBox.y = tempBoundingBox.y;\r\n\r\n      this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n      var shapeStyle = this.shapeCont.style;\r\n      var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n      shapeStyle.transform = shapeTransform;\r\n      shapeStyle.webkitTransform = shapeTransform;\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createTag, styleDiv, createNS, lineJoinEnum, lineCapEnum */\r\n\r\nfunction HTextElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.textPaths = [];\r\n  this.currentBBox = {\r\n    x: 999999,\r\n    y: -999999,\r\n    h: 0,\r\n    w: 0,\r\n  };\r\n  this.renderType = 'svg';\r\n  this.isMasked = false;\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\r\n\r\nHTextElement.prototype.createContent = function () {\r\n  this.isMasked = this.checkMasks();\r\n  if (this.isMasked) {\r\n    this.renderType = 'svg';\r\n    this.compW = this.comp.data.w;\r\n    this.compH = this.comp.data.h;\r\n    this.svgElement.setAttribute('width', this.compW);\r\n    this.svgElement.setAttribute('height', this.compH);\r\n    var g = createNS('g');\r\n    this.maskedElement.appendChild(g);\r\n    this.innerElem = g;\r\n  } else {\r\n    this.renderType = 'html';\r\n    this.innerElem = this.layerElement;\r\n  }\r\n\r\n  this.checkParenting();\r\n};\r\n\r\nHTextElement.prototype.buildNewText = function () {\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n  var innerElemStyle = this.innerElem.style;\r\n  var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\r\n  innerElemStyle.fill = textColor;\r\n  innerElemStyle.color = textColor;\r\n  if (documentData.sc) {\r\n    innerElemStyle.stroke = this.buildColor(documentData.sc);\r\n    innerElemStyle.strokeWidth = documentData.sw + 'px';\r\n  }\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (!this.globalData.fontManager.chars) {\r\n    innerElemStyle.fontSize = documentData.finalSize + 'px';\r\n    innerElemStyle.lineHeight = documentData.finalSize + 'px';\r\n    if (fontData.fClass) {\r\n      this.innerElem.className = fontData.fClass;\r\n    } else {\r\n      innerElemStyle.fontFamily = fontData.fFamily;\r\n      var fWeight = documentData.fWeight;\r\n      var fStyle = documentData.fStyle;\r\n      innerElemStyle.fontStyle = fStyle;\r\n      innerElemStyle.fontWeight = fWeight;\r\n    }\r\n  }\r\n  var i;\r\n  var len;\r\n\r\n  var letters = documentData.l;\r\n  len = letters.length;\r\n  var tSpan;\r\n  var tParent;\r\n  var tCont;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var cnt = 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.globalData.fontManager.chars) {\r\n      if (!this.textPaths[cnt]) {\r\n        tSpan = createNS('path');\r\n        tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\r\n        tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\r\n        tSpan.setAttribute('stroke-miterlimit', '4');\r\n      } else {\r\n        tSpan = this.textPaths[cnt];\r\n      }\r\n      if (!this.isMasked) {\r\n        if (this.textSpans[cnt]) {\r\n          tParent = this.textSpans[cnt];\r\n          tCont = tParent.children[0];\r\n        } else {\r\n          tParent = createTag('div');\r\n          tParent.style.lineHeight = 0;\r\n          tCont = createNS('svg');\r\n          tCont.appendChild(tSpan);\r\n          styleDiv(tParent);\r\n        }\r\n      }\r\n    } else if (!this.isMasked) {\r\n      if (this.textSpans[cnt]) {\r\n        tParent = this.textSpans[cnt];\r\n        tSpan = this.textPaths[cnt];\r\n      } else {\r\n        tParent = createTag('span');\r\n        styleDiv(tParent);\r\n        tSpan = createTag('span');\r\n        styleDiv(tSpan);\r\n        tParent.appendChild(tSpan);\r\n      }\r\n    } else {\r\n      tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\r\n    }\r\n    // tSpan.setAttribute('visibility', 'hidden');\r\n    if (this.globalData.fontManager.chars) {\r\n      var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n      var shapeData;\r\n      if (charData) {\r\n        shapeData = charData.data;\r\n      } else {\r\n        shapeData = null;\r\n      }\r\n      matrixHelper.reset();\r\n      if (shapeData && shapeData.shapes) {\r\n        shapes = shapeData.shapes[0].it;\r\n        matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n        shapeStr = this.createPathShape(matrixHelper, shapes);\r\n        tSpan.setAttribute('d', shapeStr);\r\n      }\r\n      if (!this.isMasked) {\r\n        this.innerElem.appendChild(tParent);\r\n        if (shapeData && shapeData.shapes) {\r\n          // document.body.appendChild is needed to get exact measure of shape\r\n          document.body.appendChild(tCont);\r\n          var boundingBox = tCont.getBBox();\r\n          tCont.setAttribute('width', boundingBox.width + 2);\r\n          tCont.setAttribute('height', boundingBox.height + 2);\r\n          tCont.setAttribute('viewBox', (boundingBox.x - 1) + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\r\n          var tContStyle = tCont.style;\r\n          var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\r\n          tContStyle.transform = tContTranslation;\r\n          tContStyle.webkitTransform = tContTranslation;\r\n\r\n          letters[i].yOffset = boundingBox.y - 1;\r\n        } else {\r\n          tCont.setAttribute('width', 1);\r\n          tCont.setAttribute('height', 1);\r\n        }\r\n        tParent.appendChild(tCont);\r\n      } else {\r\n        this.innerElem.appendChild(tSpan);\r\n      }\r\n    } else {\r\n      tSpan.textContent = letters[i].val;\r\n      tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      if (!this.isMasked) {\r\n        this.innerElem.appendChild(tParent);\r\n        //\r\n        var tStyle = tSpan.style;\r\n        var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\r\n        tStyle.transform = tSpanTranslation;\r\n        tStyle.webkitTransform = tSpanTranslation;\r\n      } else {\r\n        this.innerElem.appendChild(tSpan);\r\n      }\r\n    }\r\n    //\r\n    if (!this.isMasked) {\r\n      this.textSpans[cnt] = tParent;\r\n    } else {\r\n      this.textSpans[cnt] = tSpan;\r\n    }\r\n    this.textSpans[cnt].style.display = 'block';\r\n    this.textPaths[cnt] = tSpan;\r\n    cnt += 1;\r\n  }\r\n  while (cnt < this.textSpans.length) {\r\n    this.textSpans[cnt].style.display = 'none';\r\n    cnt += 1;\r\n  }\r\n};\r\n\r\nHTextElement.prototype.renderInnerContent = function () {\r\n  var svgStyle;\r\n  if (this.data.singleShape) {\r\n    if (!this._isFirstFrame && !this.lettersChangedFlag) {\r\n      return;\r\n    } if (this.isMasked && this.finalTransform._matMdf) {\r\n      // Todo Benchmark if using this is better than getBBox\r\n      this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\r\n      svgStyle = this.svgElement.style;\r\n      var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\r\n      svgStyle.transform = translation;\r\n      svgStyle.webkitTransform = translation;\r\n    }\r\n  }\r\n\r\n  this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n  if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\r\n    return;\r\n  }\r\n  var i;\r\n  var len;\r\n  var count = 0;\r\n  var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n  var letters = this.textProperty.currentData.l;\r\n\r\n  len = letters.length;\r\n  var renderedLetter;\r\n  var textSpan;\r\n  var textPath;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (letters[i].n) {\r\n      count += 1;\r\n    } else {\r\n      textSpan = this.textSpans[i];\r\n      textPath = this.textPaths[i];\r\n      renderedLetter = renderedLetters[count];\r\n      count += 1;\r\n      if (renderedLetter._mdf.m) {\r\n        if (!this.isMasked) {\r\n          textSpan.style.webkitTransform = renderedLetter.m;\r\n          textSpan.style.transform = renderedLetter.m;\r\n        } else {\r\n          textSpan.setAttribute('transform', renderedLetter.m);\r\n        }\r\n      }\r\n      /// /textSpan.setAttribute('opacity',renderedLetter.o);\r\n      textSpan.style.opacity = renderedLetter.o;\r\n      if (renderedLetter.sw && renderedLetter._mdf.sw) {\r\n        textPath.setAttribute('stroke-width', renderedLetter.sw);\r\n      }\r\n      if (renderedLetter.sc && renderedLetter._mdf.sc) {\r\n        textPath.setAttribute('stroke', renderedLetter.sc);\r\n      }\r\n      if (renderedLetter.fc && renderedLetter._mdf.fc) {\r\n        textPath.setAttribute('fill', renderedLetter.fc);\r\n        textPath.style.color = renderedLetter.fc;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\r\n    var boundingBox = this.innerElem.getBBox();\r\n\r\n    if (this.currentBBox.w !== boundingBox.width) {\r\n      this.currentBBox.w = boundingBox.width;\r\n      this.svgElement.setAttribute('width', boundingBox.width);\r\n    }\r\n    if (this.currentBBox.h !== boundingBox.height) {\r\n      this.currentBBox.h = boundingBox.height;\r\n      this.svgElement.setAttribute('height', boundingBox.height);\r\n    }\r\n\r\n    var margin = 1;\r\n    if (this.currentBBox.w !== (boundingBox.width + margin * 2) || this.currentBBox.h !== (boundingBox.height + margin * 2) || this.currentBBox.x !== (boundingBox.x - margin) || this.currentBBox.y !== (boundingBox.y - margin)) {\r\n      this.currentBBox.w = boundingBox.width + margin * 2;\r\n      this.currentBBox.h = boundingBox.height + margin * 2;\r\n      this.currentBBox.x = boundingBox.x - margin;\r\n      this.currentBBox.y = boundingBox.y - margin;\r\n\r\n      this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n      svgStyle = this.svgElement.style;\r\n      var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n      svgStyle.transform = svgTransform;\r\n      svgStyle.webkitTransform = svgTransform;\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement,\r\nFrameElement, RenderableElement, createNS */\r\n\r\nfunction HImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\r\n\r\nHImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  var img = new Image();\r\n\r\n  if (this.data.hasMask) {\r\n    this.imageElem = createNS('image');\r\n    this.imageElem.setAttribute('width', this.assetData.w + 'px');\r\n    this.imageElem.setAttribute('height', this.assetData.h + 'px');\r\n    this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n    this.layerElement.appendChild(this.imageElem);\r\n    this.baseElement.setAttribute('width', this.assetData.w);\r\n    this.baseElement.setAttribute('height', this.assetData.h);\r\n  } else {\r\n    this.layerElement.appendChild(img);\r\n  }\r\n  img.crossOrigin = 'anonymous';\r\n  img.src = assetPath;\r\n  if (this.data.ln) {\r\n    this.baseElement.setAttribute('id', this.data.ln);\r\n  }\r\n};\r\n\r\n/* global PropertyFactory, degToRads, Matrix, extendPrototype, BaseElement, FrameElement, HierarchyElement */\r\n\r\nfunction HCameraElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initHierarchy();\r\n  var getProp = PropertyFactory.getProp;\r\n  this.pe = getProp(this, data.pe, 0, 0, this);\r\n  if (data.ks.p.s) {\r\n    this.px = getProp(this, data.ks.p.x, 1, 0, this);\r\n    this.py = getProp(this, data.ks.p.y, 1, 0, this);\r\n    this.pz = getProp(this, data.ks.p.z, 1, 0, this);\r\n  } else {\r\n    this.p = getProp(this, data.ks.p, 1, 0, this);\r\n  }\r\n  if (data.ks.a) {\r\n    this.a = getProp(this, data.ks.a, 1, 0, this);\r\n  }\r\n  if (data.ks.or.k.length && data.ks.or.k[0].to) {\r\n    var i;\r\n    var len = data.ks.or.k.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      data.ks.or.k[i].to = null;\r\n      data.ks.or.k[i].ti = null;\r\n    }\r\n  }\r\n  this.or = getProp(this, data.ks.or, 1, degToRads, this);\r\n  this.or.sh = true;\r\n  this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\r\n  this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\r\n  this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\r\n  this.mat = new Matrix();\r\n  this._prevMat = new Matrix();\r\n  this._isFirstFrame = true;\r\n\r\n  // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\r\n  this.finalTransform = {\r\n    mProp: this,\r\n  };\r\n}\r\nextendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\r\n\r\nHCameraElement.prototype.setup = function () {\r\n  var i;\r\n  var len = this.comp.threeDElements.length;\r\n  var comp;\r\n  var perspectiveStyle;\r\n  var containerStyle;\r\n  for (i = 0; i < len; i += 1) {\r\n    // [perspectiveElem,container]\r\n    comp = this.comp.threeDElements[i];\r\n    if (comp.type === '3d') {\r\n      perspectiveStyle = comp.perspectiveElem.style;\r\n      containerStyle = comp.container.style;\r\n      var perspective = this.pe.v + 'px';\r\n      var origin = '0px 0px 0px';\r\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n      perspectiveStyle.perspective = perspective;\r\n      perspectiveStyle.webkitPerspective = perspective;\r\n      containerStyle.transformOrigin = origin;\r\n      containerStyle.mozTransformOrigin = origin;\r\n      containerStyle.webkitTransformOrigin = origin;\r\n      perspectiveStyle.transform = matrix;\r\n      perspectiveStyle.webkitTransform = matrix;\r\n    }\r\n  }\r\n};\r\n\r\nHCameraElement.prototype.createElements = function () {\r\n};\r\n\r\nHCameraElement.prototype.hide = function () {\r\n};\r\n\r\nHCameraElement.prototype.renderFrame = function () {\r\n  var _mdf = this._isFirstFrame;\r\n  var i;\r\n  var len;\r\n  if (this.hierarchy) {\r\n    len = this.hierarchy.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\r\n    }\r\n  }\r\n  if (_mdf || this.pe._mdf || (this.p && this.p._mdf) || (this.px && (this.px._mdf || this.py._mdf || this.pz._mdf)) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || (this.a && this.a._mdf)) {\r\n    this.mat.reset();\r\n\r\n    if (this.hierarchy) {\r\n      len = this.hierarchy.length - 1;\r\n      for (i = len; i >= 0; i -= 1) {\r\n        var mTransf = this.hierarchy[i].finalTransform.mProp;\r\n        this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\r\n        this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\r\n        this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\r\n        this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\r\n        this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\r\n      }\r\n    }\r\n    if (this.p) {\r\n      this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\r\n    } else {\r\n      this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\r\n    }\r\n    if (this.a) {\r\n      var diffVector;\r\n      if (this.p) {\r\n        diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\r\n      } else {\r\n        diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\r\n      }\r\n      var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2));\r\n      // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\r\n      var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\r\n      var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\r\n      var mRotationX = (Math.atan2(lookDir[1], lookLengthOnXZ));\r\n      var mRotationY = (Math.atan2(lookDir[0], -lookDir[2]));\r\n      this.mat.rotateY(mRotationY).rotateX(-mRotationX);\r\n    }\r\n    this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\r\n    this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\r\n    this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\r\n    this.mat.translate(0, 0, this.pe.v);\r\n\r\n    var hasMatrixChanged = !this._prevMat.equals(this.mat);\r\n    if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\r\n      len = this.comp.threeDElements.length;\r\n      var comp;\r\n      var perspectiveStyle;\r\n      var containerStyle;\r\n      for (i = 0; i < len; i += 1) {\r\n        comp = this.comp.threeDElements[i];\r\n        if (comp.type === '3d') {\r\n          if (hasMatrixChanged) {\r\n            var matValue = this.mat.toCSS();\r\n            containerStyle = comp.container.style;\r\n            containerStyle.transform = matValue;\r\n            containerStyle.webkitTransform = matValue;\r\n          }\r\n          if (this.pe._mdf) {\r\n            perspectiveStyle = comp.perspectiveElem.style;\r\n            perspectiveStyle.perspective = this.pe.v + 'px';\r\n            perspectiveStyle.webkitPerspective = this.pe.v + 'px';\r\n          }\r\n        }\r\n      }\r\n      this.mat.clone(this._prevMat);\r\n    }\r\n  }\r\n  this._isFirstFrame = false;\r\n};\r\n\r\nHCameraElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nHCameraElement.prototype.destroy = function () {\r\n};\r\nHCameraElement.prototype.getBaseElement = function () { return null; };\r\n\r\nfunction HEffects() {\r\n}\r\nHEffects.prototype.renderFrame = function () {};\r\n\r\n/* global createTag, AnimationItem */\r\n/* exported animationManager */\r\n\r\nvar animationManager = (function () {\r\n  var moduleOb = {};\r\n  var registeredAnimations = [];\r\n  var initTime = 0;\r\n  var len = 0;\r\n  var playingAnimationsNum = 0;\r\n  var _stopped = true;\r\n  var _isFrozen = false;\r\n\r\n  function removeElement(ev) {\r\n    var i = 0;\r\n    var animItem = ev.target;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].animation === animItem) {\r\n        registeredAnimations.splice(i, 1);\r\n        i -= 1;\r\n        len -= 1;\r\n        if (!animItem.isPaused) {\r\n          subtractPlayingCount();\r\n        }\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n\r\n  function registerAnimation(element, animationData) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n    var i = 0;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\r\n        return registeredAnimations[i].animation;\r\n      }\r\n      i += 1;\r\n    }\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, element);\r\n    animItem.setData(element, animationData);\r\n    return animItem;\r\n  }\r\n\r\n  function getRegisteredAnimations() {\r\n    var i;\r\n    var lenAnims = registeredAnimations.length;\r\n    var animations = [];\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      animations.push(registeredAnimations[i].animation);\r\n    }\r\n    return animations;\r\n  }\r\n\r\n  function addPlayingCount() {\r\n    playingAnimationsNum += 1;\r\n    activate();\r\n  }\r\n\r\n  function subtractPlayingCount() {\r\n    playingAnimationsNum -= 1;\r\n  }\r\n\r\n  function setupAnimation(animItem, element) {\r\n    animItem.addEventListener('destroy', removeElement);\r\n    animItem.addEventListener('_active', addPlayingCount);\r\n    animItem.addEventListener('_idle', subtractPlayingCount);\r\n    registeredAnimations.push({ elem: element, animation: animItem });\r\n    len += 1;\r\n  }\r\n\r\n  function loadAnimation(params) {\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, null);\r\n    animItem.setParams(params);\r\n    return animItem;\r\n  }\r\n\r\n  function setSpeed(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setSpeed(val, animation);\r\n    }\r\n  }\r\n\r\n  function setDirection(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setDirection(val, animation);\r\n    }\r\n  }\r\n\r\n  function play(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.play(animation);\r\n    }\r\n  }\r\n  function resume(nowTime) {\r\n    var elapsedTime = nowTime - initTime;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n    }\r\n    initTime = nowTime;\r\n    if (playingAnimationsNum && !_isFrozen) {\r\n      window.requestAnimationFrame(resume);\r\n    } else {\r\n      _stopped = true;\r\n    }\r\n  }\r\n\r\n  function first(nowTime) {\r\n    initTime = nowTime;\r\n    window.requestAnimationFrame(resume);\r\n  }\r\n\r\n  function pause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.pause(animation);\r\n    }\r\n  }\r\n\r\n  function goToAndStop(value, isFrame, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\r\n    }\r\n  }\r\n\r\n  function stop(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.stop(animation);\r\n    }\r\n  }\r\n\r\n  function togglePause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.togglePause(animation);\r\n    }\r\n  }\r\n\r\n  function destroy(animation) {\r\n    var i;\r\n    for (i = (len - 1); i >= 0; i -= 1) {\r\n      registeredAnimations[i].animation.destroy(animation);\r\n    }\r\n  }\r\n\r\n  function searchAnimations(animationData, standalone, renderer) {\r\n    var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n      [].slice.call(document.getElementsByClassName('bodymovin')));\r\n    var i;\r\n    var lenAnims = animElements.length;\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      if (renderer) {\r\n        animElements[i].setAttribute('data-bm-type', renderer);\r\n      }\r\n      registerAnimation(animElements[i], animationData);\r\n    }\r\n    if (standalone && lenAnims === 0) {\r\n      if (!renderer) {\r\n        renderer = 'svg';\r\n      }\r\n      var body = document.getElementsByTagName('body')[0];\r\n      body.innerText = '';\r\n      var div = createTag('div');\r\n      div.style.width = '100%';\r\n      div.style.height = '100%';\r\n      div.setAttribute('data-bm-type', renderer);\r\n      body.appendChild(div);\r\n      registerAnimation(div, animationData);\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.resize();\r\n    }\r\n  }\r\n\r\n  function activate() {\r\n    if (!_isFrozen && playingAnimationsNum) {\r\n      if (_stopped) {\r\n        window.requestAnimationFrame(first);\r\n        _stopped = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  function freeze() {\r\n    _isFrozen = true;\r\n  }\r\n\r\n  function unfreeze() {\r\n    _isFrozen = false;\r\n    activate();\r\n  }\r\n\r\n  function setVolume(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setVolume(val, animation);\r\n    }\r\n  }\r\n\r\n  function mute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.mute(animation);\r\n    }\r\n  }\r\n\r\n  function unmute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.unmute(animation);\r\n    }\r\n  }\r\n\r\n  moduleOb.registerAnimation = registerAnimation;\r\n  moduleOb.loadAnimation = loadAnimation;\r\n  moduleOb.setSpeed = setSpeed;\r\n  moduleOb.setDirection = setDirection;\r\n  moduleOb.play = play;\r\n  moduleOb.pause = pause;\r\n  moduleOb.stop = stop;\r\n  moduleOb.togglePause = togglePause;\r\n  moduleOb.searchAnimations = searchAnimations;\r\n  moduleOb.resize = resize;\r\n  // moduleOb.start = start;\r\n  moduleOb.goToAndStop = goToAndStop;\r\n  moduleOb.destroy = destroy;\r\n  moduleOb.freeze = freeze;\r\n  moduleOb.unfreeze = unfreeze;\r\n  moduleOb.setVolume = setVolume;\r\n  moduleOb.mute = mute;\r\n  moduleOb.unmute = unmute;\r\n  moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n  return moduleOb;\r\n}());\r\n\r\n/* global createElementID, subframeEnabled, ProjectInterface, ImagePreloader, audioControllerFactory, extendPrototype, BaseEvent,\r\nCanvasRenderer, SVGRenderer, HybridRenderer, dataManager, expressionsPlugin, BMEnterFrameEvent, BMCompleteLoopEvent,\r\nBMCompleteEvent, BMSegmentStartEvent, BMDestroyEvent, BMEnterFrameEvent, BMCompleteLoopEvent, BMCompleteEvent, BMSegmentStartEvent,\r\nBMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, markerParser */\r\n\r\nvar AnimationItem = function () {\r\n  this._cbs = [];\r\n  this.name = '';\r\n  this.path = '';\r\n  this.isLoaded = false;\r\n  this.currentFrame = 0;\r\n  this.currentRawFrame = 0;\r\n  this.firstFrame = 0;\r\n  this.totalFrames = 0;\r\n  this.frameRate = 0;\r\n  this.frameMult = 0;\r\n  this.playSpeed = 1;\r\n  this.playDirection = 1;\r\n  this.playCount = 0;\r\n  this.animationData = {};\r\n  this.assets = [];\r\n  this.isPaused = true;\r\n  this.autoplay = false;\r\n  this.loop = true;\r\n  this.renderer = null;\r\n  this.animationID = createElementID();\r\n  this.assetsPath = '';\r\n  this.timeCompleted = 0;\r\n  this.segmentPos = 0;\r\n  this.isSubframeEnabled = subframeEnabled;\r\n  this.segments = [];\r\n  this._idle = true;\r\n  this._completedLoop = false;\r\n  this.projectInterface = ProjectInterface();\r\n  this.imagePreloader = new ImagePreloader();\r\n  this.audioController = audioControllerFactory();\r\n  this.markers = [];\r\n  this.configAnimation = this.configAnimation.bind(this);\r\n  this.onSetupError = this.onSetupError.bind(this);\r\n  this.onSegmentComplete = this.onSegmentComplete.bind(this);\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function (params) {\r\n  if (params.wrapper || params.container) {\r\n    this.wrapper = params.wrapper || params.container;\r\n  }\r\n  var animType = 'svg';\r\n  if (params.animType) {\r\n    animType = params.animType;\r\n  } else if (params.renderer) {\r\n    animType = params.renderer;\r\n  }\r\n  switch (animType) {\r\n    case 'canvas':\r\n      this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n      break;\r\n    case 'svg':\r\n      this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n      break;\r\n    default:\r\n      this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n      break;\r\n  }\r\n  this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\r\n  this.renderer.setProjectInterface(this.projectInterface);\r\n  this.animType = animType;\r\n  if (params.loop === ''\r\n        || params.loop === null\r\n        || params.loop === undefined\r\n        || params.loop === true) {\r\n    this.loop = true;\r\n  } else if (params.loop === false) {\r\n    this.loop = false;\r\n  } else {\r\n    this.loop = parseInt(params.loop, 10);\r\n  }\r\n  this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n  this.name = params.name ? params.name : '';\r\n  this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\r\n  this.assetsPath = params.assetsPath;\r\n  this.initialSegment = params.initialSegment;\r\n  if (params.audioFactory) {\r\n    this.audioController.setAudioFactory(params.audioFactory);\r\n  }\r\n  if (params.animationData) {\r\n    this.setupAnimation(params.animationData);\r\n  } else if (params.path) {\r\n    if (params.path.lastIndexOf('\\\\') !== -1) {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\r\n    } else {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\r\n    }\r\n    this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\r\n    this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\r\n    dataManager.loadAnimation(\r\n      params.path,\r\n      this.configAnimation,\r\n      this.onSetupError\r\n    );\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.onSetupError = function () {\r\n  this.trigger('data_failed');\r\n};\r\n\r\nAnimationItem.prototype.setupAnimation = function (data) {\r\n  dataManager.completeAnimation(\r\n    data,\r\n    this.configAnimation\r\n  );\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n  if (animationData) {\r\n    if (typeof animationData !== 'object') {\r\n      animationData = JSON.parse(animationData);\r\n    }\r\n  }\r\n  var params = {\r\n    wrapper: wrapper,\r\n    animationData: animationData,\r\n  };\r\n  var wrapperAttributes = wrapper.attributes;\r\n\r\n  params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-animation-path').value\r\n    : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-path').value\r\n      : wrapperAttributes.getNamedItem('bm-path')\r\n        ? wrapperAttributes.getNamedItem('bm-path').value\r\n        : '';\r\n  params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-type').value\r\n    : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-type').value\r\n      : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\r\n        ? wrapperAttributes.getNamedItem('bm-type').value\r\n        : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\r\n          ? wrapperAttributes.getNamedItem('data-bm-renderer').value\r\n          : wrapperAttributes.getNamedItem('bm-renderer')\r\n            ? wrapperAttributes.getNamedItem('bm-renderer').value\r\n            : 'canvas';\r\n\r\n  var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value\r\n    : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-loop').value\r\n      : wrapperAttributes.getNamedItem('bm-loop')\r\n        ? wrapperAttributes.getNamedItem('bm-loop').value\r\n        : '';\r\n  if (loop === 'false') {\r\n    params.loop = false;\r\n  } else if (loop === 'true') {\r\n    params.loop = true;\r\n  } else if (loop !== '') {\r\n    params.loop = parseInt(loop, 10);\r\n  }\r\n  var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value\r\n    : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-autoplay').value\r\n      : wrapperAttributes.getNamedItem('bm-autoplay')\r\n        ? wrapperAttributes.getNamedItem('bm-autoplay').value\r\n        : true;\r\n  params.autoplay = autoplay !== 'false';\r\n\r\n  params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-name').value\r\n    : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-name').value\r\n      : wrapperAttributes.getNamedItem('bm-name')\r\n        ? wrapperAttributes.getNamedItem('bm-name').value\r\n        : '';\r\n  var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value\r\n    : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-prerender').value\r\n      : wrapperAttributes.getNamedItem('bm-prerender')\r\n        ? wrapperAttributes.getNamedItem('bm-prerender').value\r\n        : '';\r\n\r\n  if (prerender === 'false') {\r\n    params.prerender = false;\r\n  }\r\n  this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function (data) {\r\n  if (data.op > this.animationData.op) {\r\n    this.animationData.op = data.op;\r\n    this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n  }\r\n  var layers = this.animationData.layers;\r\n  var i;\r\n  var len = layers.length;\r\n  var newLayers = data.layers;\r\n  var j;\r\n  var jLen = newLayers.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    i = 0;\r\n    while (i < len) {\r\n      if (layers[i].id === newLayers[j].id) {\r\n        layers[i] = newLayers[j];\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n  if (data.chars || data.fonts) {\r\n    this.renderer.globalData.fontManager.addChars(data.chars);\r\n    this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n  }\r\n  if (data.assets) {\r\n    len = data.assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.animationData.assets.push(data.assets[i]);\r\n    }\r\n  }\r\n  this.animationData.__complete = false;\r\n  dataManager.completeAnimation(\r\n    this.animationData,\r\n    this.onSegmentComplete\r\n  );\r\n};\r\n\r\nAnimationItem.prototype.onSegmentComplete = function (data) {\r\n  this.animationData = data;\r\n  if (expressionsPlugin) {\r\n    expressionsPlugin.initExpressions(this);\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments || segments.length === 0 || !this.autoloadSegments) {\r\n    this.trigger('data_ready');\r\n    this.timeCompleted = this.totalFrames;\r\n    return;\r\n  }\r\n  var segment = segments.shift();\r\n  this.timeCompleted = segment.time * this.frameRate;\r\n  var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\r\n  this.segmentPos += 1;\r\n  dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\r\n    this.trigger('data_failed');\r\n  }.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments) {\r\n    this.timeCompleted = this.totalFrames;\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.imagesLoaded = function () {\r\n  this.trigger('loaded_images');\r\n  this.checkLoaded();\r\n};\r\n\r\nAnimationItem.prototype.preloadImages = function () {\r\n  this.imagePreloader.setAssetsPath(this.assetsPath);\r\n  this.imagePreloader.setPath(this.path);\r\n  this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.animationData = animData;\r\n    if (this.initialSegment) {\r\n      this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n      this.firstFrame = Math.round(this.initialSegment[0]);\r\n    } else {\r\n      this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n      this.firstFrame = Math.round(this.animationData.ip);\r\n    }\r\n    this.renderer.configAnimation(animData);\r\n    if (!animData.assets) {\r\n      animData.assets = [];\r\n    }\r\n\r\n    this.assets = this.animationData.assets;\r\n    this.frameRate = this.animationData.fr;\r\n    this.frameMult = this.animationData.fr / 1000;\r\n    this.renderer.searchExtraCompositions(animData.assets);\r\n    this.markers = markerParser(animData.markers || []);\r\n    this.trigger('config_ready');\r\n    this.preloadImages();\r\n    this.loadSegments();\r\n    this.updaFrameModifier();\r\n    this.waitForFontsLoaded();\r\n    if (this.isPaused) {\r\n      this.audioController.pause();\r\n    }\r\n  } catch (error) {\r\n    this.triggerConfigError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = function () {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  if (this.renderer.globalData.fontManager.isLoaded) {\r\n    this.checkLoaded();\r\n  } else {\r\n    setTimeout(this.waitForFontsLoaded.bind(this), 20);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n  if (!this.isLoaded\r\n        && this.renderer.globalData.fontManager.isLoaded\r\n        && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas')\r\n        && (this.imagePreloader.loadedFootages())\r\n  ) {\r\n    this.isLoaded = true;\r\n    if (expressionsPlugin) {\r\n      expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.renderer.initItems();\r\n    setTimeout(function () {\r\n      this.trigger('DOMLoaded');\r\n    }.bind(this), 0);\r\n    this.gotoFrame();\r\n    if (this.autoplay) {\r\n      this.play();\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n  this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function (flag) {\r\n  this.isSubframeEnabled = !!flag;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n  this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\r\n\r\n  if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\r\n    this.currentFrame = this.timeCompleted;\r\n  }\r\n  this.trigger('enterFrame');\r\n  this.renderFrame();\r\n  this.trigger('drawnFrame');\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n  if (this.isLoaded === false || !this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n  } catch (error) {\r\n    this.triggerRenderFrameError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.isPaused = false;\r\n    this.audioController.resume();\r\n    if (this._idle) {\r\n      this._idle = false;\r\n      this.trigger('_active');\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === false) {\r\n    this.isPaused = true;\r\n    this._idle = true;\r\n    this.trigger('_idle');\r\n    this.audioController.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.play();\r\n  } else {\r\n    this.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.pause();\r\n  this.playCount = 0;\r\n  this._completedLoop = false;\r\n  this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.getMarkerData = function (markerName) {\r\n  var marker;\r\n  for (var i = 0; i < this.markers.length; i += 1) {\r\n    marker = this.markers[i];\r\n    if (marker.payload && marker.payload.name === markerName) {\r\n      return marker;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      this.goToAndStop(marker.time, true);\r\n    }\r\n  } else if (isFrame) {\r\n    this.setCurrentRawFrameValue(value);\r\n  } else {\r\n    this.setCurrentRawFrameValue(value * this.frameModifier);\r\n  }\r\n  this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      if (!marker.duration) {\r\n        this.goToAndStop(marker.time, true);\r\n      } else {\r\n        this.playSegments([marker.time, marker.time + marker.duration], true);\r\n      }\r\n    }\r\n  } else {\r\n    this.goToAndStop(numValue, isFrame, name);\r\n  }\r\n  this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n  if (this.isPaused === true || this.isLoaded === false) {\r\n    return;\r\n  }\r\n  var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n  var _isComplete = false;\r\n  // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n  // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n  if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n    if (!this.loop || this.playCount === this.loop) {\r\n      if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n        _isComplete = true;\r\n        nextValue = this.totalFrames - 1;\r\n      }\r\n    } else if (nextValue >= this.totalFrames) {\r\n      this.playCount += 1;\r\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n        this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n        this._completedLoop = true;\r\n        this.trigger('loopComplete');\r\n      }\r\n    } else {\r\n      this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n  } else if (nextValue < 0) {\r\n    if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n      if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) { // eslint-disable-line no-plusplus\r\n        this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n        if (!this._completedLoop) {\r\n          this._completedLoop = true;\r\n        } else {\r\n          this.trigger('loopComplete');\r\n        }\r\n      } else {\r\n        _isComplete = true;\r\n        nextValue = 0;\r\n      }\r\n    }\r\n  } else {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n  }\r\n  if (_isComplete) {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n    this.pause();\r\n    this.trigger('complete');\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function (arr, offset) {\r\n  this.playCount = 0;\r\n  if (arr[1] < arr[0]) {\r\n    if (this.frameModifier > 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(-1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[0] - arr[1];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[1];\r\n    this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n  } else if (arr[1] > arr[0]) {\r\n    if (this.frameModifier < 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[1] - arr[0];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[0];\r\n    this.setCurrentRawFrameValue(0.001 + offset);\r\n  }\r\n  this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init, end) {\r\n  var pendingFrame = -1;\r\n  if (this.isPaused) {\r\n    if (this.currentRawFrame + this.firstFrame < init) {\r\n      pendingFrame = init;\r\n    } else if (this.currentRawFrame + this.firstFrame > end) {\r\n      pendingFrame = end - init;\r\n    }\r\n  }\r\n\r\n  this.firstFrame = init;\r\n  this.totalFrames = end - init;\r\n  this.timeCompleted = this.totalFrames;\r\n  if (pendingFrame !== -1) {\r\n    this.goToAndStop(pendingFrame, true);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n  if (forceFlag) {\r\n    this.segments.length = 0;\r\n  }\r\n  if (typeof arr[0] === 'object') {\r\n    var i;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.segments.push(arr[i]);\r\n    }\r\n  } else {\r\n    this.segments.push(arr);\r\n  }\r\n  if (this.segments.length && forceFlag) {\r\n    this.adjustSegment(this.segments.shift(), 0);\r\n  }\r\n  if (this.isPaused) {\r\n    this.play();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n  this.segments.length = 0;\r\n  this.segments.push([this.animationData.ip, this.animationData.op]);\r\n  if (forceFlag) {\r\n    this.checkSegments(0);\r\n  }\r\n};\r\nAnimationItem.prototype.checkSegments = function (offset) {\r\n  if (this.segments.length) {\r\n    this.adjustSegment(this.segments.shift(), offset);\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n  if ((name && this.name !== name) || !this.renderer) {\r\n    return;\r\n  }\r\n  this.renderer.destroy();\r\n  this.imagePreloader.destroy();\r\n  this.trigger('destroy');\r\n  this._cbs = null;\r\n  this.onEnterFrame = null;\r\n  this.onLoopComplete = null;\r\n  this.onComplete = null;\r\n  this.onSegmentStart = null;\r\n  this.onDestroy = null;\r\n  this.renderer = null;\r\n  this.renderer = null;\r\n  this.imagePreloader = null;\r\n  this.projectInterface = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function (value) {\r\n  this.currentRawFrame = value;\r\n  this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n  this.playSpeed = val;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n  this.playDirection = val < 0 ? -1 : 1;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setVolume = function (val, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.setVolume(val);\r\n};\r\n\r\nAnimationItem.prototype.getVolume = function () {\r\n  return this.audioController.getVolume();\r\n};\r\n\r\nAnimationItem.prototype.mute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.mute();\r\n};\r\n\r\nAnimationItem.prototype.unmute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.unmute();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n  this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n  this.audioController.setRate(this.playSpeed * this.playDirection);\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n  return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n  var path = '';\r\n  if (assetData.e) {\r\n    path = assetData.p;\r\n  } else if (this.assetsPath) {\r\n    var imagePath = assetData.p;\r\n    if (imagePath.indexOf('images/') !== -1) {\r\n      imagePath = imagePath.split('/')[1];\r\n    }\r\n    path = this.assetsPath + imagePath;\r\n  } else {\r\n    path = this.path;\r\n    path += assetData.u ? assetData.u : '';\r\n    path += assetData.p;\r\n  }\r\n  return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n  var i = 0;\r\n  var len = this.assets.length;\r\n  while (i < len) {\r\n    if (id === this.assets[i].id) {\r\n      return this.assets[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n  this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n  this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getDuration = function (isFrame) {\r\n  return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function (name) {\r\n  if (this._cbs && this._cbs[name]) {\r\n    switch (name) {\r\n      case 'enterFrame':\r\n      case 'drawnFrame':\r\n        this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\r\n        break;\r\n      case 'loopComplete':\r\n        this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n        break;\r\n      case 'complete':\r\n        this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\r\n        break;\r\n      case 'segmentStart':\r\n        this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n        break;\r\n      case 'destroy':\r\n        this.triggerEvent(name, new BMDestroyEvent(name, this));\r\n        break;\r\n      default:\r\n        this.triggerEvent(name);\r\n    }\r\n  }\r\n  if (name === 'enterFrame' && this.onEnterFrame) {\r\n    this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\r\n  }\r\n  if (name === 'loopComplete' && this.onLoopComplete) {\r\n    this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n  }\r\n  if (name === 'complete' && this.onComplete) {\r\n    this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\r\n  }\r\n  if (name === 'segmentStart' && this.onSegmentStart) {\r\n    this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n  }\r\n  if (name === 'destroy' && this.onDestroy) {\r\n    this.onDestroy.call(this, new BMDestroyEvent(name, this));\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\r\n  var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerConfigError = function (nativeError) {\r\n  var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\n/* global CompExpressionInterface, expressionsPlugin: writable */\r\n/* exported expressionsPlugin */\r\n\r\nvar Expressions = (function () {\r\n  var ob = {};\r\n  ob.initExpressions = initExpressions;\r\n\r\n  function initExpressions(animation) {\r\n    var stackCount = 0;\r\n    var registers = [];\r\n\r\n    function pushExpression() {\r\n      stackCount += 1;\r\n    }\r\n\r\n    function popExpression() {\r\n      stackCount -= 1;\r\n      if (stackCount === 0) {\r\n        releaseInstances();\r\n      }\r\n    }\r\n\r\n    function registerExpressionProperty(expression) {\r\n      if (registers.indexOf(expression) === -1) {\r\n        registers.push(expression);\r\n      }\r\n    }\r\n\r\n    function releaseInstances() {\r\n      var i;\r\n      var len = registers.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        registers[i].release();\r\n      }\r\n      registers.length = 0;\r\n    }\r\n\r\n    animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n    animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n    animation.renderer.globalData.pushExpression = pushExpression;\r\n    animation.renderer.globalData.popExpression = popExpression;\r\n    animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\r\n  }\r\n  return ob;\r\n}());\r\n\r\nexpressionsPlugin = Expressions;\r\n\r\n/* eslint-disable camelcase, no-unused-vars */\r\n/* global BMMath, BezierFactory, createTypedArray, degToRads, shapePool */\r\n\r\nvar ExpressionManager = (function () {\r\n  'use strict';\r\n\r\n  var ob = {};\r\n  var Math = BMMath;\r\n  var window = null;\r\n  var document = null;\r\n  var XMLHttpRequest = null;\r\n  var fetch = null;\r\n  var frames = null;\r\n\r\n  function $bm_isInstanceOfArray(arr) {\r\n    return arr.constructor === Array || arr.constructor === Float32Array;\r\n  }\r\n\r\n  function isNumerable(tOfV, v) {\r\n    return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\r\n  }\r\n\r\n  function $bm_neg(a) {\r\n    var tOfA = typeof a;\r\n    if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\r\n      return -a;\r\n    }\r\n    if ($bm_isInstanceOfArray(a)) {\r\n      var i;\r\n      var lenA = a.length;\r\n      var retArr = [];\r\n      for (i = 0; i < lenA; i += 1) {\r\n        retArr[i] = -a[i];\r\n      }\r\n      return retArr;\r\n    }\r\n    if (a.propType) {\r\n      return a.v;\r\n    }\r\n    return -a;\r\n  }\r\n\r\n  var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\r\n  var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\r\n  var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\r\n\r\n  function sum(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    if (tOfA === 'string' || tOfB === 'string') {\r\n      return a + b;\r\n    }\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a + b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      a = a.slice(0);\r\n      a[0] += b;\r\n      return a;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      b = b.slice(0);\r\n      b[0] = a + b[0];\r\n      return b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n      var i = 0;\r\n      var lenA = a.length;\r\n      var lenB = b.length;\r\n      var retArr = [];\r\n      while (i < lenA || i < lenB) {\r\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n          retArr[i] = a[i] + b[i];\r\n        } else {\r\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return retArr;\r\n    }\r\n    return 0;\r\n  }\r\n  var add = sum;\r\n\r\n  function sub(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      if (tOfA === 'string') {\r\n        a = parseInt(a, 10);\r\n      }\r\n      if (tOfB === 'string') {\r\n        b = parseInt(b, 10);\r\n      }\r\n      return a - b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      a = a.slice(0);\r\n      a[0] -= b;\r\n      return a;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      b = b.slice(0);\r\n      b[0] = a - b[0];\r\n      return b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n      var i = 0;\r\n      var lenA = a.length;\r\n      var lenB = b.length;\r\n      var retArr = [];\r\n      while (i < lenA || i < lenB) {\r\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n          retArr[i] = a[i] - b[i];\r\n        } else {\r\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return retArr;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function mul(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    var arr;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a * b;\r\n    }\r\n\r\n    var i;\r\n    var len;\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      len = a.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a[i] * b;\r\n      }\r\n      return arr;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      len = b.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a * b[i];\r\n      }\r\n      return arr;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function div(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    var arr;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a / b;\r\n    }\r\n    var i;\r\n    var len;\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      len = a.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a[i] / b;\r\n      }\r\n      return arr;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      len = b.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a / b[i];\r\n      }\r\n      return arr;\r\n    }\r\n    return 0;\r\n  }\r\n  function mod(a, b) {\r\n    if (typeof a === 'string') {\r\n      a = parseInt(a, 10);\r\n    }\r\n    if (typeof b === 'string') {\r\n      b = parseInt(b, 10);\r\n    }\r\n    return a % b;\r\n  }\r\n  var $bm_sum = sum;\r\n  var $bm_sub = sub;\r\n  var $bm_mul = mul;\r\n  var $bm_div = div;\r\n  var $bm_mod = mod;\r\n\r\n  function clamp(num, min, max) {\r\n    if (min > max) {\r\n      var mm = max;\r\n      max = min;\r\n      min = mm;\r\n    }\r\n    return Math.min(Math.max(num, min), max);\r\n  }\r\n\r\n  function radiansToDegrees(val) {\r\n    return val / degToRads;\r\n  }\r\n  var radians_to_degrees = radiansToDegrees;\r\n\r\n  function degreesToRadians(val) {\r\n    return val * degToRads;\r\n  }\r\n  var degrees_to_radians = radiansToDegrees;\r\n\r\n  var helperLengthArray = [0, 0, 0, 0, 0, 0];\r\n\r\n  function length(arr1, arr2) {\r\n    if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n      arr2 = arr2 || 0;\r\n      return Math.abs(arr1 - arr2);\r\n    }\r\n    if (!arr2) {\r\n      arr2 = helperLengthArray;\r\n    }\r\n    var i;\r\n    var len = Math.min(arr1.length, arr2.length);\r\n    var addedLength = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n    }\r\n    return Math.sqrt(addedLength);\r\n  }\r\n\r\n  function normalize(vec) {\r\n    return div(vec, length(vec));\r\n  }\r\n\r\n  function rgbToHsl(val) {\r\n    var r = val[0]; var g = val[1]; var b = val[2];\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var h;\r\n    var s;\r\n    var l = (max + min) / 2;\r\n\r\n    if (max === min) {\r\n      h = 0; // achromatic\r\n      s = 0; // achromatic\r\n    } else {\r\n      var d = max - min;\r\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n      switch (max) {\r\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n        case g: h = (b - r) / d + 2; break;\r\n        case b: h = (r - g) / d + 4; break;\r\n        default: break;\r\n      }\r\n      h /= 6;\r\n    }\r\n\r\n    return [h, s, l, val[3]];\r\n  }\r\n\r\n  function hue2rgb(p, q, t) {\r\n    if (t < 0) t += 1;\r\n    if (t > 1) t -= 1;\r\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\r\n    if (t < 1 / 2) return q;\r\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n    return p;\r\n  }\r\n\r\n  function hslToRgb(val) {\r\n    var h = val[0];\r\n    var s = val[1];\r\n    var l = val[2];\r\n\r\n    var r;\r\n    var g;\r\n    var b;\r\n\r\n    if (s === 0) {\r\n      r = l; // achromatic\r\n      b = l; // achromatic\r\n      g = l; // achromatic\r\n    } else {\r\n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n      var p = 2 * l - q;\r\n      r = hue2rgb(p, q, h + 1 / 3);\r\n      g = hue2rgb(p, q, h);\r\n      b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n\r\n    return [r, g, b, val[3]];\r\n  }\r\n\r\n  function linear(t, tMin, tMax, value1, value2) {\r\n    if (value1 === undefined || value2 === undefined) {\r\n      value1 = tMin;\r\n      value2 = tMax;\r\n      tMin = 0;\r\n      tMax = 1;\r\n    }\r\n    if (tMax < tMin) {\r\n      var _tMin = tMax;\r\n      tMax = tMin;\r\n      tMin = _tMin;\r\n    }\r\n    if (t <= tMin) {\r\n      return value1;\r\n    } if (t >= tMax) {\r\n      return value2;\r\n    }\r\n    var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\r\n    if (!value1.length) {\r\n      return value1 + (value2 - value1) * perc;\r\n    }\r\n    var i;\r\n    var len = value1.length;\r\n    var arr = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\r\n    }\r\n    return arr;\r\n  }\r\n  function random(min, max) {\r\n    if (max === undefined) {\r\n      if (min === undefined) {\r\n        min = 0;\r\n        max = 1;\r\n      } else {\r\n        max = min;\r\n        min = undefined;\r\n      }\r\n    }\r\n    if (max.length) {\r\n      var i;\r\n      var len = max.length;\r\n      if (!min) {\r\n        min = createTypedArray('float32', len);\r\n      }\r\n      var arr = createTypedArray('float32', len);\r\n      var rnd = BMMath.random();\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = min[i] + rnd * (max[i] - min[i]);\r\n      }\r\n      return arr;\r\n    }\r\n    if (min === undefined) {\r\n      min = 0;\r\n    }\r\n    var rndm = BMMath.random();\r\n    return min + rndm * (max - min);\r\n  }\r\n\r\n  function createPath(points, inTangents, outTangents, closed) {\r\n    var i;\r\n    var len = points.length;\r\n    var path = shapePool.newElement();\r\n    path.setPathData(!!closed, len);\r\n    var arrPlaceholder = [0, 0];\r\n    var inVertexPoint;\r\n    var outVertexPoint;\r\n    for (i = 0; i < len; i += 1) {\r\n      inVertexPoint = (inTangents && inTangents[i]) ? inTangents[i] : arrPlaceholder;\r\n      outVertexPoint = (outTangents && outTangents[i]) ? outTangents[i] : arrPlaceholder;\r\n      path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function initiateExpression(elem, data, property) {\r\n    var val = data.x;\r\n    var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n    var _needsRandom = val.indexOf('random') !== -1;\r\n    var elemType = elem.data.ty;\r\n    var transform;\r\n    var $bm_transform;\r\n    var content;\r\n    var effect;\r\n    var thisProperty = property;\r\n    thisProperty.valueAtTime = thisProperty.getValueAtTime;\r\n    Object.defineProperty(thisProperty, 'value', {\r\n      get: function () {\r\n        return thisProperty.v;\r\n      },\r\n    });\r\n    elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\r\n    elem.comp.displayStartTime = 0;\r\n    var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n    var outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n    var width = elem.data.sw ? elem.data.sw : 0;\r\n    var height = elem.data.sh ? elem.data.sh : 0;\r\n    var name = elem.data.nm;\r\n    var loopIn;\r\n    var loop_in;\r\n    var loopOut;\r\n    var loop_out;\r\n    var smooth;\r\n    var toWorld;\r\n    var fromWorld;\r\n    var fromComp;\r\n    var toComp;\r\n    var fromCompToSurface;\r\n    var position;\r\n    var rotation;\r\n    var anchorPoint;\r\n    var scale;\r\n    var thisLayer;\r\n    var thisComp;\r\n    var mask;\r\n    var valueAtTime;\r\n    var velocityAtTime;\r\n\r\n    var scoped_bm_rt;\r\n    // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\r\n    var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\r\n    var numKeys = property.kf ? data.k.length : 0;\r\n\r\n    var active = !this.data || this.data.hd !== true;\r\n\r\n    var wiggle = function wiggle(freq, amp) {\r\n      var iWiggle;\r\n      var j;\r\n      var lenWiggle = this.pv.length ? this.pv.length : 1;\r\n      var addedAmps = createTypedArray('float32', lenWiggle);\r\n      freq = 5;\r\n      var iterations = Math.floor(time * freq);\r\n      iWiggle = 0;\r\n      j = 0;\r\n      while (iWiggle < iterations) {\r\n        // var rnd = BMMath.random();\r\n        for (j = 0; j < lenWiggle; j += 1) {\r\n          addedAmps[j] += -amp + amp * 2 * BMMath.random();\r\n          // addedAmps[j] += -amp + amp*2*rnd;\r\n        }\r\n        iWiggle += 1;\r\n      }\r\n      // var rnd2 = BMMath.random();\r\n      var periods = time * freq;\r\n      var perc = periods - Math.floor(periods);\r\n      var arr = createTypedArray('float32', lenWiggle);\r\n      if (lenWiggle > 1) {\r\n        for (j = 0; j < lenWiggle; j += 1) {\r\n          arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n          // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n          // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n        }\r\n        return arr;\r\n      }\r\n      return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n    }.bind(this);\r\n\r\n    if (thisProperty.loopIn) {\r\n      loopIn = thisProperty.loopIn.bind(thisProperty);\r\n      loop_in = loopIn;\r\n    }\r\n\r\n    if (thisProperty.loopOut) {\r\n      loopOut = thisProperty.loopOut.bind(thisProperty);\r\n      loop_out = loopOut;\r\n    }\r\n\r\n    if (thisProperty.smooth) {\r\n      smooth = thisProperty.smooth.bind(thisProperty);\r\n    }\r\n\r\n    function loopInDuration(type, duration) {\r\n      return loopIn(type, duration, true);\r\n    }\r\n\r\n    function loopOutDuration(type, duration) {\r\n      return loopOut(type, duration, true);\r\n    }\r\n\r\n    if (this.getValueAtTime) {\r\n      valueAtTime = this.getValueAtTime.bind(this);\r\n    }\r\n\r\n    if (this.getVelocityAtTime) {\r\n      velocityAtTime = this.getVelocityAtTime.bind(this);\r\n    }\r\n\r\n    var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n    function lookAt(elem1, elem2) {\r\n      var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\r\n      var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\r\n      var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\r\n      return [yaw, pitch, 0];\r\n    }\r\n\r\n    function easeOut(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function easeIn(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeInBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function ease(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function applyEase(fn, t, tMin, tMax, val1, val2) {\r\n      if (val1 === undefined) {\r\n        val1 = tMin;\r\n        val2 = tMax;\r\n      } else {\r\n        t = (t - tMin) / (tMax - tMin);\r\n      }\r\n      if (t > 1) {\r\n        t = 1;\r\n      } else if (t < 0) {\r\n        t = 0;\r\n      }\r\n      var mult = fn(t);\r\n      if ($bm_isInstanceOfArray(val1)) {\r\n        var iKey;\r\n        var lenKey = val1.length;\r\n        var arr = createTypedArray('float32', lenKey);\r\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n          arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\r\n        }\r\n        return arr;\r\n      }\r\n      return (val2 - val1) * mult + val1;\r\n    }\r\n\r\n    function nearestKey(time) {\r\n      var iKey;\r\n      var lenKey = data.k.length;\r\n      var index;\r\n      var keyTime;\r\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\r\n        index = 0;\r\n        keyTime = 0;\r\n      } else {\r\n        index = -1;\r\n        time *= elem.comp.globalData.frameRate;\r\n        if (time < data.k[0].t) {\r\n          index = 1;\r\n          keyTime = data.k[0].t;\r\n        } else {\r\n          for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\r\n            if (time === data.k[iKey].t) {\r\n              index = iKey + 1;\r\n              keyTime = data.k[iKey].t;\r\n              break;\r\n            } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\r\n              if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\r\n                index = iKey + 2;\r\n                keyTime = data.k[iKey + 1].t;\r\n              } else {\r\n                index = iKey + 1;\r\n                keyTime = data.k[iKey].t;\r\n              }\r\n              break;\r\n            }\r\n          }\r\n          if (index === -1) {\r\n            index = iKey + 1;\r\n            keyTime = data.k[iKey].t;\r\n          }\r\n        }\r\n      }\r\n      var obKey = {};\r\n      obKey.index = index;\r\n      obKey.time = keyTime / elem.comp.globalData.frameRate;\r\n      return obKey;\r\n    }\r\n\r\n    function key(ind) {\r\n      var obKey;\r\n      var iKey;\r\n      var lenKey;\r\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\r\n        throw new Error('The property has no keyframe at index ' + ind);\r\n      }\r\n      ind -= 1;\r\n      obKey = {\r\n        time: data.k[ind].t / elem.comp.globalData.frameRate,\r\n        value: [],\r\n      };\r\n      var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\r\n\r\n      lenKey = arr.length;\r\n      for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n        obKey[iKey] = arr[iKey];\r\n        obKey.value[iKey] = arr[iKey];\r\n      }\r\n      return obKey;\r\n    }\r\n\r\n    function framesToTime(fr, fps) {\r\n      if (!fps) {\r\n        fps = elem.comp.globalData.frameRate;\r\n      }\r\n      return fr / fps;\r\n    }\r\n\r\n    function timeToFrames(t, fps) {\r\n      if (!t && t !== 0) {\r\n        t = time;\r\n      }\r\n      if (!fps) {\r\n        fps = elem.comp.globalData.frameRate;\r\n      }\r\n      return t * fps;\r\n    }\r\n\r\n    function seedRandom(seed) {\r\n      BMMath.seedrandom(randSeed + seed);\r\n    }\r\n\r\n    function sourceRectAtTime() {\r\n      return elem.sourceRectAtTime();\r\n    }\r\n\r\n    function substring(init, end) {\r\n      if (typeof value === 'string') {\r\n        if (end === undefined) {\r\n          return value.substring(init);\r\n        }\r\n        return value.substring(init, end);\r\n      }\r\n      return '';\r\n    }\r\n\r\n    function substr(init, end) {\r\n      if (typeof value === 'string') {\r\n        if (end === undefined) {\r\n          return value.substr(init);\r\n        }\r\n        return value.substr(init, end);\r\n      }\r\n      return '';\r\n    }\r\n\r\n    function posterizeTime(framesPerSecond) {\r\n      time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\r\n      value = valueAtTime(time);\r\n    }\r\n\r\n    var time;\r\n    var velocity;\r\n    var value;\r\n    var text;\r\n    var textIndex;\r\n    var textTotal;\r\n    var selectorValue;\r\n    var index = elem.data.ind;\r\n    var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n    var parent;\r\n    var randSeed = Math.floor(Math.random() * 1000000);\r\n    var globalData = elem.globalData;\r\n    function executeExpression(_value) {\r\n      // globalData.pushExpression();\r\n      value = _value;\r\n      if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n        return value;\r\n      }\r\n      if (this.propType === 'textSelector') {\r\n        textIndex = this.textIndex;\r\n        textTotal = this.textTotal;\r\n        selectorValue = this.selectorValue;\r\n      }\r\n      if (!thisLayer) {\r\n        text = elem.layerInterface.text;\r\n        thisLayer = elem.layerInterface;\r\n        thisComp = elem.comp.compInterface;\r\n        toWorld = thisLayer.toWorld.bind(thisLayer);\r\n        fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n        fromComp = thisLayer.fromComp.bind(thisLayer);\r\n        toComp = thisLayer.toComp.bind(thisLayer);\r\n        mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n        fromCompToSurface = fromComp;\r\n      }\r\n      if (!transform) {\r\n        transform = elem.layerInterface('ADBE Transform Group');\r\n        $bm_transform = transform;\r\n        if (transform) {\r\n          anchorPoint = transform.anchorPoint;\r\n          /* position = transform.position;\r\n                    rotation = transform.rotation;\r\n                    scale = transform.scale; */\r\n        }\r\n      }\r\n\r\n      if (elemType === 4 && !content) {\r\n        content = thisLayer('ADBE Root Vectors Group');\r\n      }\r\n      if (!effect) {\r\n        effect = thisLayer(4);\r\n      }\r\n      hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n      if (hasParent && !parent) {\r\n        parent = elem.hierarchy[0].layerInterface;\r\n      }\r\n      time = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n      if (_needsRandom) {\r\n        seedRandom(randSeed + time);\r\n      }\r\n      if (needsVelocity) {\r\n        velocity = velocityAtTime(time);\r\n      }\r\n      expression_function();\r\n      this.frameExpressionId = elem.globalData.frameId;\r\n\r\n      // TODO: Check if it's possible to return on ShapeInterface the .v value\r\n      if (scoped_bm_rt.propType === 'shape') {\r\n        scoped_bm_rt = scoped_bm_rt.v;\r\n      }\r\n      // globalData.popExpression();\r\n      return scoped_bm_rt;\r\n    }\r\n    return executeExpression;\r\n  }\r\n\r\n  ob.initiateExpression = initiateExpression;\r\n  return ob;\r\n}());\r\n\r\n/* global ExpressionManager, createTypedArray */\r\n/* exported expressionHelpers */\r\n\r\nvar expressionHelpers = (function () {\r\n  function searchExpressions(elem, data, prop) {\r\n    if (data.x) {\r\n      prop.k = true;\r\n      prop.x = true;\r\n      prop.initiateExpression = ExpressionManager.initiateExpression;\r\n      prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\r\n    }\r\n  }\r\n\r\n  function getValueAtTime(frameNum) {\r\n    frameNum *= this.elem.globalData.frameRate;\r\n    frameNum -= this.offsetTime;\r\n    if (frameNum !== this._cachingAtTime.lastFrame) {\r\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n      this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n      this._cachingAtTime.lastFrame = frameNum;\r\n    }\r\n    return this._cachingAtTime.value;\r\n  }\r\n\r\n  function getSpeedAtTime(frameNum) {\r\n    var delta = -0.01;\r\n    var v1 = this.getValueAtTime(frameNum);\r\n    var v2 = this.getValueAtTime(frameNum + delta);\r\n    var speed = 0;\r\n    if (v1.length) {\r\n      var i;\r\n      for (i = 0; i < v1.length; i += 1) {\r\n        speed += Math.pow(v2[i] - v1[i], 2);\r\n      }\r\n      speed = Math.sqrt(speed) * 100;\r\n    } else {\r\n      speed = 0;\r\n    }\r\n    return speed;\r\n  }\r\n\r\n  function getVelocityAtTime(frameNum) {\r\n    if (this.vel !== undefined) {\r\n      return this.vel;\r\n    }\r\n    var delta = -0.001;\r\n    // frameNum += this.elem.data.st;\r\n    var v1 = this.getValueAtTime(frameNum);\r\n    var v2 = this.getValueAtTime(frameNum + delta);\r\n    var velocity;\r\n    if (v1.length) {\r\n      velocity = createTypedArray('float32', v1.length);\r\n      var i;\r\n      for (i = 0; i < v1.length; i += 1) {\r\n        // removing frameRate\r\n        // if needed, don't add it here\r\n        // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n        velocity[i] = (v2[i] - v1[i]) / delta;\r\n      }\r\n    } else {\r\n      velocity = (v2 - v1) / delta;\r\n    }\r\n    return velocity;\r\n  }\r\n\r\n  function getStaticValueAtTime() {\r\n    return this.pv;\r\n  }\r\n\r\n  function setGroupProperty(propertyGroup) {\r\n    this.propertyGroup = propertyGroup;\r\n  }\r\n\r\n  return {\r\n    searchExpressions: searchExpressions,\r\n    getSpeedAtTime: getSpeedAtTime,\r\n    getVelocityAtTime: getVelocityAtTime,\r\n    getValueAtTime: getValueAtTime,\r\n    getStaticValueAtTime: getStaticValueAtTime,\r\n    setGroupProperty: setGroupProperty,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, Matrix, TransformPropertyFactory, expressionHelpers, PropertyFactory, expressionHelpers,\r\ninitialDefaultFrame, shapePool, ShapePropertyFactory, bez, extendPrototype, ExpressionManager, createSizedArray */\r\n\r\n(function addPropertyDecorator() {\r\n  function loopOut(type, duration, durationFlag) {\r\n    if (!this.k || !this.keyframes) {\r\n      return this.pv;\r\n    }\r\n    type = type ? type.toLowerCase() : '';\r\n    var currentFrame = this.comp.renderedFrame;\r\n    var keyframes = this.keyframes;\r\n    var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n    if (currentFrame <= lastKeyFrame) {\r\n      return this.pv;\r\n    }\r\n    var cycleDuration;\r\n    var firstKeyFrame;\r\n    if (!durationFlag) {\r\n      if (!duration || duration > keyframes.length - 1) {\r\n        duration = keyframes.length - 1;\r\n      }\r\n      firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n      cycleDuration = lastKeyFrame - firstKeyFrame;\r\n    } else {\r\n      if (!duration) {\r\n        cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\r\n      } else {\r\n        cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\r\n      }\r\n      firstKeyFrame = lastKeyFrame - cycleDuration;\r\n    }\r\n    var i;\r\n    var len;\r\n    var ret;\r\n    if (type === 'pingpong') {\r\n      var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n      if (iterations % 2 !== 0) {\r\n          return this.getValueAtTime(((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      }\r\n    } else if (type === 'offset') {\r\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n      if (this.pv.length) {\r\n        ret = new Array(initV.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = (endV[i] - initV[i]) * repeats + current[i];\r\n        }\r\n        return ret;\r\n      }\r\n      return (endV - initV) * repeats + current;\r\n    } else if (type === 'continue') {\r\n      var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n      if (this.pv.length) {\r\n        ret = new Array(lastValue.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\r\n        }\r\n        return ret;\r\n      }\r\n      return lastValue + (lastValue - nextLastValue) * (((currentFrame - lastKeyFrame)) / 0.001);\r\n    }\r\n      return this.getValueAtTime((((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n  }\r\n\r\n  function loopIn(type, duration, durationFlag) {\r\n    if (!this.k) {\r\n      return this.pv;\r\n    }\r\n    type = type ? type.toLowerCase() : '';\r\n    var currentFrame = this.comp.renderedFrame;\r\n    var keyframes = this.keyframes;\r\n    var firstKeyFrame = keyframes[0].t;\r\n    if (currentFrame >= firstKeyFrame) {\r\n      return this.pv;\r\n    }\r\n    var cycleDuration;\r\n    var lastKeyFrame;\r\n    if (!durationFlag) {\r\n      if (!duration || duration > keyframes.length - 1) {\r\n        duration = keyframes.length - 1;\r\n      }\r\n      lastKeyFrame = keyframes[duration].t;\r\n      cycleDuration = lastKeyFrame - firstKeyFrame;\r\n    } else {\r\n      if (!duration) {\r\n        cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\r\n      } else {\r\n        cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\r\n      }\r\n      lastKeyFrame = firstKeyFrame + cycleDuration;\r\n    }\r\n    var i;\r\n    var len;\r\n    var ret;\r\n    if (type === 'pingpong') {\r\n      var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\r\n      if (iterations % 2 === 0) {\r\n          return this.getValueAtTime((((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      }\r\n    } else if (type === 'offset') {\r\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var current = this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration) + firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n      var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\r\n      if (this.pv.length) {\r\n        ret = new Array(initV.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\r\n        }\r\n        return ret;\r\n      }\r\n      return current - (endV - initV) * repeats;\r\n    } else if (type === 'continue') {\r\n      var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n      if (this.pv.length) {\r\n        ret = new Array(firstValue.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = firstValue[i] + ((firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame)) / 0.001;\r\n        }\r\n        return ret;\r\n      }\r\n      return firstValue + ((firstValue - nextFirstValue) * (firstKeyFrame - currentFrame)) / 0.001;\r\n    }\r\n      return this.getValueAtTime(((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame))) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n  }\r\n\r\n  function smooth(width, samples) {\r\n    if (!this.k) {\r\n      return this.pv;\r\n    }\r\n    width = (width || 0.4) * 0.5;\r\n    samples = Math.floor(samples || 5);\r\n    if (samples <= 1) {\r\n      return this.pv;\r\n    }\r\n    var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n    var initFrame = currentTime - width;\r\n    var endFrame = currentTime + width;\r\n    var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\r\n    var i = 0;\r\n    var j = 0;\r\n    var value;\r\n    if (this.pv.length) {\r\n      value = createTypedArray('float32', this.pv.length);\r\n    } else {\r\n      value = 0;\r\n    }\r\n    var sampleValue;\r\n    while (i < samples) {\r\n      sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\r\n      if (this.pv.length) {\r\n        for (j = 0; j < this.pv.length; j += 1) {\r\n          value[j] += sampleValue[j];\r\n        }\r\n      } else {\r\n        value += sampleValue;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (this.pv.length) {\r\n      for (j = 0; j < this.pv.length; j += 1) {\r\n        value[j] /= samples;\r\n      }\r\n    } else {\r\n      value /= samples;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  function getTransformValueAtTime(time) {\r\n    if (!this._transformCachingAtTime) {\r\n      this._transformCachingAtTime = {\r\n        v: new Matrix(),\r\n      };\r\n    }\r\n    /// /\r\n    var matrix = this._transformCachingAtTime.v;\r\n    matrix.cloneFromProps(this.pre.props);\r\n    if (this.appliedTransformations < 1) {\r\n      var anchor = this.a.getValueAtTime(time);\r\n      matrix.translate(\r\n        -anchor[0] * this.a.mult,\r\n        -anchor[1] * this.a.mult,\r\n        anchor[2] * this.a.mult\r\n      );\r\n    }\r\n    if (this.appliedTransformations < 2) {\r\n      var scale = this.s.getValueAtTime(time);\r\n      matrix.scale(\r\n        scale[0] * this.s.mult,\r\n        scale[1] * this.s.mult,\r\n        scale[2] * this.s.mult\r\n      );\r\n    }\r\n    if (this.sk && this.appliedTransformations < 3) {\r\n      var skew = this.sk.getValueAtTime(time);\r\n      var skewAxis = this.sa.getValueAtTime(time);\r\n      matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\r\n    }\r\n    if (this.r && this.appliedTransformations < 4) {\r\n      var rotation = this.r.getValueAtTime(time);\r\n      matrix.rotate(-rotation * this.r.mult);\r\n    } else if (!this.r && this.appliedTransformations < 4) {\r\n      var rotationZ = this.rz.getValueAtTime(time);\r\n      var rotationY = this.ry.getValueAtTime(time);\r\n      var rotationX = this.rx.getValueAtTime(time);\r\n      var orientation = this.or.getValueAtTime(time);\r\n      matrix.rotateZ(-rotationZ * this.rz.mult)\r\n        .rotateY(rotationY * this.ry.mult)\r\n        .rotateX(rotationX * this.rx.mult)\r\n        .rotateZ(-orientation[2] * this.or.mult)\r\n        .rotateY(orientation[1] * this.or.mult)\r\n        .rotateX(orientation[0] * this.or.mult);\r\n    }\r\n    if (this.data.p && this.data.p.s) {\r\n      var positionX = this.px.getValueAtTime(time);\r\n      var positionY = this.py.getValueAtTime(time);\r\n      if (this.data.p.z) {\r\n        var positionZ = this.pz.getValueAtTime(time);\r\n        matrix.translate(\r\n          positionX * this.px.mult,\r\n          positionY * this.py.mult,\r\n          -positionZ * this.pz.mult\r\n        );\r\n      } else {\r\n        matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\r\n      }\r\n    } else {\r\n      var position = this.p.getValueAtTime(time);\r\n      matrix.translate(\r\n        position[0] * this.p.mult,\r\n        position[1] * this.p.mult,\r\n        -position[2] * this.p.mult\r\n      );\r\n    }\r\n    return matrix;\r\n    /// /\r\n  }\r\n\r\n  function getTransformStaticValueAtTime() {\r\n    return this.v.clone(new Matrix());\r\n  }\r\n\r\n  var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n  TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\r\n    var prop = getTransformProperty(elem, data, container);\r\n    if (prop.dynamicProperties.length) {\r\n      prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n    } else {\r\n      prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n    }\r\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n    return prop;\r\n  };\r\n\r\n  var propertyGetProp = PropertyFactory.getProp;\r\n  PropertyFactory.getProp = function (elem, data, type, mult, container) {\r\n    var prop = propertyGetProp(elem, data, type, mult, container);\r\n    // prop.getVelocityAtTime = getVelocityAtTime;\r\n    // prop.loopOut = loopOut;\r\n    // prop.loopIn = loopIn;\r\n    if (prop.kf) {\r\n      prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\r\n    } else {\r\n      prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\r\n    }\r\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n    prop.loopOut = loopOut;\r\n    prop.loopIn = loopIn;\r\n    prop.smooth = smooth;\r\n    prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\r\n    prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\r\n    prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n    prop.propertyIndex = data.ix;\r\n    var value = 0;\r\n    if (type !== 0) {\r\n      value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\r\n    }\r\n    prop._cachingAtTime = {\r\n      lastFrame: initialDefaultFrame,\r\n      lastIndex: 0,\r\n      value: value,\r\n    };\r\n    expressionHelpers.searchExpressions(elem, data, prop);\r\n    if (prop.k) {\r\n      container.addDynamicProperty(prop);\r\n    }\r\n\r\n    return prop;\r\n  };\r\n\r\n  function getShapeValueAtTime(frameNum) {\r\n    // For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n    if (!this._cachingAtTime) {\r\n      this._cachingAtTime = {\r\n        shapeValue: shapePool.clone(this.pv),\r\n        lastIndex: 0,\r\n        lastTime: initialDefaultFrame,\r\n      };\r\n    }\r\n\r\n    frameNum *= this.elem.globalData.frameRate;\r\n    frameNum -= this.offsetTime;\r\n    if (frameNum !== this._cachingAtTime.lastTime) {\r\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\r\n      this._cachingAtTime.lastTime = frameNum;\r\n      this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\r\n    }\r\n    return this._cachingAtTime.shapeValue;\r\n  }\r\n\r\n  var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n  var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n  function ShapeExpressions() {}\r\n  ShapeExpressions.prototype = {\r\n    vertices: function (prop, time) {\r\n      if (this.k) {\r\n        this.getValue();\r\n      }\r\n      var shapePath = this.v;\r\n      if (time !== undefined) {\r\n        shapePath = this.getValueAtTime(time, 0);\r\n      }\r\n      var i;\r\n      var len = shapePath._length;\r\n      var vertices = shapePath[prop];\r\n      var points = shapePath.v;\r\n      var arr = createSizedArray(len);\r\n      for (i = 0; i < len; i += 1) {\r\n        if (prop === 'i' || prop === 'o') {\r\n          arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n        } else {\r\n          arr[i] = [vertices[i][0], vertices[i][1]];\r\n        }\r\n      }\r\n      return arr;\r\n    },\r\n    points: function (time) {\r\n      return this.vertices('v', time);\r\n    },\r\n    inTangents: function (time) {\r\n      return this.vertices('i', time);\r\n    },\r\n    outTangents: function (time) {\r\n      return this.vertices('o', time);\r\n    },\r\n    isClosed: function () {\r\n      return this.v.c;\r\n    },\r\n    pointOnPath: function (perc, time) {\r\n      var shapePath = this.v;\r\n      if (time !== undefined) {\r\n        shapePath = this.getValueAtTime(time, 0);\r\n      }\r\n      if (!this._segmentsLength) {\r\n        this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n      }\r\n\r\n      var segmentsLength = this._segmentsLength;\r\n      var lengths = segmentsLength.lengths;\r\n      var lengthPos = segmentsLength.totalLength * perc;\r\n      var i = 0;\r\n      var len = lengths.length;\r\n      var accumulatedLength = 0;\r\n      var pt;\r\n      while (i < len) {\r\n        if (accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n          var initIndex = i;\r\n          var endIndex = (shapePath.c && i === len - 1) ? 0 : i + 1;\r\n          var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\r\n          pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n          break;\r\n        } else {\r\n          accumulatedLength += lengths[i].addedLength;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!pt) {\r\n        pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\r\n      }\r\n      return pt;\r\n    },\r\n    vectorOnPath: function (perc, time, vectorType) {\r\n      // perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n      if (perc == 1) { // eslint-disable-line eqeqeq\r\n        perc = this.v.c;\r\n      } else if (perc == 0) { // eslint-disable-line eqeqeq\r\n        perc = 0.999;\r\n      }\r\n      var pt1 = this.pointOnPath(perc, time);\r\n      var pt2 = this.pointOnPath(perc + 0.001, time);\r\n      var xLength = pt2[0] - pt1[0];\r\n      var yLength = pt2[1] - pt1[1];\r\n      var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\r\n      if (magnitude === 0) {\r\n        return [0, 0];\r\n      }\r\n      var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\r\n      return unitVector;\r\n    },\r\n    tangentOnPath: function (perc, time) {\r\n      return this.vectorOnPath(perc, time, 'tangent');\r\n    },\r\n    normalOnPath: function (perc, time) {\r\n      return this.vectorOnPath(perc, time, 'normal');\r\n    },\r\n    setGroupProperty: expressionHelpers.setGroupProperty,\r\n    getValueAtTime: expressionHelpers.getStaticValueAtTime,\r\n  };\r\n  extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n  extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n  KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n  KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n\r\n  var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n  ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\r\n    var prop = propertyGetShapeProp(elem, data, type, arr, trims);\r\n    prop.propertyIndex = data.ix;\r\n    prop.lock = false;\r\n    if (type === 3) {\r\n      expressionHelpers.searchExpressions(elem, data.pt, prop);\r\n    } else if (type === 4) {\r\n      expressionHelpers.searchExpressions(elem, data.ks, prop);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  };\r\n}());\r\n\r\n/* global ExpressionManager, TextProperty */\r\n\r\n(function addDecorator() {\r\n  function searchExpressions() {\r\n    if (this.data.d.x) {\r\n      this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\r\n      this.addEffect(this.getExpressionValue.bind(this));\r\n      return true;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  TextProperty.prototype.getExpressionValue = function (currentValue, text) {\r\n    var newValue = this.calculateExpression(text);\r\n    if (currentValue.t !== newValue) {\r\n      var newData = {};\r\n      this.copyData(newData, currentValue);\r\n      newData.t = newValue.toString();\r\n      newData.__complete = false;\r\n      return newData;\r\n    }\r\n    return currentValue;\r\n  };\r\n\r\n  TextProperty.prototype.searchProperty = function () {\r\n    var isKeyframed = this.searchKeyframes();\r\n    var hasExpressions = this.searchExpressions();\r\n    this.kf = isKeyframed || hasExpressions;\r\n    return this.kf;\r\n  };\r\n\r\n  TextProperty.prototype.searchExpressions = searchExpressions;\r\n}());\r\n\r\n/* global propertyGroupFactory, PropertyInterface */\r\n/* exported ShapePathInterface */\r\n\r\nvar ShapePathInterface = (\r\n\r\n  function () {\r\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\r\n      var prop = view.sh;\r\n\r\n      function interfaceFunction(val) {\r\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\r\n          return interfaceFunction.path;\r\n        }\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        path: {\r\n          get: function () {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n            return prop;\r\n          },\r\n        },\r\n        shape: {\r\n          get: function () {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n            return prop;\r\n          },\r\n        },\r\n        _name: { value: shape.nm },\r\n        ix: { value: shape.ix },\r\n        propertyIndex: { value: shape.ix },\r\n        mn: { value: shape.mn },\r\n        propertyGroup: { value: propertyGroup },\r\n      });\r\n      return interfaceFunction;\r\n    };\r\n  }()\r\n);\r\n\r\n/* exported propertyGroupFactory */\r\n\r\nvar propertyGroupFactory = (function () {\r\n  return function (interfaceFunction, parentPropertyGroup) {\r\n    return function (val) {\r\n      val = val === undefined ? 1 : val;\r\n      if (val <= 0) {\r\n        return interfaceFunction;\r\n      }\r\n      return parentPropertyGroup(val - 1);\r\n    };\r\n  };\r\n}());\r\n\r\n/* exported PropertyInterface */\r\n\r\nvar PropertyInterface = (function () {\r\n  return function (propertyName, propertyGroup) {\r\n    var interfaceFunction = {\r\n      _name: propertyName,\r\n    };\r\n\r\n    function _propertyGroup(val) {\r\n      val = val === undefined ? 1 : val;\r\n      if (val <= 0) {\r\n        return interfaceFunction;\r\n      }\r\n      return propertyGroup(val - 1);\r\n    }\r\n\r\n    return _propertyGroup;\r\n  };\r\n}());\r\n\r\n/* global ExpressionPropertyInterface, PropertyInterface, propertyGroupFactory, ShapePathInterface */\r\n/* exported ShapeExpressionInterface */\r\n\r\nvar ShapeExpressionInterface = (function () {\r\n  function iterateElements(shapes, view, propertyGroup) {\r\n    var arr = [];\r\n    var i;\r\n    var len = shapes ? shapes.length : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shapes[i].ty === 'gr') {\r\n        arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'fl') {\r\n        arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'st') {\r\n        arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'tm') {\r\n        arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'tr') {\r\n        // arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n      } else if (shapes[i].ty === 'el') {\r\n        arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'sr') {\r\n        arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'sh') {\r\n        arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rc') {\r\n        arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rd') {\r\n        arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rp') {\r\n        arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'gf') {\r\n        arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else {\r\n        arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      }\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function contentsInterfaceFactory(shape, view, propertyGroup) {\r\n    var interfaces;\r\n    var interfaceFunction = function _interfaceFunction(value) {\r\n      var i = 0;\r\n      var len = interfaces.length;\r\n      while (i < len) {\r\n        if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\r\n          return interfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      if (typeof value === 'number') {\r\n        return interfaces[value - 1];\r\n      }\r\n      return null;\r\n    };\r\n\r\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n    interfaceFunction.numProperties = interfaces.length;\r\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n    interfaceFunction.transform = transformInterface;\r\n    interfaceFunction.propertyIndex = shape.cix;\r\n    interfaceFunction._name = shape.nm;\r\n\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function groupInterfaceFactory(shape, view, propertyGroup) {\r\n    var interfaceFunction = function _interfaceFunction(value) {\r\n      switch (value) {\r\n        case 'ADBE Vectors Group':\r\n        case 'Contents':\r\n        case 2:\r\n          return interfaceFunction.content;\r\n          // Not necessary for now. Keeping them here in case a new case appears\r\n          // case 'ADBE Vector Transform Group':\r\n          // case 3:\r\n        default:\r\n          return interfaceFunction.transform;\r\n      }\r\n    };\r\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\r\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n    interfaceFunction.content = content;\r\n    interfaceFunction.transform = transformInterface;\r\n    Object.defineProperty(interfaceFunction, '_name', {\r\n      get: function () {\r\n        return shape.nm;\r\n      },\r\n    });\r\n    // interfaceFunction.content = interfaceFunction;\r\n    interfaceFunction.numProperties = shape.np;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    interfaceFunction.nm = shape.nm;\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function fillInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === 'Color' || val === 'color') {\r\n        return interfaceFunction.color;\r\n      } if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      color: {\r\n        get: ExpressionPropertyInterface(view.c),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function gradientFillInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === 'Start Point' || val === 'start point') {\r\n        return interfaceFunction.startPoint;\r\n      }\r\n      if (val === 'End Point' || val === 'end point') {\r\n        return interfaceFunction.endPoint;\r\n      }\r\n      if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      startPoint: {\r\n        get: ExpressionPropertyInterface(view.s),\r\n      },\r\n      endPoint: {\r\n        get: ExpressionPropertyInterface(view.e),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      type: {\r\n        get: function () {\r\n          return 'a';\r\n        },\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\r\n    view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n  function defaultInterfaceFactory() {\r\n    function interfaceFunction() {\r\n      return null;\r\n    }\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function strokeInterfaceFactory(shape, view, propertyGroup) {\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\r\n    function addPropertyToDashOb(i) {\r\n      Object.defineProperty(dashOb, shape.d[i].nm, {\r\n        get: ExpressionPropertyInterface(view.d.dataProps[i].p),\r\n      });\r\n    }\r\n    var i;\r\n    var len = shape.d ? shape.d.length : 0;\r\n    var dashOb = {};\r\n    for (i = 0; i < len; i += 1) {\r\n      addPropertyToDashOb(i);\r\n      view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n    }\r\n\r\n    function interfaceFunction(val) {\r\n      if (val === 'Color' || val === 'color') {\r\n        return interfaceFunction.color;\r\n      } if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      } if (val === 'Stroke Width' || val === 'stroke width') {\r\n        return interfaceFunction.strokeWidth;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      color: {\r\n        get: ExpressionPropertyInterface(view.c),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      strokeWidth: {\r\n        get: ExpressionPropertyInterface(view.w),\r\n      },\r\n      dash: {\r\n        get: function () {\r\n          return dashOb;\r\n        },\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function trimInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === shape.e.ix || val === 'End' || val === 'end') {\r\n        return interfaceFunction.end;\r\n      }\r\n      if (val === shape.s.ix) {\r\n        return interfaceFunction.start;\r\n      }\r\n      if (val === shape.o.ix) {\r\n        return interfaceFunction.offset;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n\r\n    view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\r\n    view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    interfaceFunction.propertyGroup = propertyGroup;\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      start: {\r\n        get: ExpressionPropertyInterface(view.s),\r\n      },\r\n      end: {\r\n        get: ExpressionPropertyInterface(view.e),\r\n      },\r\n      offset: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function transformInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.a.ix === value || value === 'Anchor Point') {\r\n        return interfaceFunction.anchorPoint;\r\n      }\r\n      if (shape.o.ix === value || value === 'Opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      if (shape.p.ix === value || value === 'Position') {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\r\n        return interfaceFunction.rotation;\r\n      }\r\n      if (shape.s.ix === value || value === 'Scale') {\r\n        return interfaceFunction.scale;\r\n      }\r\n      if ((shape.sk && shape.sk.ix === value) || value === 'Skew') {\r\n        return interfaceFunction.skew;\r\n      }\r\n      if ((shape.sa && shape.sa.ix === value) || value === 'Skew Axis') {\r\n        return interfaceFunction.skewAxis;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\r\n    view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\r\n    view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n    if (view.transform.mProps.sk) {\r\n      view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\r\n      view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\r\n    }\r\n    view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    Object.defineProperties(interfaceFunction, {\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.o),\r\n      },\r\n      position: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.p),\r\n      },\r\n      anchorPoint: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.a),\r\n      },\r\n      scale: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.s),\r\n      },\r\n      rotation: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.r),\r\n      },\r\n      skew: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.sk),\r\n      },\r\n      skewAxis: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.sa),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.ty = 'tr';\r\n    interfaceFunction.mn = shape.mn;\r\n    interfaceFunction.propertyGroup = propertyGroup;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function ellipseInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.s.ix === value) {\r\n        return interfaceFunction.size;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      size: {\r\n        get: ExpressionPropertyInterface(prop.s),\r\n      },\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function starInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value) {\r\n        return interfaceFunction.rotation;\r\n      }\r\n      if (shape.pt.ix === value) {\r\n        return interfaceFunction.points;\r\n      }\r\n      if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\r\n        return interfaceFunction.outerRadius;\r\n      }\r\n      if (shape.os.ix === value) {\r\n        return interfaceFunction.outerRoundness;\r\n      }\r\n      if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\r\n        return interfaceFunction.innerRadius;\r\n      }\r\n      if (shape.is && shape.is.ix === value) {\r\n        return interfaceFunction.innerRoundness;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\r\n    prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\r\n    prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n    if (shape.ir) {\r\n      prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\r\n      prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\r\n    }\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      rotation: {\r\n        get: ExpressionPropertyInterface(prop.r),\r\n      },\r\n      points: {\r\n        get: ExpressionPropertyInterface(prop.pt),\r\n      },\r\n      outerRadius: {\r\n        get: ExpressionPropertyInterface(prop.or),\r\n      },\r\n      outerRoundness: {\r\n        get: ExpressionPropertyInterface(prop.os),\r\n      },\r\n      innerRadius: {\r\n        get: ExpressionPropertyInterface(prop.ir),\r\n      },\r\n      innerRoundness: {\r\n        get: ExpressionPropertyInterface(prop.is),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function rectInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value) {\r\n        return interfaceFunction.roundness;\r\n      }\r\n      if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\r\n        return interfaceFunction.size;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      roundness: {\r\n        get: ExpressionPropertyInterface(prop.r),\r\n      },\r\n      size: {\r\n        get: ExpressionPropertyInterface(prop.s),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function roundedInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.r.ix === value || value === 'Round Corners 1') {\r\n        return interfaceFunction.radius;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      radius: {\r\n        get: ExpressionPropertyInterface(prop.rd),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function repeaterInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.c.ix === value || value === 'Copies') {\r\n        return interfaceFunction.copies;\r\n      } if (shape.o.ix === value || value === 'Offset') {\r\n        return interfaceFunction.offset;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\r\n    prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n    Object.defineProperties(interfaceFunction, {\r\n      copies: {\r\n        get: ExpressionPropertyInterface(prop.c),\r\n      },\r\n      offset: {\r\n        get: ExpressionPropertyInterface(prop.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  return function (shapes, view, propertyGroup) {\r\n    var interfaces;\r\n    function _interfaceFunction(value) {\r\n      if (typeof value === 'number') {\r\n        value = value === undefined ? 1 : value;\r\n        if (value === 0) {\r\n          return propertyGroup;\r\n        }\r\n        return interfaces[value - 1];\r\n      }\r\n      var i = 0;\r\n      var len = interfaces.length;\r\n      while (i < len) {\r\n        if (interfaces[i]._name === value) {\r\n          return interfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    }\r\n    function parentGroupWrapper() {\r\n      return propertyGroup;\r\n    }\r\n    _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\r\n    interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\r\n    _interfaceFunction.numProperties = interfaces.length;\r\n    _interfaceFunction._name = 'Contents';\r\n    return _interfaceFunction;\r\n  };\r\n}());\r\n\r\n/* exported TextExpressionInterface */\r\n\r\nvar TextExpressionInterface = (function () {\r\n  return function (elem) {\r\n    var _prevValue;\r\n    var _sourceText;\r\n    function _thisLayerFunction(name) {\r\n      switch (name) {\r\n        case 'ADBE Text Document':\r\n          return _thisLayerFunction.sourceText;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    Object.defineProperty(_thisLayerFunction, 'sourceText', {\r\n      get: function () {\r\n        elem.textProperty.getValue();\r\n        var stringValue = elem.textProperty.currentData.t;\r\n        if (stringValue !== _prevValue) {\r\n          elem.textProperty.currentData.t = _prevValue;\r\n          _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\r\n          // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n          _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\r\n        }\r\n        return _sourceText;\r\n      },\r\n    });\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global Matrix, MaskManagerInterface, TransformExpressionInterface, getDescriptor */\r\n/* exported LayerExpressionInterface */\r\n\r\nvar LayerExpressionInterface = (function () {\r\n  function getMatrix(time) {\r\n    var toWorldMat = new Matrix();\r\n    if (time !== undefined) {\r\n      var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n      propMatrix.clone(toWorldMat);\r\n    } else {\r\n      var transformMat = this._elem.finalTransform.mProp;\r\n      transformMat.applyToMatrix(toWorldMat);\r\n    }\r\n    return toWorldMat;\r\n  }\r\n\r\n  function toWorldVec(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    toWorldMat.props[12] = 0;\r\n    toWorldMat.props[13] = 0;\r\n    toWorldMat.props[14] = 0;\r\n    return this.applyPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function toWorld(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    return this.applyPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function fromWorldVec(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    toWorldMat.props[12] = 0;\r\n    toWorldMat.props[13] = 0;\r\n    toWorldMat.props[14] = 0;\r\n    return this.invertPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function fromWorld(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    return this.invertPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function applyPoint(matrix, arr) {\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n      }\r\n    }\r\n    return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\r\n  }\r\n\r\n  function invertPoint(matrix, arr) {\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n      }\r\n    }\r\n    return matrix.inversePoint(arr);\r\n  }\r\n\r\n  function fromComp(arr) {\r\n    var toWorldMat = new Matrix();\r\n    toWorldMat.reset();\r\n    this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n      }\r\n      return toWorldMat.inversePoint(arr);\r\n    }\r\n    return toWorldMat.inversePoint(arr);\r\n  }\r\n\r\n  function sampleImage() {\r\n    return [1, 1, 1, 1];\r\n  }\r\n\r\n  return function (elem) {\r\n    var transformInterface;\r\n\r\n    function _registerMaskInterface(maskManager) {\r\n      _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n    }\r\n    function _registerEffectsInterface(effects) {\r\n      _thisLayerFunction.effect = effects;\r\n    }\r\n\r\n    function _thisLayerFunction(name) {\r\n      switch (name) {\r\n        case 'ADBE Root Vectors Group':\r\n        case 'Contents':\r\n        case 2:\r\n          return _thisLayerFunction.shapeInterface;\r\n        case 1:\r\n        case 6:\r\n        case 'Transform':\r\n        case 'transform':\r\n        case 'ADBE Transform Group':\r\n          return transformInterface;\r\n        case 4:\r\n        case 'ADBE Effect Parade':\r\n        case 'effects':\r\n        case 'Effects':\r\n          return _thisLayerFunction.effect;\r\n        case 'ADBE Text Properties':\r\n          return _thisLayerFunction.textInterface;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    _thisLayerFunction.getMatrix = getMatrix;\r\n    _thisLayerFunction.invertPoint = invertPoint;\r\n    _thisLayerFunction.applyPoint = applyPoint;\r\n    _thisLayerFunction.toWorld = toWorld;\r\n    _thisLayerFunction.toWorldVec = toWorldVec;\r\n    _thisLayerFunction.fromWorld = fromWorld;\r\n    _thisLayerFunction.fromWorldVec = fromWorldVec;\r\n    _thisLayerFunction.toComp = toWorld;\r\n    _thisLayerFunction.fromComp = fromComp;\r\n    _thisLayerFunction.sampleImage = sampleImage;\r\n    _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n    _thisLayerFunction._elem = elem;\r\n    transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n    var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n    Object.defineProperties(_thisLayerFunction, {\r\n      hasParent: {\r\n        get: function () {\r\n          return elem.hierarchy.length;\r\n        },\r\n      },\r\n      parent: {\r\n        get: function () {\r\n          return elem.hierarchy[0].layerInterface;\r\n        },\r\n      },\r\n      rotation: getDescriptor(transformInterface, 'rotation'),\r\n      scale: getDescriptor(transformInterface, 'scale'),\r\n      position: getDescriptor(transformInterface, 'position'),\r\n      opacity: getDescriptor(transformInterface, 'opacity'),\r\n      anchorPoint: anchorPointDescriptor,\r\n      anchor_point: anchorPointDescriptor,\r\n      transform: {\r\n        get: function () {\r\n          return transformInterface;\r\n        },\r\n      },\r\n      active: {\r\n        get: function () {\r\n          return elem.isInRange;\r\n        },\r\n      },\r\n    });\r\n\r\n    _thisLayerFunction.startTime = elem.data.st;\r\n    _thisLayerFunction.index = elem.data.ind;\r\n    _thisLayerFunction.source = elem.data.refId;\r\n    _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n    _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n    _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n    _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n    _thisLayerFunction._name = elem.data.nm;\r\n\r\n    _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n    _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global */\r\n/* exported FootageInterface */\r\n\r\nvar FootageInterface = (function () {\r\n  var outlineInterfaceFactory = (function (elem) {\r\n    var currentPropertyName = '';\r\n    var currentProperty = elem.getFootageData();\r\n    function init() {\r\n      currentPropertyName = '';\r\n      currentProperty = elem.getFootageData();\r\n      return searchProperty;\r\n    }\r\n    function searchProperty(value) {\r\n      if (currentProperty[value]) {\r\n        currentPropertyName = value;\r\n        currentProperty = currentProperty[value];\r\n        if (typeof currentProperty === 'object') {\r\n          return searchProperty;\r\n        }\r\n        return currentProperty;\r\n      }\r\n      var propertyNameIndex = value.indexOf(currentPropertyName);\r\n      if (propertyNameIndex !== -1) {\r\n        var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\r\n        currentProperty = currentProperty[index];\r\n        if (typeof currentProperty === 'object') {\r\n          return searchProperty;\r\n        }\r\n        return currentProperty;\r\n      }\r\n      return '';\r\n    }\r\n    return init;\r\n  });\r\n\r\n  var dataInterfaceFactory = function (elem) {\r\n    function interfaceFunction(value) {\r\n      if (value === 'Outline') {\r\n        return interfaceFunction.outlineInterface();\r\n      }\r\n      return null;\r\n    }\r\n\r\n    interfaceFunction._name = 'Outline';\r\n    interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\r\n    return interfaceFunction;\r\n  };\r\n\r\n  return function (elem) {\r\n    function _interfaceFunction(value) {\r\n      if (value === 'Data') {\r\n        return _interfaceFunction.dataInterface;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    _interfaceFunction._name = 'Data';\r\n    _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\r\n    return _interfaceFunction;\r\n  };\r\n}());\r\n\r\n/* exported CompExpressionInterface */\r\n\r\nvar CompExpressionInterface = (function () {\r\n  return function (comp) {\r\n    function _thisLayerFunction(name) {\r\n      var i = 0;\r\n      var len = comp.layers.length;\r\n      while (i < len) {\r\n        if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\r\n          return comp.elements[i].layerInterface;\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n      // return {active:false};\r\n    }\r\n    Object.defineProperty(_thisLayerFunction, '_name', { value: comp.data.nm });\r\n    _thisLayerFunction.layer = _thisLayerFunction;\r\n    _thisLayerFunction.pixelAspect = 1;\r\n    _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\r\n    _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\r\n    _thisLayerFunction.pixelAspect = 1;\r\n    _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\r\n    _thisLayerFunction.displayStartTime = 0;\r\n    _thisLayerFunction.numLayers = comp.layers.length;\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global ExpressionPropertyInterface */\r\n/* exported TransformExpressionInterface */\r\n\r\nvar TransformExpressionInterface = (function () {\r\n  return function (transform) {\r\n    function _thisFunction(name) {\r\n      switch (name) {\r\n        case 'scale':\r\n        case 'Scale':\r\n        case 'ADBE Scale':\r\n        case 6:\r\n          return _thisFunction.scale;\r\n        case 'rotation':\r\n        case 'Rotation':\r\n        case 'ADBE Rotation':\r\n        case 'ADBE Rotate Z':\r\n        case 10:\r\n          return _thisFunction.rotation;\r\n        case 'ADBE Rotate X':\r\n          return _thisFunction.xRotation;\r\n        case 'ADBE Rotate Y':\r\n          return _thisFunction.yRotation;\r\n        case 'position':\r\n        case 'Position':\r\n        case 'ADBE Position':\r\n        case 2:\r\n          return _thisFunction.position;\r\n        case 'ADBE Position_0':\r\n          return _thisFunction.xPosition;\r\n        case 'ADBE Position_1':\r\n          return _thisFunction.yPosition;\r\n        case 'ADBE Position_2':\r\n          return _thisFunction.zPosition;\r\n        case 'anchorPoint':\r\n        case 'AnchorPoint':\r\n        case 'Anchor Point':\r\n        case 'ADBE AnchorPoint':\r\n        case 1:\r\n          return _thisFunction.anchorPoint;\r\n        case 'opacity':\r\n        case 'Opacity':\r\n        case 11:\r\n          return _thisFunction.opacity;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    Object.defineProperty(_thisFunction, 'rotation', {\r\n      get: ExpressionPropertyInterface(transform.r || transform.rz),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'zRotation', {\r\n      get: ExpressionPropertyInterface(transform.rz || transform.r),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'xRotation', {\r\n      get: ExpressionPropertyInterface(transform.rx),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'yRotation', {\r\n      get: ExpressionPropertyInterface(transform.ry),\r\n    });\r\n    Object.defineProperty(_thisFunction, 'scale', {\r\n      get: ExpressionPropertyInterface(transform.s),\r\n    });\r\n    var _px;\r\n    var _py;\r\n    var _pz;\r\n    var _transformFactory;\r\n    if (transform.p) {\r\n      _transformFactory = ExpressionPropertyInterface(transform.p);\r\n    } else {\r\n      _px = ExpressionPropertyInterface(transform.px);\r\n      _py = ExpressionPropertyInterface(transform.py);\r\n      if (transform.pz) {\r\n        _pz = ExpressionPropertyInterface(transform.pz);\r\n      }\r\n    }\r\n    Object.defineProperty(_thisFunction, 'position', {\r\n      get: function () {\r\n        if (transform.p) {\r\n          return _transformFactory();\r\n        }\r\n        return [\r\n          _px(),\r\n          _py(),\r\n          _pz ? _pz() : 0];\r\n      },\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'xPosition', {\r\n      get: ExpressionPropertyInterface(transform.px),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'yPosition', {\r\n      get: ExpressionPropertyInterface(transform.py),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'zPosition', {\r\n      get: ExpressionPropertyInterface(transform.pz),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'anchorPoint', {\r\n      get: ExpressionPropertyInterface(transform.a),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'opacity', {\r\n      get: ExpressionPropertyInterface(transform.o),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'skew', {\r\n      get: ExpressionPropertyInterface(transform.sk),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'skewAxis', {\r\n      get: ExpressionPropertyInterface(transform.sa),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'orientation', {\r\n      get: ExpressionPropertyInterface(transform.or),\r\n    });\r\n\r\n    return _thisFunction;\r\n  };\r\n}());\r\n\r\n/* exported ProjectInterface */\r\n\r\nvar ProjectInterface = (function () {\r\n  function registerComposition(comp) {\r\n    this.compositions.push(comp);\r\n  }\r\n\r\n  return function () {\r\n    function _thisProjectFunction(name) {\r\n      var i = 0;\r\n      var len = this.compositions.length;\r\n      while (i < len) {\r\n        if (this.compositions[i].data && this.compositions[i].data.nm === name) {\r\n          if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\r\n            this.compositions[i].prepareFrame(this.currentFrame);\r\n          }\r\n          return this.compositions[i].compInterface;\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    _thisProjectFunction.compositions = [];\r\n    _thisProjectFunction.currentFrame = 0;\r\n\r\n    _thisProjectFunction.registerComposition = registerComposition;\r\n\r\n    return _thisProjectFunction;\r\n  };\r\n}());\r\n\r\n/* global propertyGroupFactory, ExpressionPropertyInterface, PropertyInterface */\r\n/* exported EffectsExpressionInterface */\r\n\r\nvar EffectsExpressionInterface = (function () {\r\n  var ob = {\r\n    createEffectsInterface: createEffectsInterface,\r\n  };\r\n\r\n  function createEffectsInterface(elem, propertyGroup) {\r\n    if (elem.effectsManager) {\r\n      var effectElements = [];\r\n      var effectsData = elem.data.ef;\r\n      var i;\r\n      var len = elem.effectsManager.effectElements.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\r\n      }\r\n\r\n      var effects = elem.data.ef || [];\r\n      var groupInterface = function (name) {\r\n        i = 0;\r\n        len = effects.length;\r\n        while (i < len) {\r\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n            return effectElements[i];\r\n          }\r\n          i += 1;\r\n        }\r\n        return null;\r\n      };\r\n      Object.defineProperty(groupInterface, 'numProperties', {\r\n        get: function () {\r\n          return effects.length;\r\n        },\r\n      });\r\n      return groupInterface;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function createGroupInterface(data, elements, propertyGroup, elem) {\r\n    function groupInterface(name) {\r\n      var effects = data.ef;\r\n      var i = 0;\r\n      var len = effects.length;\r\n      while (i < len) {\r\n        if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n          if (effects[i].ty === 5) {\r\n            return effectElements[i];\r\n          }\r\n          return effectElements[i]();\r\n        }\r\n        i += 1;\r\n      }\r\n      throw new Error();\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\r\n\r\n    var effectElements = [];\r\n    var i;\r\n    var len = data.ef.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (data.ef[i].ty === 5) {\r\n        effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\r\n      } else {\r\n        effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\r\n      }\r\n    }\r\n\r\n    if (data.mn === 'ADBE Color Control') {\r\n      Object.defineProperty(groupInterface, 'color', {\r\n        get: function () {\r\n          return effectElements[0]();\r\n        },\r\n      });\r\n    }\r\n    Object.defineProperties(groupInterface, {\r\n      numProperties: {\r\n        get: function () {\r\n          return data.np;\r\n        },\r\n      },\r\n      _name: { value: data.nm },\r\n      propertyGroup: { value: _propertyGroup },\r\n    });\r\n    groupInterface.enabled = data.en !== 0;\r\n    groupInterface.active = groupInterface.enabled;\r\n    return groupInterface;\r\n  }\r\n\r\n  function createValueInterface(element, type, elem, propertyGroup) {\r\n    var expressionProperty = ExpressionPropertyInterface(element.p);\r\n    function interfaceFunction() {\r\n      if (type === 10) {\r\n        return elem.comp.compInterface(element.p.v);\r\n      }\r\n      return expressionProperty();\r\n    }\r\n\r\n    if (element.p.setGroupProperty) {\r\n      element.p.setGroupProperty(PropertyInterface('', propertyGroup));\r\n    }\r\n\r\n    return interfaceFunction;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported MaskManagerInterface */\r\n\r\nvar MaskManagerInterface = (function () {\r\n  function MaskInterface(mask, data) {\r\n    this._mask = mask;\r\n    this._data = data;\r\n  }\r\n  Object.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n    get: function () {\r\n      if (this._mask.prop.k) {\r\n        this._mask.prop.getValue();\r\n      }\r\n      return this._mask.prop;\r\n    },\r\n  });\r\n  Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\r\n    get: function () {\r\n      if (this._mask.op.k) {\r\n        this._mask.op.getValue();\r\n      }\r\n      return this._mask.op.v * 100;\r\n    },\r\n  });\r\n\r\n  var MaskManager = function (maskManager) {\r\n    var _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n    var i;\r\n    var len = maskManager.viewData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n    }\r\n\r\n    var maskFunction = function (name) {\r\n      i = 0;\r\n      while (i < len) {\r\n        if (maskManager.masksProperties[i].nm === name) {\r\n          return _masksInterfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    };\r\n    return maskFunction;\r\n  };\r\n  return MaskManager;\r\n}());\r\n\r\n/* global createTypedArray */\r\n/* exported ExpressionPropertyInterface */\r\n\r\nvar ExpressionPropertyInterface = (function () {\r\n  var defaultUnidimensionalValue = { pv: 0, v: 0, mult: 1 };\r\n  var defaultMultidimensionalValue = { pv: [0, 0, 0], v: [0, 0, 0], mult: 1 };\r\n\r\n  function completeProperty(expressionValue, property, type) {\r\n    Object.defineProperty(expressionValue, 'velocity', {\r\n      get: function () {\r\n        return property.getVelocityAtTime(property.comp.currentFrame);\r\n      },\r\n    });\r\n    expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\r\n    expressionValue.key = function (pos) {\r\n      if (!expressionValue.numKeys) {\r\n        return 0;\r\n      }\r\n      var value = '';\r\n      if ('s' in property.keyframes[pos - 1]) {\r\n        value = property.keyframes[pos - 1].s;\r\n      } else if ('e' in property.keyframes[pos - 2]) {\r\n        value = property.keyframes[pos - 2].e;\r\n      } else {\r\n        value = property.keyframes[pos - 2].s;\r\n      }\r\n      var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\r\n      valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\r\n      valueProp.value = type === 'unidimensional' ? value[0] : value;\r\n      return valueProp;\r\n    };\r\n    expressionValue.valueAtTime = property.getValueAtTime;\r\n    expressionValue.speedAtTime = property.getSpeedAtTime;\r\n    expressionValue.velocityAtTime = property.getVelocityAtTime;\r\n    expressionValue.propertyGroup = property.propertyGroup;\r\n  }\r\n\r\n  function UnidimensionalPropertyInterface(property) {\r\n    if (!property || !('pv' in property)) {\r\n      property = defaultUnidimensionalValue;\r\n    }\r\n    var mult = 1 / property.mult;\r\n    var val = property.pv * mult;\r\n    var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n    expressionValue.value = val;\r\n    completeProperty(expressionValue, property, 'unidimensional');\r\n\r\n    return function () {\r\n      if (property.k) {\r\n        property.getValue();\r\n      }\r\n      val = property.v * mult;\r\n      if (expressionValue.value !== val) {\r\n        expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n        expressionValue.value = val;\r\n        completeProperty(expressionValue, property, 'unidimensional');\r\n      }\r\n      return expressionValue;\r\n    };\r\n  }\r\n\r\n  function MultidimensionalPropertyInterface(property) {\r\n    if (!property || !('pv' in property)) {\r\n      property = defaultMultidimensionalValue;\r\n    }\r\n    var mult = 1 / property.mult;\r\n    var len = (property.data && property.data.l) || property.pv.length;\r\n    var expressionValue = createTypedArray('float32', len);\r\n    var arrValue = createTypedArray('float32', len);\r\n    expressionValue.value = arrValue;\r\n    completeProperty(expressionValue, property, 'multidimensional');\r\n\r\n    return function () {\r\n      if (property.k) {\r\n        property.getValue();\r\n      }\r\n      for (var i = 0; i < len; i += 1) {\r\n        arrValue[i] = property.v[i] * mult;\r\n        expressionValue[i] = arrValue[i];\r\n      }\r\n      return expressionValue;\r\n    };\r\n  }\r\n\r\n  // TODO: try to avoid using this getter\r\n  function defaultGetter() {\r\n    return defaultUnidimensionalValue;\r\n  }\r\n\r\n  return function (property) {\r\n    if (!property) {\r\n      return defaultGetter;\r\n    } if (property.propType === 'unidimensional') {\r\n      return UnidimensionalPropertyInterface(property);\r\n    }\r\n    return MultidimensionalPropertyInterface(property);\r\n  };\r\n}());\r\n\r\n/* global expressionHelpers, TextSelectorProp, ExpressionManager */\r\n/* exported TextExpressionSelectorPropFactory */\r\n\r\nvar TextExpressionSelectorPropFactory = (function () { // eslint-disable-line no-unused-vars\r\n  function getValueProxy(index, total) {\r\n    this.textIndex = index + 1;\r\n    this.textTotal = total;\r\n    this.v = this.getValue() * this.mult;\r\n    return this.v;\r\n  }\r\n\r\n  return function (elem, data) {\r\n    this.pv = 1;\r\n    this.comp = elem.comp;\r\n    this.elem = elem;\r\n    this.mult = 0.01;\r\n    this.propType = 'textSelector';\r\n    this.textTotal = data.totalChars;\r\n    this.selectorValue = 100;\r\n    this.lastValue = [1, 1, 1];\r\n    this.k = true;\r\n    this.x = true;\r\n    this.getValue = ExpressionManager.initiateExpression.bind(this)(elem, data, this);\r\n    this.getMult = getValueProxy;\r\n    this.getVelocityAtTime = expressionHelpers.getVelocityAtTime;\r\n    if (this.kf) {\r\n      this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this);\r\n    } else {\r\n      this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this);\r\n    }\r\n    this.setGroupProperty = expressionHelpers.setGroupProperty;\r\n  };\r\n}());\r\n\r\nvar propertyGetTextProp = TextSelectorProp.getTextSelectorProp;\r\nTextSelectorProp.getTextSelectorProp = function (elem, data, arr) {\r\n  if (data.t === 1) {\r\n    return new TextExpressionSelectorPropFactory(elem, data, arr); // eslint-disable-line no-undef\r\n  }\r\n  return propertyGetTextProp(elem, data, arr);\r\n};\r\n\r\n/* global PropertyFactory */\r\n/* exported SliderEffect, AngleEffect, ColorEffect, PointEffect, LayerIndexEffect, MaskIndexEffect, CheckboxEffect, NoValueEffect */\r\n\r\nfunction SliderEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction AngleEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction ColorEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n}\r\nfunction PointEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n}\r\nfunction LayerIndexEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction MaskIndexEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction CheckboxEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction NoValueEffect() {\r\n  this.p = {};\r\n}\r\n\r\n/* global extendPrototype, SliderEffect, AngleEffect, ColorEffect, PointEffect, CheckboxEffect, LayerIndexEffect,\r\nMaskIndexEffect, NoValueEffect, DynamicPropertyContainer */\r\n\r\nfunction EffectsManager(data, element) {\r\n  var effects = data.ef || [];\r\n  this.effectElements = [];\r\n  var i;\r\n  var len = effects.length;\r\n  var effectItem;\r\n  for (i = 0; i < len; i += 1) {\r\n    effectItem = new GroupEffect(effects[i], element);\r\n    this.effectElements.push(effectItem);\r\n  }\r\n}\r\n\r\nfunction GroupEffect(data, element) {\r\n  this.init(data, element);\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], GroupEffect);\r\n\r\nGroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\r\n\r\nGroupEffect.prototype.init = function (data, element) {\r\n  this.data = data;\r\n  this.effectElements = [];\r\n  this.initDynamicPropertyContainer(element);\r\n  var i;\r\n  var len = this.data.ef.length;\r\n  var eff;\r\n  var effects = this.data.ef;\r\n  for (i = 0; i < len; i += 1) {\r\n    eff = null;\r\n    switch (effects[i].ty) {\r\n      case 0:\r\n        eff = new SliderEffect(effects[i], element, this);\r\n        break;\r\n      case 1:\r\n        eff = new AngleEffect(effects[i], element, this);\r\n        break;\r\n      case 2:\r\n        eff = new ColorEffect(effects[i], element, this);\r\n        break;\r\n      case 3:\r\n        eff = new PointEffect(effects[i], element, this);\r\n        break;\r\n      case 4:\r\n      case 7:\r\n        eff = new CheckboxEffect(effects[i], element, this);\r\n        break;\r\n      case 10:\r\n        eff = new LayerIndexEffect(effects[i], element, this);\r\n        break;\r\n      case 11:\r\n        eff = new MaskIndexEffect(effects[i], element, this);\r\n        break;\r\n      case 5:\r\n        eff = new EffectsManager(effects[i], element, this);\r\n        break;\r\n        // case 6:\r\n      default:\r\n        eff = new NoValueEffect(effects[i], element, this);\r\n        break;\r\n    }\r\n    if (eff) {\r\n      this.effectElements.push(eff);\r\n    }\r\n  }\r\n};\r\n\r\n\r\nvar lottie = {};\r\n\r\nfunction setLocationHref(href) {\r\n  locationHref = href;\r\n}\r\n\r\nfunction searchAnimations() {\r\n  if (standalone === true) {\r\n    animationManager.searchAnimations(animationData, standalone, renderer);\r\n  } else {\r\n    animationManager.searchAnimations();\r\n  }\r\n}\r\n\r\nfunction setSubframeRendering(flag) {\r\n  subframeEnabled = flag;\r\n}\r\n\r\nfunction setIDPrefix(prefix) {\r\n  idPrefix = prefix;\r\n}\r\n\r\nfunction loadAnimation(params) {\r\n  if (standalone === true) {\r\n    params.animationData = JSON.parse(animationData);\r\n  }\r\n  return animationManager.loadAnimation(params);\r\n}\r\n\r\nfunction setQuality(value) {\r\n  if (typeof value === 'string') {\r\n    switch (value) {\r\n      case 'high':\r\n        defaultCurveSegments = 200;\r\n        break;\r\n      default:\r\n      case 'medium':\r\n        defaultCurveSegments = 50;\r\n        break;\r\n      case 'low':\r\n        defaultCurveSegments = 10;\r\n        break;\r\n    }\r\n  } else if (!isNaN(value) && value > 1) {\r\n    defaultCurveSegments = value;\r\n  }\r\n  if (defaultCurveSegments >= 50) {\r\n    roundValues(false);\r\n  } else {\r\n    roundValues(true);\r\n  }\r\n}\r\n\r\nfunction inBrowser() {\r\n  return typeof navigator !== 'undefined';\r\n}\r\n\r\nfunction installPlugin(type, plugin) {\r\n  if (type === 'expressions') {\r\n    expressionsPlugin = plugin;\r\n  }\r\n}\r\n\r\nfunction getFactory(name) {\r\n  switch (name) {\r\n    case 'propertyFactory':\r\n      return PropertyFactory;\r\n    case 'shapePropertyFactory':\r\n      return ShapePropertyFactory;\r\n    case 'matrix':\r\n      return Matrix;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nlottie.play = animationManager.play;\r\nlottie.pause = animationManager.pause;\r\nlottie.setLocationHref = setLocationHref;\r\nlottie.togglePause = animationManager.togglePause;\r\nlottie.setSpeed = animationManager.setSpeed;\r\nlottie.setDirection = animationManager.setDirection;\r\nlottie.stop = animationManager.stop;\r\nlottie.searchAnimations = searchAnimations;\r\nlottie.registerAnimation = animationManager.registerAnimation;\r\nlottie.loadAnimation = loadAnimation;\r\nlottie.setSubframeRendering = setSubframeRendering;\r\nlottie.resize = animationManager.resize;\r\n// lottie.start = start;\r\nlottie.goToAndStop = animationManager.goToAndStop;\r\nlottie.destroy = animationManager.destroy;\r\nlottie.setQuality = setQuality;\r\nlottie.inBrowser = inBrowser;\r\nlottie.installPlugin = installPlugin;\r\nlottie.freeze = animationManager.freeze;\r\nlottie.unfreeze = animationManager.unfreeze;\r\nlottie.setVolume = animationManager.setVolume;\r\nlottie.mute = animationManager.mute;\r\nlottie.unmute = animationManager.unmute;\r\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\nlottie.useWebWorker = function (flag) {\r\n  _useWebWorker = flag;\r\n};\r\nlottie.setIDPrefix = setIDPrefix;\r\nlottie.__getFactory = getFactory;\r\nlottie.version = '5.8.1';\r\n\r\nfunction checkReady() {\r\n  if (document.readyState === 'complete') {\r\n    clearInterval(readyStateCheckInterval);\r\n    searchAnimations();\r\n  }\r\n}\r\n\r\nfunction getQueryVariable(variable) {\r\n  var vars = queryString.split('&');\r\n  for (var i = 0; i < vars.length; i += 1) {\r\n    var pair = vars[i].split('=');\r\n    if (decodeURIComponent(pair[0]) == variable) { // eslint-disable-line eqeqeq\r\n      return decodeURIComponent(pair[1]);\r\n    }\r\n  }\r\n  return null;\r\n}\r\nvar standalone = '__[STANDALONE]__';\r\nvar animationData = '__[ANIMATIONDATA]__';\r\nvar renderer = '';\r\nvar queryString;\r\nif (standalone) {\r\n  var scripts = document.getElementsByTagName('script');\r\n  var index = scripts.length - 1;\r\n  var myScript = scripts[index] || {\r\n    src: '',\r\n  };\r\n  queryString = myScript.src.replace(/^[^\\?]+\\??/, ''); // eslint-disable-line no-useless-escape\r\n  renderer = getQueryVariable('renderer');\r\n}\r\nvar readyStateCheckInterval = setInterval(checkReady, 100);\r\n\nreturn lottie;\n}));","/*!\n* chartjs-plugin-zoom v1.2.0\n* undefined\n * (c) 2016-2021 chartjs-plugin-zoom Contributors\n * Released under the MIT License\n */\nimport Hammer from 'hammerjs';\nimport { each, valueOrDefault, callback, sign } from 'chart.js/helpers';\n\nconst getModifierKey = opts => opts && opts.enabled && opts.modifierKey;\nconst keyPressed = (key, event) => key && event[key + 'Key'];\nconst keyNotPressed = (key, event) => key && !event[key + 'Key'];\n\n/**\n * @param {string|function} mode can be 'x', 'y' or 'xy'\n * @param {string} dir can be 'x' or 'y'\n * @param {import('chart.js').Chart} chart instance of the chart in question\n * @returns {boolean}\n */\nfunction directionEnabled(mode, dir, chart) {\n  if (mode === undefined) {\n    return true;\n  } else if (typeof mode === 'string') {\n    return mode.indexOf(dir) !== -1;\n  } else if (typeof mode === 'function') {\n    return mode({chart}).indexOf(dir) !== -1;\n  }\n\n  return false;\n}\n\n/**\n * Debounces calling `fn` for `delay` ms\n * @param {function} fn - Function to call. No arguments are passed.\n * @param {number} delay - Delay in ms. 0 = immediate invocation.\n * @returns {function}\n */\nfunction debounce(fn, delay) {\n  let timeout;\n  return function() {\n    clearTimeout(timeout);\n    timeout = setTimeout(fn, delay);\n    return delay;\n  };\n}\n\n/** This function use for check what axis now under mouse cursor.\n * @param {{x: number, y: number}} point - the mouse location\n * @param {import('chart.js').Chart} [chart] instance of the chart in question\n * @return {import('chart.js').Scale}\n */\nfunction getScaleUnderPoint({x, y}, chart) {\n  const scales = chart.scales;\n  const scaleIds = Object.keys(scales);\n  for (let i = 0; i < scaleIds.length; i++) {\n    const scale = scales[scaleIds[i]];\n    if (y >= scale.top && y <= scale.bottom && x >= scale.left && x <= scale.right) {\n      return scale;\n    }\n  }\n  return null;\n}\n\n/** This function return only one scale whose position is under mouse cursor and which direction is enabled.\n * If under mouse hasn't scale, then return all other scales which 'mode' is diffrent with overScaleMode.\n * So 'overScaleMode' works as a limiter to scale the user-selected scale (in 'mode') only when the cursor is under the scale,\n * and other directions in 'mode' works as before.\n * Example: mode = 'xy', overScaleMode = 'y' -> it's means 'x' - works as before, and 'y' only works for one scale when cursor is under it.\n * options.overScaleMode can be a function if user want zoom only one scale of many for example.\n * @param {string} mode - 'xy', 'x' or 'y'\n * @param {{x: number, y: number}} point - the mouse location\n * @param {import('chart.js').Chart} [chart] instance of the chart in question\n * @return {import('chart.js').Scale[]}\n */\nfunction getEnabledScalesByPoint(mode, point, chart) {\n  const scale = getScaleUnderPoint(point, chart);\n\n  if (scale && directionEnabled(mode, scale.axis, chart)) {\n    return [scale];\n  }\n\n  const enabledScales = [];\n  each(chart.scales, function(scaleItem) {\n    if (!directionEnabled(mode, scaleItem.axis, chart)) {\n      enabledScales.push(scaleItem);\n    }\n  });\n  return enabledScales;\n}\n\nconst chartStates = new WeakMap();\n\nfunction getState(chart) {\n  let state = chartStates.get(chart);\n  if (!state) {\n    state = {\n      originalScaleLimits: {},\n      updatedScaleLimits: {},\n      handlers: {},\n      panDelta: {}\n    };\n    chartStates.set(chart, state);\n  }\n  return state;\n}\n\nfunction removeState(chart) {\n  chartStates.delete(chart);\n}\n\nfunction zoomDelta(scale, zoom, center) {\n  const range = scale.max - scale.min;\n  const newRange = range * (zoom - 1);\n\n  const centerPoint = scale.isHorizontal() ? center.x : center.y;\n  // `scale.getValueForPixel()` can return a value less than the `scale.min` or\n  // greater than `scale.max` when `centerPoint` is outside chartArea.\n  const minPercent = Math.max(0, Math.min(1,\n    (scale.getValueForPixel(centerPoint) - scale.min) / range || 0\n  ));\n\n  const maxPercent = 1 - minPercent;\n\n  return {\n    min: newRange * minPercent,\n    max: newRange * maxPercent\n  };\n}\n\nfunction getLimit(state, scale, scaleLimits, prop, fallback) {\n  let limit = scaleLimits[prop];\n  if (limit === 'original') {\n    const original = state.originalScaleLimits[scale.id][prop];\n    limit = valueOrDefault(original.options, original.scale);\n  }\n  return valueOrDefault(limit, fallback);\n}\n\nfunction updateRange(scale, {min, max}, limits, zoom = false) {\n  const state = getState(scale.chart);\n  const {id, axis, options: scaleOpts} = scale;\n\n  const scaleLimits = limits && (limits[id] || limits[axis]) || {};\n  const {minRange = 0} = scaleLimits;\n  const minLimit = getLimit(state, scale, scaleLimits, 'min', -Infinity);\n  const maxLimit = getLimit(state, scale, scaleLimits, 'max', Infinity);\n\n  const cmin = Math.max(min, minLimit);\n  const cmax = Math.min(max, maxLimit);\n  const range = zoom ? Math.max(cmax - cmin, minRange) : scale.max - scale.min;\n  if (cmax - cmin !== range) {\n    if (minLimit > cmax - range) {\n      min = cmin;\n      max = cmin + range;\n    } else if (maxLimit < cmin + range) {\n      max = cmax;\n      min = cmax - range;\n    } else {\n      const offset = (range - cmax + cmin) / 2;\n      min = cmin - offset;\n      max = cmax + offset;\n    }\n  } else {\n    min = cmin;\n    max = cmax;\n  }\n  scaleOpts.min = min;\n  scaleOpts.max = max;\n\n  state.updatedScaleLimits[scale.id] = {min, max};\n\n  // return true if the scale range is changed\n  return scale.parse(min) !== scale.min || scale.parse(max) !== scale.max;\n}\n\nfunction zoomNumericalScale(scale, zoom, center, limits) {\n  const delta = zoomDelta(scale, zoom, center);\n  const newRange = {min: scale.min + delta.min, max: scale.max - delta.max};\n  return updateRange(scale, newRange, limits, true);\n}\n\nconst integerChange = (v) => v === 0 || isNaN(v) ? 0 : v < 0 ? Math.min(Math.round(v), -1) : Math.max(Math.round(v), 1);\n\nfunction existCategoryFromMaxZoom(scale) {\n  const labels = scale.getLabels();\n  const maxIndex = labels.length - 1;\n\n  if (scale.min > 0) {\n    scale.min -= 1;\n  }\n  if (scale.max < maxIndex) {\n    scale.max += 1;\n  }\n}\n\nfunction zoomCategoryScale(scale, zoom, center, limits) {\n  const delta = zoomDelta(scale, zoom, center);\n  if (scale.min === scale.max && zoom < 1) {\n    existCategoryFromMaxZoom(scale);\n  }\n  const newRange = {min: scale.min + integerChange(delta.min), max: scale.max - integerChange(delta.max)};\n  return updateRange(scale, newRange, limits, true);\n}\n\nfunction scaleLength(scale) {\n  return scale.isHorizontal() ? scale.width : scale.height;\n}\n\nfunction panCategoryScale(scale, delta, limits) {\n  const labels = scale.getLabels();\n  const lastLabelIndex = labels.length - 1;\n  let {min, max} = scale;\n  // The visible range. Ticks can be skipped, and thus not reliable.\n  const range = Math.max(max - min, 1);\n  // How many pixels of delta is required before making a step. stepSize, but limited to max 1/10 of the scale length.\n  const stepDelta = Math.round(scaleLength(scale) / Math.max(range, 10));\n  const stepSize = Math.round(Math.abs(delta / stepDelta));\n  let applied;\n  if (delta < -stepDelta) {\n    max = Math.min(max + stepSize, lastLabelIndex);\n    min = range === 1 ? max : max - range;\n    applied = max === lastLabelIndex;\n  } else if (delta > stepDelta) {\n    min = Math.max(0, min - stepSize);\n    max = range === 1 ? min : min + range;\n    applied = min === 0;\n  }\n\n  return updateRange(scale, {min, max}, limits) || applied;\n}\n\nconst OFFSETS = {\n  second: 500, // 500 ms\n  minute: 30 * 1000, // 30 s\n  hour: 30 * 60 * 1000, // 30 m\n  day: 12 * 60 * 60 * 1000, // 12 h\n  week: 3.5 * 24 * 60 * 60 * 1000, // 3.5 d\n  month: 15 * 24 * 60 * 60 * 1000, // 15 d\n  quarter: 60 * 24 * 60 * 60 * 1000, // 60 d\n  year: 182 * 24 * 60 * 60 * 1000 // 182 d\n};\n\nfunction panNumericalScale(scale, delta, limits, canZoom = false) {\n  const {min: prevStart, max: prevEnd, options} = scale;\n  const round = options.time && options.time.round;\n  const offset = OFFSETS[round] || 0;\n  const newMin = scale.getValueForPixel(scale.getPixelForValue(prevStart + offset) - delta);\n  const newMax = scale.getValueForPixel(scale.getPixelForValue(prevEnd + offset) - delta);\n  const {min: minLimit = -Infinity, max: maxLimit = Infinity} = canZoom && limits && limits[scale.axis] || {};\n  if (isNaN(newMin) || isNaN(newMax) || newMin < minLimit || newMax > maxLimit) {\n    // At limit: No change but return true to indicate no need to store the delta.\n    // NaN can happen for 0-dimension scales (either because they were configured\n    // with min === max or because the chart has 0 plottable area).\n    return true;\n  }\n  return updateRange(scale, {min: newMin, max: newMax}, limits, canZoom);\n}\n\nfunction panNonLinearScale(scale, delta, limits) {\n  return panNumericalScale(scale, delta, limits, true);\n}\n\nconst zoomFunctions = {\n  category: zoomCategoryScale,\n  default: zoomNumericalScale,\n};\n\nconst panFunctions = {\n  category: panCategoryScale,\n  default: panNumericalScale,\n  logarithmic: panNonLinearScale,\n  timeseries: panNonLinearScale,\n};\n\nfunction shouldUpdateScaleLimits(scale, originalScaleLimits, updatedScaleLimits) {\n  const {id, options: {min, max}} = scale;\n  if (!originalScaleLimits[id] || !updatedScaleLimits[id]) {\n    return true;\n  }\n  const previous = updatedScaleLimits[id];\n  return previous.min !== min || previous.max !== max;\n}\n\nfunction removeMissingScales(limits, scales) {\n  each(limits, (opt, key) => {\n    if (!scales[key]) {\n      delete limits[key];\n    }\n  });\n}\n\nfunction storeOriginalScaleLimits(chart, state) {\n  const {scales} = chart;\n  const {originalScaleLimits, updatedScaleLimits} = state;\n\n  each(scales, function(scale) {\n    if (shouldUpdateScaleLimits(scale, originalScaleLimits, updatedScaleLimits)) {\n      originalScaleLimits[scale.id] = {\n        min: {scale: scale.min, options: scale.options.min},\n        max: {scale: scale.max, options: scale.options.max},\n      };\n    }\n  });\n\n  removeMissingScales(originalScaleLimits, scales);\n  removeMissingScales(updatedScaleLimits, scales);\n  return originalScaleLimits;\n}\n\nfunction doZoom(scale, amount, center, limits) {\n  const fn = zoomFunctions[scale.type] || zoomFunctions.default;\n  callback(fn, [scale, amount, center, limits]);\n}\n\nfunction getCenter(chart) {\n  const ca = chart.chartArea;\n  return {\n    x: (ca.left + ca.right) / 2,\n    y: (ca.top + ca.bottom) / 2,\n  };\n}\n\n/**\n * @param chart The chart instance\n * @param {number | {x?: number, y?: number, focalPoint?: {x: number, y: number}}} amount The zoom percentage or percentages and focal point\n * @param {string} [transition] Which transition mode to use. Defaults to 'none'\n */\nfunction zoom(chart, amount, transition = 'none') {\n  const {x = 1, y = 1, focalPoint = getCenter(chart)} = typeof amount === 'number' ? {x: amount, y: amount} : amount;\n  const state = getState(chart);\n  const {options: {limits, zoom: zoomOptions}} = state;\n  const {mode = 'xy', overScaleMode} = zoomOptions || {};\n\n  storeOriginalScaleLimits(chart, state);\n\n  const xEnabled = x !== 1 && directionEnabled(mode, 'x', chart);\n  const yEnabled = y !== 1 && directionEnabled(mode, 'y', chart);\n  const enabledScales = overScaleMode && getEnabledScalesByPoint(overScaleMode, focalPoint, chart);\n\n  each(enabledScales || chart.scales, function(scale) {\n    if (scale.isHorizontal() && xEnabled) {\n      doZoom(scale, x, focalPoint, limits);\n    } else if (!scale.isHorizontal() && yEnabled) {\n      doZoom(scale, y, focalPoint, limits);\n    }\n  });\n\n  chart.update(transition);\n\n  callback(zoomOptions.onZoom, [{chart}]);\n}\n\nfunction getRange(scale, pixel0, pixel1) {\n  const v0 = scale.getValueForPixel(pixel0);\n  const v1 = scale.getValueForPixel(pixel1);\n  return {\n    min: Math.min(v0, v1),\n    max: Math.max(v0, v1)\n  };\n}\n\nfunction zoomRect(chart, p0, p1, transition = 'none') {\n  const state = getState(chart);\n  const {options: {limits, zoom: zoomOptions}} = state;\n  const {mode = 'xy'} = zoomOptions;\n\n  storeOriginalScaleLimits(chart, state);\n  const xEnabled = directionEnabled(mode, 'x', chart);\n  const yEnabled = directionEnabled(mode, 'y', chart);\n\n  each(chart.scales, function(scale) {\n    if (scale.isHorizontal() && xEnabled) {\n      updateRange(scale, getRange(scale, p0.x, p1.x), limits, true);\n    } else if (!scale.isHorizontal() && yEnabled) {\n      updateRange(scale, getRange(scale, p0.y, p1.y), limits, true);\n    }\n  });\n\n  chart.update(transition);\n\n  callback(zoomOptions.onZoom, [{chart}]);\n}\n\nfunction zoomScale(chart, scaleId, range, transition = 'none') {\n  storeOriginalScaleLimits(chart, getState(chart));\n  const scale = chart.scales[scaleId];\n  updateRange(scale, range, undefined, true);\n  chart.update(transition);\n}\n\nfunction resetZoom(chart, transition = 'default') {\n  const state = getState(chart);\n  const originalScaleLimits = storeOriginalScaleLimits(chart, state);\n\n  each(chart.scales, function(scale) {\n    const scaleOptions = scale.options;\n    if (originalScaleLimits[scale.id]) {\n      scaleOptions.min = originalScaleLimits[scale.id].min.options;\n      scaleOptions.max = originalScaleLimits[scale.id].max.options;\n    } else {\n      delete scaleOptions.min;\n      delete scaleOptions.max;\n    }\n  });\n  chart.update(transition);\n  callback(state.options.zoom.onZoomComplete, [{chart}]);\n}\n\nfunction getOriginalRange(state, scaleId) {\n  const original = state.originalScaleLimits[scaleId];\n  if (!original) {\n    return;\n  }\n  const {min, max} = original;\n  return valueOrDefault(max.options, max.scale) - valueOrDefault(min.options, min.scale);\n}\n\nfunction getZoomLevel(chart) {\n  const state = getState(chart);\n  let min = 1;\n  let max = 1;\n  each(chart.scales, function(scale) {\n    const origRange = getOriginalRange(state, scale.id);\n    if (origRange) {\n      const level = Math.round(origRange / (scale.max - scale.min) * 100) / 100;\n      min = Math.min(min, level);\n      max = Math.max(max, level);\n    }\n  });\n  return min < 1 ? min : max;\n}\n\nfunction panScale(scale, delta, limits, state) {\n  const {panDelta} = state;\n  // Add possible cumulative delta from previous pan attempts where scale did not change\n  const storedDelta = panDelta[scale.id] || 0;\n  if (sign(storedDelta) === sign(delta)) {\n    delta += storedDelta;\n  }\n  const fn = panFunctions[scale.type] || panFunctions.default;\n  if (callback(fn, [scale, delta, limits])) {\n    // The scale changed, reset cumulative delta\n    panDelta[scale.id] = 0;\n  } else {\n    // The scale did not change, store cumulative delta\n    panDelta[scale.id] = delta;\n  }\n}\n\nfunction pan(chart, delta, enabledScales, transition = 'none') {\n  const {x = 0, y = 0} = typeof delta === 'number' ? {x: delta, y: delta} : delta;\n  const state = getState(chart);\n  const {options: {pan: panOptions, limits}} = state;\n  const {mode = 'xy', onPan} = panOptions || {};\n\n  storeOriginalScaleLimits(chart, state);\n\n  const xEnabled = x !== 0 && directionEnabled(mode, 'x', chart);\n  const yEnabled = y !== 0 && directionEnabled(mode, 'y', chart);\n\n  each(enabledScales || chart.scales, function(scale) {\n    if (scale.isHorizontal() && xEnabled) {\n      panScale(scale, x, limits, state);\n    } else if (!scale.isHorizontal() && yEnabled) {\n      panScale(scale, y, limits, state);\n    }\n  });\n\n  chart.update(transition);\n\n  callback(onPan, [{chart}]);\n}\n\nfunction getInitialScaleBounds(chart) {\n  const state = getState(chart);\n  const scaleBounds = {};\n  for (const scaleId of Object.keys(chart.scales)) {\n    const {min, max} = state.originalScaleLimits[scaleId] || {min: {}, max: {}};\n    scaleBounds[scaleId] = {min: min.scale, max: max.scale};\n  }\n\n  return scaleBounds;\n}\n\nfunction isZoomedOrPanned(chart) {\n  const scaleBounds = getInitialScaleBounds(chart);\n  for (const scaleId of Object.keys(chart.scales)) {\n    const {min: originalMin, max: originalMax} = scaleBounds[scaleId];\n\n    if (chart.scales[scaleId].min !== originalMin) {\n      return true;\n    }\n\n    if (chart.scales[scaleId].max !== originalMax) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction removeHandler(chart, type) {\n  const {handlers} = getState(chart);\n  const handler = handlers[type];\n  if (handler && handler.target) {\n    handler.target.removeEventListener(type, handler);\n    delete handlers[type];\n  }\n}\n\nfunction addHandler(chart, target, type, handler) {\n  const {handlers, options} = getState(chart);\n  removeHandler(chart, type);\n  handlers[type] = (event) => handler(chart, event, options);\n  handlers[type].target = target;\n  target.addEventListener(type, handlers[type]);\n}\n\nfunction mouseMove(chart, event) {\n  const state = getState(chart);\n  if (state.dragStart) {\n    state.dragging = true;\n    state.dragEnd = event;\n    chart.update('none');\n  }\n}\n\nfunction zoomStart(chart, event, zoomOptions) {\n  const {onZoomStart, onZoomRejected} = zoomOptions;\n  if (onZoomStart) {\n    const {left: offsetX, top: offsetY} = event.target.getBoundingClientRect();\n    const point = {\n      x: event.clientX - offsetX,\n      y: event.clientY - offsetY\n    };\n    if (callback(onZoomStart, [{chart, event, point}]) === false) {\n      callback(onZoomRejected, [{chart, event}]);\n      return false;\n    }\n  }\n}\n\nfunction mouseDown(chart, event) {\n  const state = getState(chart);\n  const {pan: panOptions, zoom: zoomOptions = {}} = state.options;\n  if (keyPressed(getModifierKey(panOptions), event) || keyNotPressed(getModifierKey(zoomOptions.drag), event)) {\n    return callback(zoomOptions.onZoomRejected, [{chart, event}]);\n  }\n\n  if (zoomStart(chart, event, zoomOptions) === false) {\n    return;\n  }\n  state.dragStart = event;\n\n  addHandler(chart, chart.canvas, 'mousemove', mouseMove);\n}\n\nfunction computeDragRect(chart, mode, beginPoint, endPoint) {\n  const {left: offsetX, top: offsetY} = beginPoint.target.getBoundingClientRect();\n  const xEnabled = directionEnabled(mode, 'x', chart);\n  const yEnabled = directionEnabled(mode, 'y', chart);\n  let {top, left, right, bottom, width: chartWidth, height: chartHeight} = chart.chartArea;\n\n  if (xEnabled) {\n    left = Math.min(beginPoint.clientX, endPoint.clientX) - offsetX;\n    right = Math.max(beginPoint.clientX, endPoint.clientX) - offsetX;\n  }\n\n  if (yEnabled) {\n    top = Math.min(beginPoint.clientY, endPoint.clientY) - offsetY;\n    bottom = Math.max(beginPoint.clientY, endPoint.clientY) - offsetY;\n  }\n  const width = right - left;\n  const height = bottom - top;\n\n  return {\n    left,\n    top,\n    right,\n    bottom,\n    width,\n    height,\n    zoomX: xEnabled && width ? 1 + ((chartWidth - width) / chartWidth) : 1,\n    zoomY: yEnabled && height ? 1 + ((chartHeight - height) / chartHeight) : 1\n  };\n}\n\nfunction mouseUp(chart, event) {\n  const state = getState(chart);\n  if (!state.dragStart) {\n    return;\n  }\n\n  removeHandler(chart, 'mousemove');\n  const {mode, onZoomComplete, drag: {threshold = 0}} = state.options.zoom;\n  const rect = computeDragRect(chart, mode, state.dragStart, event);\n  const distanceX = directionEnabled(mode, 'x', chart) ? rect.width : 0;\n  const distanceY = directionEnabled(mode, 'y', chart) ? rect.height : 0;\n  const distance = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n\n  // Remove drag start and end before chart update to stop drawing selected area\n  state.dragStart = state.dragEnd = null;\n\n  if (distance <= threshold) {\n    state.dragging = false;\n    chart.update('none');\n    return;\n  }\n\n  zoomRect(chart, {x: rect.left, y: rect.top}, {x: rect.right, y: rect.bottom}, 'zoom');\n\n  setTimeout(() => (state.dragging = false), 500);\n  callback(onZoomComplete, [{chart}]);\n}\n\nfunction wheelPreconditions(chart, event, zoomOptions) {\n  // Before preventDefault, check if the modifier key required and pressed\n  if (keyNotPressed(getModifierKey(zoomOptions.wheel), event)) {\n    callback(zoomOptions.onZoomRejected, [{chart, event}]);\n    return;\n  }\n\n  if (zoomStart(chart, event, zoomOptions) === false) {\n    return;\n  }\n\n  // Prevent the event from triggering the default behavior (eg. Content scrolling).\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  // Firefox always fires the wheel event twice:\n  // First without the delta and right after that once with the delta properties.\n  if (event.deltaY === undefined) {\n    return;\n  }\n  return true;\n}\n\nfunction wheel(chart, event) {\n  const {handlers: {onZoomComplete}, options: {zoom: zoomOptions}} = getState(chart);\n\n  if (!wheelPreconditions(chart, event, zoomOptions)) {\n    return;\n  }\n\n  const rect = event.target.getBoundingClientRect();\n  const speed = 1 + (event.deltaY >= 0 ? -zoomOptions.wheel.speed : zoomOptions.wheel.speed);\n  const amount = {\n    x: speed,\n    y: speed,\n    focalPoint: {\n      x: event.clientX - rect.left,\n      y: event.clientY - rect.top\n    }\n  };\n\n  zoom(chart, amount);\n\n  if (onZoomComplete) {\n    onZoomComplete();\n  }\n}\n\nfunction addDebouncedHandler(chart, name, handler, delay) {\n  if (handler) {\n    getState(chart).handlers[name] = debounce(() => callback(handler, [{chart}]), delay);\n  }\n}\n\nfunction addListeners(chart, options) {\n  const canvas = chart.canvas;\n  const {wheel: wheelOptions, drag: dragOptions, onZoomComplete} = options.zoom;\n\n  // Install listeners. Do this dynamically based on options so that we can turn zoom on and off\n  // We also want to make sure listeners aren't always on. E.g. if you're scrolling down a page\n  // and the mouse goes over a chart you don't want it intercepted unless the plugin is enabled\n  if (wheelOptions.enabled) {\n    addHandler(chart, canvas, 'wheel', wheel);\n    addDebouncedHandler(chart, 'onZoomComplete', onZoomComplete, 250);\n  } else {\n    removeHandler(chart, 'wheel');\n  }\n  if (dragOptions.enabled) {\n    addHandler(chart, canvas, 'mousedown', mouseDown);\n    addHandler(chart, canvas.ownerDocument, 'mouseup', mouseUp);\n  } else {\n    removeHandler(chart, 'mousedown');\n    removeHandler(chart, 'mousemove');\n    removeHandler(chart, 'mouseup');\n  }\n}\n\nfunction removeListeners(chart) {\n  removeHandler(chart, 'mousedown');\n  removeHandler(chart, 'mousemove');\n  removeHandler(chart, 'mouseup');\n  removeHandler(chart, 'wheel');\n  removeHandler(chart, 'click');\n}\n\nfunction createEnabler(chart, state) {\n  return function(recognizer, event) {\n    const {pan: panOptions, zoom: zoomOptions = {}} = state.options;\n    if (!panOptions || !panOptions.enabled) {\n      return false;\n    }\n    const srcEvent = event && event.srcEvent;\n    if (!srcEvent) { // Sometimes Hammer queries this with a null event.\n      return true;\n    }\n    if (!state.panning && event.pointerType === 'mouse' && (\n      keyNotPressed(getModifierKey(panOptions), srcEvent) || keyPressed(getModifierKey(zoomOptions.drag), srcEvent))\n    ) {\n      callback(panOptions.onPanRejected, [{chart, event}]);\n      return false;\n    }\n    return true;\n  };\n}\n\nfunction pinchAxes(p0, p1) {\n  // fingers position difference\n  const pinchX = Math.abs(p0.clientX - p1.clientX);\n  const pinchY = Math.abs(p0.clientY - p1.clientY);\n\n  // diagonal fingers will change both (xy) axes\n  const p = pinchX / pinchY;\n  let x, y;\n  if (p > 0.3 && p < 1.7) {\n    x = y = true;\n  } else if (pinchX > pinchY) {\n    x = true;\n  } else {\n    y = true;\n  }\n  return {x, y};\n}\n\nfunction handlePinch(chart, state, e) {\n  if (state.scale) {\n    const {center, pointers} = e;\n    // Hammer reports the total scaling. We need the incremental amount\n    const zoomPercent = 1 / state.scale * e.scale;\n    const rect = e.target.getBoundingClientRect();\n    const pinch = pinchAxes(pointers[0], pointers[1]);\n    const mode = state.options.zoom.mode;\n    const amount = {\n      x: pinch.x && directionEnabled(mode, 'x', chart) ? zoomPercent : 1,\n      y: pinch.y && directionEnabled(mode, 'y', chart) ? zoomPercent : 1,\n      focalPoint: {\n        x: center.x - rect.left,\n        y: center.y - rect.top\n      }\n    };\n\n    zoom(chart, amount);\n\n    // Keep track of overall scale\n    state.scale = e.scale;\n  }\n}\n\nfunction startPinch(chart, state) {\n  if (state.options.zoom.pinch.enabled) {\n    state.scale = 1;\n  }\n}\n\nfunction endPinch(chart, state, e) {\n  if (state.scale) {\n    handlePinch(chart, state, e);\n    state.scale = null; // reset\n    callback(state.options.zoom.onZoomComplete, [{chart}]);\n  }\n}\n\nfunction handlePan(chart, state, e) {\n  const delta = state.delta;\n  if (delta) {\n    state.panning = true;\n    pan(chart, {x: e.deltaX - delta.x, y: e.deltaY - delta.y}, state.panScales);\n    state.delta = {x: e.deltaX, y: e.deltaY};\n  }\n}\n\nfunction startPan(chart, state, event) {\n  const {enabled, overScaleMode, onPanStart, onPanRejected} = state.options.pan;\n  if (!enabled) {\n    return;\n  }\n  const rect = event.target.getBoundingClientRect();\n  const point = {\n    x: event.center.x - rect.left,\n    y: event.center.y - rect.top\n  };\n\n  if (callback(onPanStart, [{chart, event, point}]) === false) {\n    return callback(onPanRejected, [{chart, event}]);\n  }\n\n  state.panScales = overScaleMode && getEnabledScalesByPoint(overScaleMode, point, chart);\n  state.delta = {x: 0, y: 0};\n  clearTimeout(state.panEndTimeout);\n  handlePan(chart, state, event);\n}\n\nfunction endPan(chart, state) {\n  state.delta = null;\n  if (state.panning) {\n    state.panEndTimeout = setTimeout(() => (state.panning = false), 500);\n    callback(state.options.pan.onPanComplete, [{chart}]);\n  }\n}\n\nconst hammers = new WeakMap();\nfunction startHammer(chart, options) {\n  const state = getState(chart);\n  const canvas = chart.canvas;\n  const {pan: panOptions, zoom: zoomOptions} = options;\n\n  const mc = new Hammer.Manager(canvas);\n  if (zoomOptions && zoomOptions.pinch.enabled) {\n    mc.add(new Hammer.Pinch());\n    mc.on('pinchstart', () => startPinch(chart, state));\n    mc.on('pinch', (e) => handlePinch(chart, state, e));\n    mc.on('pinchend', (e) => endPinch(chart, state, e));\n  }\n\n  if (panOptions && panOptions.enabled) {\n    mc.add(new Hammer.Pan({\n      threshold: panOptions.threshold,\n      enable: createEnabler(chart, state)\n    }));\n    mc.on('panstart', (e) => startPan(chart, state, e));\n    mc.on('panmove', (e) => handlePan(chart, state, e));\n    mc.on('panend', () => endPan(chart, state));\n  }\n\n  hammers.set(chart, mc);\n}\n\nfunction stopHammer(chart) {\n  const mc = hammers.get(chart);\n  if (mc) {\n    mc.remove('pinchstart');\n    mc.remove('pinch');\n    mc.remove('pinchend');\n    mc.remove('panstart');\n    mc.remove('pan');\n    mc.remove('panend');\n    mc.destroy();\n    hammers.delete(chart);\n  }\n}\n\nvar version = \"1.2.0\";\n\nvar plugin = {\n  id: 'zoom',\n\n  version,\n\n  defaults: {\n    pan: {\n      enabled: false,\n      mode: 'xy',\n      threshold: 10,\n      modifierKey: null,\n    },\n    zoom: {\n      wheel: {\n        enabled: false,\n        speed: 0.1,\n        modifierKey: null\n      },\n      drag: {\n        enabled: false,\n        modifierKey: null\n      },\n      pinch: {\n        enabled: false\n      },\n      mode: 'xy',\n    }\n  },\n\n  start: function(chart, _args, options) {\n    const state = getState(chart);\n    state.options = options;\n\n    if (Object.prototype.hasOwnProperty.call(options.zoom, 'enabled')) {\n      console.warn('The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`.');\n    }\n\n    if (Hammer) {\n      startHammer(chart, options);\n    }\n\n    chart.pan = (delta, panScales, transition) => pan(chart, delta, panScales, transition);\n    chart.zoom = (args, transition) => zoom(chart, args, transition);\n    chart.zoomScale = (id, range, transition) => zoomScale(chart, id, range, transition);\n    chart.resetZoom = (transition) => resetZoom(chart, transition);\n    chart.getZoomLevel = () => getZoomLevel(chart);\n    chart.getInitialScaleBounds = () => getInitialScaleBounds(chart);\n    chart.isZoomedOrPanned = () => isZoomedOrPanned(chart);\n  },\n\n  beforeEvent(chart) {\n    const state = getState(chart);\n    if (state.panning || state.dragging) {\n      // cancel any event handling while panning or dragging\n      return false;\n    }\n  },\n\n  beforeUpdate: function(chart, args, options) {\n    const state = getState(chart);\n    state.options = options;\n    addListeners(chart, options);\n  },\n\n  beforeDatasetsDraw: function(chart, args, options) {\n    const {dragStart, dragEnd} = getState(chart);\n\n    if (dragEnd) {\n      const {left, top, width, height} = computeDragRect(chart, options.zoom.mode, dragStart, dragEnd);\n\n      const dragOptions = options.zoom.drag;\n      const ctx = chart.ctx;\n\n      ctx.save();\n      ctx.beginPath();\n      ctx.fillStyle = dragOptions.backgroundColor || 'rgba(225,225,225,0.3)';\n      ctx.fillRect(left, top, width, height);\n\n      if (dragOptions.borderWidth > 0) {\n        ctx.lineWidth = dragOptions.borderWidth;\n        ctx.strokeStyle = dragOptions.borderColor || 'rgba(225,225,225)';\n        ctx.strokeRect(left, top, width, height);\n      }\n      ctx.restore();\n    }\n  },\n\n  stop: function(chart) {\n    removeListeners(chart);\n\n    if (Hammer) {\n      stopHammer(chart);\n    }\n    removeState(chart);\n  },\n\n  panFunctions,\n\n  zoomFunctions\n};\n\nexport { plugin as default, pan, resetZoom, zoom, zoomScale };\n","import {Chart, registerables} from '../dist/chart.esm';\n\nChart.register(...registerables);\n\nexport default Chart;\n","import React, {\n  useEffect,\n  useState,\n  useRef,\n  useImperativeHandle,\n  useMemo,\n  forwardRef,\n} from 'react';\n// eslint-disable-next-line no-unused-vars\nimport { Props } from './types';\n\nimport Chart from 'chart.js/auto';\n\nimport merge from 'lodash/merge';\nimport assign from 'lodash/assign';\nimport find from 'lodash/find';\n\nconst ChartComponent = forwardRef<Chart | undefined, Props>((props, ref) => {\n  const {\n    id,\n    className,\n    height = 150,\n    width = 300,\n    redraw = false,\n    type,\n    data,\n    options = {},\n    plugins = [],\n  } = props;\n\n  const canvas = useRef<HTMLCanvasElement>(null);\n\n  const computedData = useMemo<Chart.ChartData>(() => {\n    if (typeof data === 'function') {\n      return canvas.current ? data(canvas.current) : {};\n    } else return merge({}, data);\n  }, [data, canvas.current]);\n\n  const [chart, setChart] = useState<Chart>();\n\n  useImperativeHandle<Chart | undefined, Chart | undefined>(ref, () => chart, [\n    chart,\n  ]);\n\n  const renderChart = () => {\n    if (!canvas.current) return;\n\n    setChart(\n      new Chart(canvas.current, {\n        type,\n        data: computedData,\n        options,\n        plugins,\n      })\n    );\n  };\n\n  const onClick = (e: React.MouseEvent<HTMLCanvasElement>) => {\n    if (!chart) return;\n\n    const { getDatasetAtEvent, getElementAtEvent, getElementsAtEvent } = props;\n\n    getDatasetAtEvent &&\n      getDatasetAtEvent(\n        chart.getElementsAtEventForMode(\n          e,\n          'dataset',\n          { intersect: true },\n          false\n        ),\n        e\n      );\n    getElementAtEvent &&\n      getElementAtEvent(\n        chart.getElementsAtEventForMode(\n          e,\n          'nearest',\n          { intersect: true },\n          false\n        ),\n        e\n      );\n    getElementsAtEvent &&\n      getElementsAtEvent(\n        chart.getElementsAtEventForMode(e, 'index', { intersect: true }, false),\n        e\n      );\n  };\n\n  const updateChart = () => {\n    if (!chart) return;\n    console.log('update!');\n\n    if (options) {\n      chart.options = { ...options };\n    }\n\n    if (!chart.config.data) {\n      chart.config.data = computedData;\n      chart.update();\n      return;\n    }\n\n    const { datasets: newDataSets = [], ...newChartData } = computedData;\n\n    // copy values\n    assign(chart.config.data, newChartData);\n\n    chart.data.datasets.map((currentDataSet: any) => {\n      // given the new set, find it's current match\n      const newDataSet: any = find(\n        newDataSets,\n        d => d.label === currentDataSet.label && d.type === currentDataSet.type\n      );\n\n      // There is no original to update, so simply add new one\n      if (!currentDataSet || !newDataSet.data) return newDataSet;\n\n      if (!currentDataSet.data) {\n        currentDataSet.data = [];\n      } else {\n        currentDataSet.data.length = newDataSet.data.length;\n      }\n\n      // copy in values\n      assign(currentDataSet.data, newDataSet.data);\n\n      // apply dataset changes, but keep copied data\n      return {\n        ...currentDataSet,\n        ...newDataSet,\n        data: currentDataSet.data,\n      };\n    });\n\n    chart.update();\n  };\n\n  const destroyChart = () => {\n    if (chart) chart.destroy();\n  };\n\n  useEffect(() => {\n    renderChart();\n\n    return () => destroyChart();\n  }, []);\n\n  useEffect(() => {\n    if (redraw) {\n      destroyChart();\n      setTimeout(() => {\n        renderChart();\n      }, 0);\n    } else {\n      updateChart();\n    }\n  }, [props, computedData]);\n\n  return (\n    <canvas\n      height={height}\n      width={width}\n      ref={canvas}\n      id={id}\n      className={className}\n      onClick={onClick}\n      data-testid='canvas'\n    />\n  );\n});\n\nexport default ChartComponent;\n","import React, { forwardRef } from 'react';\n// eslint-disable-next-line no-unused-vars\nimport { Props } from './types';\nimport ChartComponent from './chart';\n// eslint-disable-next-line no-unused-vars\nimport Chart from 'chart.js/auto';\nimport * as chartjs from 'chart.js';\n\nexport const Line = forwardRef<Chart | undefined, Props>((props, ref) => (\n  <ChartComponent\n    {...props}\n    type='line'\n    ref={ref}\n    options={props.options || {}}\n  />\n));\n\nexport const Bar = forwardRef<Chart | undefined, Props>((props, ref) => (\n  <ChartComponent\n    {...props}\n    type='bar'\n    ref={ref}\n    options={props.options || {}}\n  />\n));\n\nexport const Radar = forwardRef<Chart | undefined, Props>((props, ref) => (\n  <ChartComponent\n    {...props}\n    type='radar'\n    ref={ref}\n    options={props.options || {}}\n  />\n));\n\nexport const Doughnut = forwardRef<Chart | undefined, Props>((props, ref) => (\n  <ChartComponent\n    {...props}\n    type='doughnut'\n    ref={ref}\n    options={props.options || {}}\n  />\n));\n\nexport const PolarArea = forwardRef<Chart | undefined, Props>((props, ref) => (\n  <ChartComponent\n    {...props}\n    type='polarArea'\n    ref={ref}\n    options={props.options || {}}\n  />\n));\n\nexport const Bubble = forwardRef<Chart | undefined, Props>((props, ref) => (\n  <ChartComponent\n    {...props}\n    type='bubble'\n    ref={ref}\n    options={props.options || {}}\n  />\n));\n\nexport const Pie = forwardRef<Chart | undefined, Props>((props, ref) => (\n  <ChartComponent\n    {...props}\n    type='pie'\n    ref={ref}\n    options={props.options || {}}\n  />\n));\n\nexport const Scatter = forwardRef<Chart | undefined, Props>((props, ref) => (\n  <ChartComponent\n    {...props}\n    type='scatter'\n    ref={ref}\n    options={props.options || {}}\n  />\n));\n\nexport const defaults = chartjs.defaults;\n\nexport const Chart = chartjs.Chart;\n\nexport default ChartComponent;\n","import { utils, BigNumber } from 'ethers'\n\nexport const shortenAddressString = (address: string) => {\n  return (\n    address.slice?.(0, 6) +\n    '...' +\n    address.slice?.(address.length - 4, address.length)\n  )\n}\n\nexport const weiToNumber = (wei: any, decimal: number = 18) => {\n  if (!wei || !Number(wei)) return '0'\n  wei = wei.toString()\n  let number = utils.formatUnits(wei, decimal)\n  const arr = number.split('.')\n  if (arr.length > 0) {\n    arr[1] = arr[1].slice(0, 4)\n  }\n  number = arr.join('.')\n  return number.slice(-2) === '.0' ? number.slice(0, -2) : number\n}\n\nexport const weiToExactNumber = (wei: any, decimal: number = 18) => {\n  if (!wei || !Number(wei)) return '0'\n  wei = wei.toString()\n  return utils.formatUnits(wei, decimal)\n}\n\nexport const formatFloat = (number: any, decimal: number = 2) => {\n  number = number.toString()\n  const arr = number.split('.')\n  if (arr.length > 1) {\n    arr[1] = arr[1].slice(0, decimal)\n  }\n  return arr.join('.')\n}\n\nexport const mul = (a: any, b: any) => {\n  return BigNumber.from(a).mul(b).toString()\n}\n\nexport const sub = (a: any, b: any) => {\n  return BigNumber.from(a).sub(b).toString()\n}\n\nexport const div = (a: any, b: any) => {\n  return BigNumber.from(a).div(b).toString()\n}\n\nexport const add = (a: any, b: any) => {\n  return BigNumber.from(a).add(b).toString()\n}\n\nexport const numberToWei = (number: any, decimal: number = 18) => {\n  number = number.toString()\n  return utils.parseUnits(number, decimal).toString()\n}\n\nexport function parseSolidityRevertMessage(res: any) {\n  if (!res) {\n    return\n  }\n  if (res.startsWith('0x')) {\n    res = res.substring(2)\n  }\n  // look for solidity revert message\n  if (res.length < 2 * (4 + 32 + 32)) {\n    return\n  }\n  const SolidityErrorSignature = '08c379a0' // KECCAK(\"Error(string)\")\n  if (!res.startsWith(SolidityErrorSignature)) {\n    return\n  }\n  res = res.substring(4 * 2)\n  const offset = parseInt(res.substring(0, 32 * 2), 16) * 2\n  res = res.substring(32 * 2)\n  const size = parseInt(res.substring(0, 32 * 2), 16) * 2\n  if (res.length < offset + size) {\n    return\n  }\n  res = res.substring(offset, offset + size)\n  return hex2ASCII(res)\n}\n\nfunction hex2ASCII(str1: any) {\n  var hex = str1.toString()\n  var str = ''\n  for (var n = 0; n < hex.length; n += 2) {\n    str += String.fromCharCode(parseInt(hex.substr(n, 2), 16))\n  }\n  return str\n}\nexport function formatAddressBalances<T extends { toString: () => string }>(\n  values: T[],\n  addresses: string[],\n  tokens: string[]\n): {\n  [address: string]: {\n    [tokenAddress: string]: string\n  }\n} {\n  const balances: {\n    [address: string]: {\n      [tokenAddress: string]: string\n    }\n  } = {}\n  addresses.forEach((addr, addrIdx) => {\n    balances[addr] = {}\n    tokens.forEach((tokenAddr, tokenIdx) => {\n      const balance = values[addrIdx * tokens.length + tokenIdx]\n      balances[addr][tokenAddr] = balance.toString()\n    })\n  })\n  return balances\n}\n// Time-based cache buster\nexport const getApiCacheBuster = () => {\n  return Math.trunc(Date.now() / (1000 * 60))\n}\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","export type configType =\n  | 'SFARM_API_ENDPOINT'\n  | 'TOKEN_INFO_ENDPOINT'\n  | 'CGK_API_ENDPOINT'\n  | 'FARMY_API_ENDPOINT'\n  | 'REFERRAL_CONTRACT_ADDRESS'\n  | 'LARGE_VALUE'\n  | 'ZERO_ADDRESS'\n\nconst configs = {\n  production: {\n    SFARM_API_ENDPOINT: 'https://api.lz.finance/sfarm',\n    TOKEN_INFO_ENDPOINT: 'https://wallet-api.ezdefi.com/api/tokens/extension',\n    CGK_API_ENDPOINT: 'https://api.coingecko.com/',\n    FARMY_API_ENDPOINT: 'https://farm.army',\n    REFERRAL_CONTRACT_ADDRESS: '0xE4743Ed9Fb84D11038A29F5083fba9bb153145ee',\n    LARGE_VALUE:\n      '0x8000000000000000000000000000000000000000000000000000000000000000',\n    ZERO_ADDRESS: '0x0000000000000000000000000000000000000000'\n  },\n  development: {\n    SFARM_API_ENDPOINT: 'https://test-api.lz.finance/sfarm'\n  }\n}\n\nlet env = 'production'\nexport const setupConfig = (newEnv: string) => {\n  env = newEnv\n}\n\nexport const getConfig = (config: configType) => {\n  return configs[env][config] ?? configs.production[config]\n}\n","import en from './en'\n\nconst sourceString = {\n  en\n}\n\n// default language\nlet lang = 'en'\n\nexport const setLang = (language: string) => {\n  if (sourceString[language]) {\n    lang = language\n  }\n}\n\nexport const getText = (key: string) => {\n  return sourceString[lang][key] ? sourceString[lang][key] : key\n}\n","export default {\n  deposit: 'Deposit',\n  usdz: 'USDZ',\n  withdraw: 'Withdraw',\n  balance: 'Balance',\n  minutes: 'Minute(s)',\n  hours: 'Hour(s)',\n  days: 'Day(s)',\n  months: 'Month(s)',\n\n  // toast message\n  deposit_success: 'Deposit Success',\n  withdraw_success: 'Withdraw Success',\n  harvest_success: 'Harvest Success',\n\n  // Bank block\n  total_harvested: 'Total Harvested',\n  contribution_avg: 'Contribution (avg.)',\n  total_harvestable: 'Harvestable',\n\n  // Wallet block\n  contribution: 'Contribution',\n  unlocked_in: 'Unlocked in',\n  harvestable: 'Harvestable',\n  harvest: 'Harvest',\n\n  // asset block\n  assets: 'Assets',\n  asset: 'Asset',\n  sort_balance_low_to_high: 'Balance: low to high',\n  sort_balance_high_to_low: 'Balance: high to low',\n  search_farm: 'Search Asset',\n  token: 'Token',\n  apy: 'APY',\n\n  // modal\n  bank: 'Bank',\n  amount: 'Amount',\n  max: 'Max',\n  enable: 'Enable',\n  available: 'Available',\n\n  // fund map\n  fund_map: 'Fund map',\n  view_on_bscscan: 'View on Bscscan',\n  fund: 'Fund',\n  price: 'Price',\n  quantity: 'Quantity',\n  liquidity: 'Liquidity',\n  value: 'Value',\n  unallocated: 'Unallocated',\n  others: 'Others',\n  depositWarning:\n    'This deposit will start to yield interest after a day from now. Withdrawal may be locked until that point.',\n  withdrawWarining:\n    'You may need to perform more than one withdrawal with different tokens to have your entire deposit back.',\n  connectGuide: 'Please connect to Binance Smart Chain network.',\n  unharvestedEst: 'Pending yield (est.)',\n  unHarvestedEstWarning:\n    \"It has been %d day(s) since the last time DeBank harvested. The best time for you to harvest is right after DeBank does. Withdrawing does not affect your yield, but harvesting now is not yet optimal.\"\n}\n","import { ethers, BigNumber } from 'ethers'\nimport { getConfig } from '../utils/config'\nimport {\n  div,\n  formatFloat,\n  numberToWei,\n  mul,\n  add,\n  weiToNumber,\n  formatAddressBalances,\n  getApiCacheBuster\n} from '../utils/helpers'\nimport { getText } from '../utils/lang'\nimport _, { capitalize, toLower, uniq } from 'lodash'\nimport BalanceCheckerAbi from '../assets/abis/BalanceChecker.abi.json'\nimport MulticallAbi from '../assets/abis/Multicall.abi.json'\nimport { abi as erc20 } from '../assets/abis/IERC20.json'\nimport bscPools from '../assets/bsc_pools.json'\nimport { toast } from 'react-toastify'\nconst BalanceCheckerAddrees = '0x2352c63A83f9Fd126af8676146721Fa00924d7e4'\nconst multicallAddress = '0x41263cba59eb80dc200f3e2544eda4ed6a90e76c'\nconst limitRetry = 8\nconst calFund = (totalBalance: string, balance: string) => {\n  const fund = div(mul(balance, numberToWei(100)), totalBalance)\n  return fund\n}\nexport const TOKEN_LEVEL = {\n  STAKE: 2,\n  RECEIVING: 1,\n  REMOVE: 0\n}\n\nconst SECONDS_IN_MINUTE = 60\nconst SECONDS_IN_HOUR = 3600\nconst SECONDS_IN_DAY = 86400\nconst SECONDS_IN_MONTH = 2592000\n\ntype platform = {\n  apePoolAddress: string\n  apy: string\n  depositAmount: string\n  depositUsd: string\n  fund: string\n  icon: string\n  label: string\n  lpAddress: string\n  names: string[]\n  value: number\n}\ntype fund = {\n  [lpAddress: string]: {\n    balance: string\n    tokens: {\n      [token: string]: string\n    }\n  }\n}\nconst keyStateByAccount = [\n  'harvestable',\n  'stake',\n  'referralRates',\n  'subsidyRate',\n  'contribution',\n  'contributionPercent',\n  'tokens'\n]\nconst rpcUrl = ['https://bsc-dataseed.binance.org/']\nexport const providerNotSigner = new ethers.providers.JsonRpcProvider(rpcUrl[0])\nconst getBeefyUrl = () => {\n  const cacheBuster = getApiCacheBuster()\n  return `https://api.beefy.finance/apy/breakdown?_=${cacheBuster}`\n}\n/**\n * Load data from localStorage\n * @param key string\n * @returns\n */\nconst loadData = (key: string) => {\n  return JSON.parse(window.localStorage.getItem(key) ?? 'null')\n}\n/**\n * Save data to localStorage\n * @param key\n * @param fn\n */\nconst saveData = (key: string, fn = (state: any) => state) => {\n  const oldState = loadData(key) || {}\n  const newState = fn(oldState)\n  window.localStorage.setItem(key, JSON.stringify(newState))\n}\nexport const fetchData = async ({\n  account,\n  provider,\n  setData\n}: {\n  provider: any\n  account: any\n  setData: any\n}): Promise<any> => {\n  if (!provider) {\n    provider = providerNotSigner\n    account = getConfig('ZERO_ADDRESS')\n  }\n  // Load caching\n  loadCache(account, setData)\n  try {\n    const stateData = await fetchInitialState(provider)\n    const bankTokenBalances = await getBankTokenBalancesByContract(\n      provider,\n      [stateData.contractAddress],\n      stateData.bankTokenBalances\n    )\n    stateData.bankTokenBalances = bankTokenBalances\n    // get account balance in each token\n    const tokenAddress = stateData.tokens.map((tk: any) => tk.address)\n    const tokenBalance: {\n      [address: string]: string\n    } =\n      account === getConfig('ZERO_ADDRESS')\n        ? tokenAddress.map((tk: string) => ({ [tk]: '0' }))\n        : await getTokenBalance(provider, [account], tokenAddress)\n    const tokenAllowance: BigNumber[] =\n      account === getConfig('ZERO_ADDRESS')\n        ? tokenAddress.map(() => '0')\n        : await getTokenAllowance(\n            provider.getSigner(),\n            stateData.contractAddress,\n            tokenAddress,\n            account,\n            stateData.contractABI\n          )\n    // @ts-ignore\n    const stakeQueryData = await fetchStakeQueryData(\n      provider,\n      account,\n      stateData\n    )\n    const moreQueryConfig = stakeQueryData[1]\n    const totalEarn = await getBalance({\n      provider,\n      account: stateData.contractAddress,\n      contractABI: stateData.contractABI,\n      // @ts-ignore\n      tokenAddress: moreQueryConfig.earnToken\n    })\n\n    // @ts-ignore\n    const harvestable =\n      // @ts-ignore\n      Number(stakeQueryData[0].totalValue) === 0\n        ? 0\n        : div(\n            // @ts-ignore\n            mul(stakeQueryData[0].value, totalEarn),\n            // @ts-ignore\n            stakeQueryData[0].totalValue\n          )\n\n    const tokens = stateData.tokens\n    for (const i in tokens) {\n      tokens[i].balance = tokenBalance[tokens[i].address]\n        ? BigNumber.from(tokenBalance[tokens[i].address]).toString()\n        : '0'\n      tokens[i].accAllowance = tokenAllowance[i]\n        ? tokenAllowance[i].toString()\n        : '0'\n    }\n    const state = {\n      // @ts-ignore\n      ...stakeQueryData[0],\n      ...stateData,\n      ...moreQueryConfig,\n      totalEarn: totalEarn.toString(),\n      harvestable,\n      tokens,\n      lockedSeconds: stakeQueryData[2]\n    }\n    setData(state, account)\n    storeCache(state, account)\n  } catch (error) {}\n}\nexport const fetchStakeQueryData = async (\n  provider: any,\n  account: any,\n  stateData: any,\n  retry = 0\n): Promise<any> => {\n  try {\n    const promises = [\n      // get stake query\n      fetchStakeQuery({\n        provider,\n        account,\n        contractABI: stateData.contractABI,\n        contractAddress: stateData.contractAddress\n      }),\n      getMoreQueryConfig({\n        provider,\n        contractABI: stateData.contractABI,\n        contractAddress: stateData.contractAddress\n      }),\n      getLockedSeconds({\n        provider,\n        address: account,\n        bankAddress: stateData.contractAddress\n      })\n    ]\n    const stakeQueryData = await Promise.all([...promises])\n    saveData('stakeQueryData', (oldState) => {\n      oldState[account] = stakeQueryData\n      return oldState\n    })\n    return stakeQueryData\n  } catch (error) {\n    if (retry > limitRetry) {\n      toast.error('State data cannot be load, please try again later.')\n      const oldState = loadData('stakeQueryData')\n      if (oldState) return oldState[account]\n      return Promise.reject(error)\n    }\n    return await fetchStakeQueryData(provider, account, stateData, ++retry)\n  }\n}\nexport const loadCache = (account: any, setData?: any): any => {\n  try {\n    if (!account) return {}\n    // Load caching\n    const oldState = JSON.parse(window.localStorage.getItem('state') ?? 'null')\n    if (oldState) {\n      const tmp = {}\n      for (const key in oldState) {\n        if (Object.prototype.hasOwnProperty.call(oldState, key)) {\n          const data = oldState[key]\n          if (keyStateByAccount.includes(key)) {\n            tmp[key] = data[account]\n          } else {\n            tmp[key] = data\n          }\n        }\n      }\n      // Apply caching\n      setData && setData(tmp, account)\n      return tmp\n    }\n    return {}\n  } catch (error) {\n    return {}\n    console.error('load cache error', error)\n  }\n}\nexport const storeCache = (state: any, account: any) => {\n  const oldState = JSON.parse(window.localStorage.getItem('state') ?? 'null')\n  const caching = oldState || {}\n  for (const key in state) {\n    if (Object.prototype.hasOwnProperty.call(state, key)) {\n      const data = state[key]\n      if (keyStateByAccount.includes(key)) {\n        caching[key] = caching[key]\n          ? { ...caching[key], [account]: state[key] }\n          : { [account]: state[key] }\n      } else {\n        caching[key] = data\n      }\n    }\n  }\n  // Caching state\n  window.localStorage.setItem('state', JSON.stringify(caching))\n}\nexport const getTokenAllowance = async (\n  provider: any,\n  contractAddress: string,\n  tokens: string[],\n  account: string,\n  contractAbi: any,\n  retry = 0\n): Promise<any> => {\n  try {\n    const callData = tokens.map((tk) => {\n      return {\n        address: tk,\n        name: 'allowance',\n        params: [account, contractAddress]\n      }\n    })\n    const res = await multicall(contractAbi, callData, provider)\n\n    const ret = res.map((allowance: any) => allowance[0])\n    saveData('tokenAllowance', (oldState) => {\n      oldState[account] = ret\n      return oldState\n    })\n    return ret\n  } catch (error) {\n    if (retry > limitRetry) {\n      toast.error('Token allowance cannot be load, please try again later.')\n      const oldState = loadData('tokenAllowance')\n      if (oldState) return oldState[account]\n      return Promise.reject(error)\n    }\n    return await getTokenAllowance(\n      provider,\n      contractAddress,\n      tokens,\n      account,\n      contractAbi,\n      ++retry\n    )\n  }\n}\nexport const multicall = async <T = any>(\n  abi: any[],\n  calls: {\n    address: string // Address of the contract\n    name: string // Function name on the contract (example: balanceOf)\n    params?: any[] // Function params\n  }[],\n  provider: any\n): Promise<T> => {\n  try {\n    const multi = new ethers.Contract(multicallAddress, MulticallAbi, provider)\n    const itf = new ethers.utils.Interface(abi)\n\n    const calldata = calls.map((call) => [\n      call.address.toLowerCase(),\n      itf.encodeFunctionData(call.name, call.params)\n    ])\n    const { returnData } = await multi.aggregate(calldata)\n\n    const res = returnData.map((call: any, i: any) =>\n      itf.decodeFunctionResult(calls[i].name, call)\n    )\n    return res\n  } catch (error) {\n    console.log('errors', error)\n    throw new Error(error)\n  }\n}\n\nexport const getTokenBalance = async (\n  provider: any,\n  accounts: string[],\n  tokens: string[],\n  reTry = 0\n): Promise<{ [key: string]: string }> => {\n  try {\n    const balanceContract = new ethers.Contract(\n      BalanceCheckerAddrees,\n      BalanceCheckerAbi,\n      provider\n    )\n    const tokenAddress = tokens\n    const balances = await balanceContract.balances(accounts, tokenAddress)\n    const res = formatAddressBalances(balances, accounts, tokenAddress)\n    saveData('tokenBalance', (oldState) => {\n      oldState[accounts[0]] = res[accounts[0]]\n      return oldState\n    })\n    return res[accounts[0]]\n  } catch (error) {\n    if (reTry > limitRetry) {\n      toast.error('Token balance cannot be load, please try again later.')\n      const oldState = loadData('tokenBalance')\n      if (oldState) return oldState[accounts[0]]\n      return Promise.reject(error)\n    }\n    return await getTokenBalance(provider, accounts, tokens, ++reTry)\n  }\n}\nexport const getBankTokenBalancesByContract = async (\n  provider: any,\n  accounts: string[],\n  bankTokenBalances: {\n    [token: string]: string\n  },\n  reTry = 0\n): Promise<{ [key: string]: string }> => {\n  try {\n    const balanceContract = new ethers.Contract(\n      BalanceCheckerAddrees,\n      BalanceCheckerAbi,\n      provider\n    )\n    const tokenAddress = Object.keys(bankTokenBalances)\n    const balances = await balanceContract.balances(accounts, tokenAddress)\n    const res = formatAddressBalances(balances, accounts, tokenAddress)\n    return res[accounts[0]]\n  } catch (error) {\n    if (reTry > limitRetry) {\n      return bankTokenBalances\n    }\n    return await getBankTokenBalancesByContract(\n      provider,\n      accounts,\n      bankTokenBalances,\n      ++reTry\n    )\n  }\n}\nexport const fetchInitialState = async (\n  provider: any,\n  retry = 0\n): Promise<any> => {\n  try {\n    const keys = ['tokens', 'harvested']\n    const keysQuery = keys.join(',')\n    const parts = await Promise.all([\n      fetch(`${getConfig('SFARM_API_ENDPOINT')}/sfarm/queryConfig`)\n        .then((m) => m.json())\n        .then((m) => m.data),\n      fetch(`${getConfig('SFARM_API_ENDPOINT')}/sfarm/state/${keysQuery}`)\n        .then((m) => m.json())\n        .then((m) => m.data),\n      fetch(getConfig('TOKEN_INFO_ENDPOINT')).then((m) => m.json()),\n      fetch(`${getConfig('SFARM_API_ENDPOINT')}/sfarm/balance`)\n        .then((m) => m.json())\n        .then((m) => m.data)\n        .then((m) => _.pickBy(m, (v: any) => v !== '0')),\n      fetch(`${getConfig('SFARM_API_ENDPOINT')}/sfarm/liquidity`)\n        .then((m) => m.json())\n        .then((m) => m.data),\n      initFarmData(),\n      fetch(`${getConfig('SFARM_API_ENDPOINT')}/sfarm/funds`)\n        .then((m) => m.json())\n        .then((m) => m.data),\n      fetch(getBeefyUrl()).then((m) => m.json())\n    ])\n\n    const fullFundPlatforms = await getFullFundPlatforms(\n      parts[5],\n      parts[1]['sfarm-tokens'],\n      parts[3],\n      parts[6],\n      parts[7],\n      provider\n    )\n    const data = parts\n      .slice(0, 2)\n      .reduce((data, part) => Object.assign(data, part), {})\n\n    const tokensInfo = parts[2]\n    let tokens = mapToArray(data['sfarm-tokens'])\n      .filter((token: any) => {\n        return token.mask === TOKEN_LEVEL.STAKE\n      })\n      .map((token: any) => {\n        const tokenInfo = tokensInfo.find(\n          (e: any) => e?.address?.toLowerCase() === token.address.toLowerCase()\n        )\n        return { ...tokenInfo, ...token }\n      })\n    tokens = await manualGetInfoToken(tokens, provider)\n    const result = {\n      harvested: data['sfarm-harvested'],\n      contractAddress: data.contractAddress,\n      contractABI: data.contractABI,\n      tokens: tokens,\n      bankTokens: data['sfarm-tokens'],\n      bankTokenBalances: parts[3],\n      bankLiquidity: parts[4],\n      lzToken: tokensInfo.find(\n        (e: any) => e?.address?.toLowerCase() === data.earnToken.toLowerCase()\n      ),\n      tokensInfo,\n      ...fullFundPlatforms\n    }\n    saveData('fetchInitialState', () => result)\n    return result\n  } catch (error) {\n    if (retry > limitRetry) {\n      toast.error('Initial data cannot be load, please try again later.')\n      const oldState = loadData('fetchInitialState')\n      if (oldState) return oldState\n      return Promise.reject(error)\n    }\n    console.info('retry fetch initial data')\n    return await fetchInitialState(provider, ++retry)\n  }\n}\n/**\n * Manual fetch info of token not in tokensInfo\n * @param tokens\n * @param provider\n * @returns\n */\nconst manualGetInfoToken = async (tokens: any[], provider: any) => {\n  const tokenMissInfo = tokens\n    .filter((tk) => !tk.symbol)\n    .reduce((result, next) => {\n      result[next.address] = next\n      return result\n    }, {})\n  const tokenMissInfoAddress = Object.values(tokenMissInfo)\n  if (tokenMissInfoAddress.length) {\n    const newTokenInfo = await Promise.all(\n      tokenMissInfoAddress.map((tk: any) => getTokenInfo(tk.address, provider))\n    )\n    newTokenInfo.forEach(({ address, symbol, name }) => {\n      tokenMissInfo[address] = {\n        ...tokenMissInfo[address],\n        symbol: symbol,\n        name,\n        logo: `${getConfig('FARMY_API_ENDPOINT')}/token/${symbol}.webp`\n      }\n    })\n    tokens = tokens\n      .filter((tk) => tk.symbol)\n      .concat(Object.values(tokenMissInfo))\n  }\n  return tokens\n}\nconst getFullFundPlatforms = async (\n  initFarmData: any,\n  farmTokens: { [token: string]: number }[],\n  balances: {\n    [token: string]: any\n  },\n  funds: fund,\n  aprData: any,\n  provider: any\n) => {\n  const balanceUnallocated: { [token: string]: string } = Object.keys(\n    farmTokens\n  ).reduce((result, next) => {\n    if (farmTokens[next] === 2) {\n      result[next] = balances[next] || '0'\n      return result\n    }\n    return result\n  }, {})\n\n  let totalBalance: string = Object.values(balanceUnallocated).reduce(\n    (total: string, balance: string) => {\n      return add(total, balance)\n    },\n    '0'\n  )\n\n  const { fundPlatforms } = initFarmData\n  let platforms: {\n    apePoolAddress: string\n    apy: string\n    depositAmount: string\n    depositUsd: string\n    fund: string\n    icon: string\n    label: string\n    lpAddress: string\n    names: string[]\n    value: number\n  }[] = []\n  const tokenList: any[] = uniq(\n    Object.keys(balances).concat(Object.keys(farmTokens))\n  )\n  // Fetch token info\n  const tokensInfor = await Promise.all(\n    tokenList.map((tokenAddress) => getTokenInfo(tokenAddress, provider))\n  ).then((data) =>\n    data.reduce((result: any, next) => {\n      result[next.address] = next\n      return result\n    }, {})\n  )\n  for (const lpAddress in funds) {\n    // Map quantity of fund\n    const balance = funds[lpAddress].balance\n\n    const tokens = funds[lpAddress].tokens\n    // Cal value of fund\n    const value = Object.values(tokens).reduce((result, next) => {\n      result = add(result, next)\n      return result\n    }, '0')\n    totalBalance = add(totalBalance, value)\n    // Find name, label, PoolAddress of Fund\n    let names: any = []\n    let apePoolAddress = ''\n    const platformFarmarmy =\n      fundPlatforms.find(({ extra }: any) => {\n        const { lpAddress: lpAddressExtra, transactionToken } = extra\n        return lpAddressExtra === lpAddress || transactionToken === lpAddress\n      }) || {}\n    names = platformFarmarmy.name ? platformFarmarmy.name.split('-') : []\n    apePoolAddress = platformFarmarmy.extra\n      ? platformFarmarmy.extra.transactionAddress\n      : ''\n    // Find id of farm from https://www.beefy.finance/\n    const id = bscPools[lpAddress]\n    platforms.push({\n      apePoolAddress: apePoolAddress,\n      lpAddress: lpAddress,\n      depositUsd: '',\n      apy: id && aprData[id] ? numberToWei(aprData[id].totalApy * 100) : '',\n      names: names,\n      label: capitalize(platformFarmarmy.platform) || '',\n      icon: platformFarmarmy.icon\n        ? `https://farm.army/assets/platforms/${toLower(\n            platformFarmarmy.platform\n          )}.png`\n        : '',\n      value: parseFloat(weiToNumber(value)),\n      depositAmount: balance,\n      fund: ''\n    })\n  }\n\n  // Mapping fund\n  platforms = platforms.map((el) => {\n    const fund = calFund(totalBalance, numberToWei(el.value))\n    return { ...el, fund: fund.toString() }\n  })\n  // Mapping names, label\n  platforms = platforms.map((el) => ({\n    ...el,\n    names:\n      el.names ||\n      Object.keys(funds[el.lpAddress].tokens).map(\n        (tk) => tokensInfor[tk].symbol\n      )\n  }))\n  initFarmData.fundPlatforms = _.orderBy(platforms, ['value'], ['desc'])\n  // Caculate token asset balance with apy\n  const tokenApy = calTokenWithApy(\n    platforms,\n    funds,\n    balanceUnallocated,\n    tokensInfor\n  )\n  initFarmData.tokensWithAPY = Object.values(tokenApy.tokensWithAPY)\n  initFarmData.bankApy = tokenApy.bankApy\n\n  initFarmData.fundPlatformUnallocated = getFundUnallocated(\n    balanceUnallocated,\n    tokensInfor,\n    totalBalance\n  )\n  return initFarmData\n}\n// {\n//   name,\n//   totalDeposit: p.depositUsd,\n//   depositWithAPY: mul(p.depositUsd, p.apy)\n// }\nconst calTokenWithApy = (\n  platforms: platform[],\n  funds: fund,\n  balanceUnallocated: {\n    [token: string]: string\n  },\n  tokensInfor: {\n    [token: string]: {\n      symbol: string\n      address: string\n    }\n  }\n) => {\n  const tokensWithAPY: {\n    [name: string]: {\n      name: string\n      totalDeposit: string\n      depositWithAPY: string\n      unallocated: string\n    }\n  } = {}\n  let bankApy = '0'\n  for (const lpAddress in funds) {\n    if (Object.prototype.hasOwnProperty.call(funds, lpAddress)) {\n      const { tokens } = funds[lpAddress]\n      const { apy: farmAPY, fund } = platforms.find(\n        (farm) => farm.lpAddress === lpAddress\n      ) || { apy: '0', fund: '0' }\n      bankApy = add(bankApy, div(mul(farmAPY, fund), numberToWei(100)))\n      for (const tokenAddress in tokens) {\n        if (Object.prototype.hasOwnProperty.call(tokens, tokenAddress)) {\n          const depositUsd = tokens[tokenAddress]\n          const name = tokensInfor[tokenAddress].symbol\n          if (tokensWithAPY[name]) {\n            tokensWithAPY[name].totalDeposit = add(\n              tokensWithAPY[name].totalDeposit,\n              depositUsd\n            )\n            tokensWithAPY[name].depositWithAPY = add(\n              tokensWithAPY[name].depositWithAPY,\n              mul(depositUsd, farmAPY)\n            )\n          } else {\n            tokensWithAPY[name] = {\n              name: name,\n              totalDeposit: depositUsd,\n              depositWithAPY: mul(depositUsd, farmAPY),\n              unallocated: balanceUnallocated[tokenAddress]\n            }\n          }\n        }\n      }\n    }\n  }\n  for (const name in tokensWithAPY) {\n    if (Object.prototype.hasOwnProperty.call(tokensWithAPY, name)) {\n      const { totalDeposit, depositWithAPY, unallocated } = tokensWithAPY[name]\n      const finalDepositWithAPY = div(\n        depositWithAPY,\n        add(unallocated, totalDeposit)\n      )\n      tokensWithAPY[name].depositWithAPY = finalDepositWithAPY\n    }\n  }\n  return { tokensWithAPY, bankApy }\n}\nconst getFundUnallocated = (\n  balanceUnallocated: any,\n  tokensInfor: {\n    [token: string]: {\n      symbol: string\n    }\n  },\n  totalBalance: string\n) => {\n  const result: {\n    fund: string\n    value: string\n    names: string[]\n    balance: {\n      [token: string]: string\n    }\n  } = {\n    fund: '0',\n    value: '0',\n    names: [],\n    balance: {}\n  }\n  for (const token in balanceUnallocated) {\n    if (Object.prototype.hasOwnProperty.call(balanceUnallocated, token)) {\n      const balance = balanceUnallocated[token]\n      // eslint-disable-next-line eqeqeq\n      if (balance == 0) {\n        continue\n      }\n      result.value = result.value\n        ? add(result.value, balance)\n        : add('0', balance)\n      result.names.push(\n        tokensInfor[token].symbol +\n          ',' +\n          formatFloat(weiToNumber(balance), 2) +\n          ',' +\n          token\n      )\n    }\n  }\n  result.names = _.orderBy(\n    result.names,\n    (name) => {\n      const tmp = name.split(',')\n      return tmp[2]\n    },\n    ['desc']\n  )\n  result.fund = calFund(totalBalance, result.value)\n  result.value = weiToNumber(result.value)\n  return result\n}\n\nconst getTokenInfo = async (tokenAddress: string, provider: any) => {\n  const contract = new ethers.Contract(tokenAddress, erc20, provider)\n  const symbol = await contract.functions.symbol()\n  const name = await contract.functions.name()\n  return {\n    symbol: symbol[0],\n    address: tokenAddress,\n    name: name[0]\n  }\n}\nexport const fetchStakeQuery = async ({\n  provider,\n  account,\n  contractABI,\n  contractAddress\n}: {\n  provider: any\n  account: any\n  contractABI: any\n  contractAddress: string\n}) => {\n  try {\n    const SfarmContract = new ethers.Contract(\n      contractAddress,\n      contractABI,\n      provider\n    )\n    const data = await SfarmContract.functions.query(account)\n    const contribution = data.contribution.lt('0')\n      ? ethers.BigNumber.from(0)\n      : data.contribution\n    return {\n      stake: data.stake.toString(),\n      totalStake: data.totalStake.toString(),\n      value: contribution.toString(),\n      totalValue: data.totalContribution.toString(),\n      contribution: secondsToContribution(\n        div(contribution, data.stake.isZero() ? data.totalStake : data.stake)\n      ),\n      contributionPercent: div(\n        mul(contribution, numberToWei(100)),\n        data.totalContribution\n      ),\n      totalContribution: secondsToContribution(\n        div(data.totalContribution, data.totalStake)\n      )\n    }\n  } catch (e) {\n    console.log(e)\n    return {\n      stake: '',\n      totalStake: '',\n      value: '',\n      totalValue: '',\n      contribution: '',\n      totalContribution: ''\n    }\n  }\n}\n\nexport const getBalance = async ({\n  provider,\n  account,\n  contractABI,\n  tokenAddress,\n  retry = 0\n}: {\n  provider: any\n  account: any\n  contractABI: any\n  tokenAddress: string\n  retry?: number\n}): Promise<any> => {\n  try {\n    const SfarmContract = new ethers.Contract(\n      tokenAddress,\n      contractABI,\n      provider\n    )\n    const data = await SfarmContract.functions.balanceOf(account)\n    return data[0] ? data[0] : 0\n  } catch (e) {\n    if (retry > limitRetry) {\n      toast.error('Balance cannot be load, please try again later.')\n      return 0\n    }\n    return await getBalance({\n      provider,\n      account,\n      contractABI,\n      tokenAddress,\n      retry: ++retry\n    })\n  }\n}\n\nexport const getAllowance = async ({\n  provider,\n  account,\n  contractABI,\n  contractAddress,\n  tokenAddress\n}: {\n  provider: any\n  account: any\n  contractABI: any\n  contractAddress: string\n  tokenAddress: string\n}) => {\n  try {\n    const signer = provider.getSigner()\n    const SfarmContract = new ethers.Contract(tokenAddress, contractABI, signer)\n    const data = await SfarmContract.functions.allowance(\n      account,\n      contractAddress\n    )\n    return data[0] ? weiToNumber(data[0]) : '0'\n  } catch (e) {\n    console.log(e)\n    return 0\n  }\n}\n\nexport const getMoreQueryConfig = async ({\n  provider,\n  contractABI,\n  contractAddress,\n  retry = 0\n}: {\n  provider: any\n  contractABI: any\n  contractAddress: string\n  retry?: number\n}): Promise<any> => {\n  try {\n    const SfarmContract = new ethers.Contract(\n      contractAddress,\n      contractABI,\n      provider\n    )\n    const result = await SfarmContract.functions.queryConfig()\n    const ret = {\n      referralRates: result.refRates_.map((a: any) =>\n        ethers.BigNumber.from(a).toString()\n      ),\n      earnToken: result.earnToken_,\n      subsidyRate: result.subsidyRate_.toString()\n    }\n    saveData('moreQueryConfig', () => ret)\n    return ret\n  } catch (error) {\n    if (retry > limitRetry) {\n      toast.error('More query config cannot be load, please try again later.')\n      const oldState = loadData('moreQueryConfig')\n      if (oldState) return oldState\n      return Promise.reject(error)\n    }\n    return await getMoreQueryConfig({\n      provider,\n      contractABI,\n      contractAddress,\n      retry: ++retry\n    })\n  }\n}\n\nexport const secondsToContribution = (timeStamp: string) => {\n  if (Number(timeStamp) < SECONDS_IN_HOUR) {\n    return (\n      formatFloat(\n        weiToNumber(div(numberToWei(timeStamp), SECONDS_IN_MINUTE)),\n        2\n      ) + ` ${getText('minutes')}`\n    )\n  } else if (Number(timeStamp) < SECONDS_IN_DAY) {\n    return (\n      formatFloat(\n        weiToNumber(div(numberToWei(timeStamp), SECONDS_IN_HOUR)),\n        2\n      ) + ` ${getText('hours')}`\n    )\n  } else if (Number(timeStamp) < SECONDS_IN_MONTH) {\n    return (\n      formatFloat(weiToNumber(div(numberToWei(timeStamp), SECONDS_IN_DAY)), 2) +\n      ` ${getText('days')}`\n    )\n  } else {\n    return (\n      formatFloat(\n        weiToNumber(div(numberToWei(timeStamp), SECONDS_IN_MONTH)),\n        2\n      ) + ` ${getText('months')}`\n    )\n  }\n}\n\nexport const getTokenExchangeRate = async (cgkId: string) => {\n  try {\n    const res = await fetch(\n      `${getConfig(\n        'CGK_API_ENDPOINT'\n      )}/api/v3/coins/markets?vs_currency=usd&ids=` + cgkId\n    ).then((m) => m.json())\n    return res[0].current_price\n  } catch (e) {\n    console.log(e)\n    return null\n  }\n}\n\nexport const getEarnHistories = async (lastestBlock: number, limit = 30) => {\n  try {\n    const res = await fetch(\n      `${getConfig('SFARM_API_ENDPOINT')}/sfarm/earnHistory?limit=${limit}`\n    ).then((m) => m.json())\n    const resData = res.data\n    resData.unshift({\n      block: lastestBlock,\n      balance: resData[0].balance\n    })\n    const labels = []\n    const data = []\n    for (let i = resData.length - 1; i >= 0; i--) {\n      data.push({\n        y: Number(weiToNumber(resData[i].balance)),\n        x: new Date().getTime() - (lastestBlock - resData[i].block) * 3000\n      })\n      labels.push(\n        new Date().getTime() - (lastestBlock - resData[i].block) * 3000\n      )\n    }\n\n    return { labels, data, earnHistories: resData }\n  } catch (e) {\n    console.log(e)\n    return null\n  }\n}\n\nexport const getLockedSeconds = async ({\n  provider,\n  bankAddress,\n  address,\n  retry = 0\n}: {\n  provider: any\n  bankAddress: string\n  address: string\n  retry?: number\n}): Promise<any> => {\n  try {\n    const slot = 12 // stakes\n    const MAX_T = 0xffffffffffffffff\n    const p = slot.toString(16).padStart(64, '0')\n    const k = '0'.repeat(24) + address.substr(2)\n    const position = ethers.utils.keccak256('0x' + k + p)\n    // const stake = await web3.eth.getStorageAt(bankAddress, position, 'pending')\n    const stake = await provider.getStorageAt(bankAddress, position)\n    // const s = ethers.BigNumber.from('0x'+stake.substr(18))\n    const t = parseInt(stake.substr(2, 16), 16)\n    if (t >= MAX_T) {\n      // no stake\n      return 0\n    }\n    const timestamp = Date.now() / 1000\n    if (timestamp >= t) {\n      // no lock\n      return 0\n    }\n    return t - timestamp\n  } catch (error) {\n    if (retry > limitRetry) {\n      toast.error('Locked cannot be load, please try again later.')\n      return Promise.reject(error)\n    }\n    return await getLockedSeconds({\n      provider,\n      bankAddress,\n      address,\n      retry: ++retry\n    })\n  }\n}\n\nconst initFarmData = async () => {\n  try {\n    const fundPlatforms = await fetch(\n      `${getConfig('SFARM_API_ENDPOINT')}/sfarm/farms`\n    )\n      .then((m) => m.json())\n      .then((m) => m.data)\n\n    return {\n      fundPlatforms: fundPlatforms,\n      tokensWithAPY: [], // Unable to calculate from result of sfarm/farms\n      bankApy: null // Unable to calculate from result of sfarm/farms\n    }\n  } catch (e) {\n    return {\n      fundPlatforms: [],\n      tokensWithAPY: [],\n      bankApy: null\n    }\n  }\n}\nexport const fetchFarmLiquidity = async () =>\n  await new Promise((resolve) =>\n    fetch(`${getConfig('SFARM_API_ENDPOINT')}/sfarm/liquidity`)\n      .then((m) => m.json())\n      .then((m) => resolve(m.data))\n  )\nconst mapToArray = (map: any) =>\n  Object.entries(map).map(([address, mask]) => ({ address, mask }))\n","import { BigNumber } from 'ethers'\nimport { getConfig } from '../utils/config'\nimport { numberToWei, weiToNumber } from '../utils/helpers'\n\nconst SECONDS_IN_YEAR = 365 * 24 * 3600 * 1000\nexport const fetchLastHarvest = async (earnHistories: any[]) => {\n  try {\n    const t = earnHistories.find((earn: any) => earn.amount > 0)\n    if (t) return t\n    const lastHarvest = await fetch(\n      `${getConfig('SFARM_API_ENDPOINT')}/sfarm/lastHarvest`\n    ).then((m) => m.json())\n    return lastHarvest.data\n  } catch (error) {\n    return null\n  }\n}\nexport const getEstYield = async (\n  stake: string,\n  bankApy: string,\n  earnHistories: any,\n  lastestBlock: number\n) => {\n  const lastHarvest = await fetchLastHarvest(earnHistories)\n  if (!lastHarvest)\n    return {\n      estAccount: null,\n      lastTimeHarvested: null\n    }\n  const duration = (lastestBlock - lastHarvest.block) * 3 * 1000\n  const lastTimeHarvested = new Date().getTime() - duration\n  const estAccount = weiToNumber(\n    BigNumber.from(stake)\n      .mul(bankApy)\n      .div(numberToWei(100))\n      .mul(duration)\n      .div(SECONDS_IN_YEAR)\n  )\n  return {\n    estAccount,\n    lastTimeHarvested\n  }\n}\n","import React, { useEffect, useRef, useState } from 'react'\nimport './style.scss'\nimport { formatFloat, mul, numberToWei, weiToNumber } from '../../utils/helpers'\nimport {\n  getTokenExchangeRate,\n  getEarnHistories,\n  providerNotSigner\n} from '../../service/get-current-state'\nimport { Line, Chart } from 'test-react-chartjs-2'\nimport zoomPlugin from 'chartjs-plugin-zoom'\nimport 'chartjs-adapter-moment'\nimport { getText } from '../../utils/lang'\nimport { getEstYield } from '../../service/yield'\nimport { BigNumber } from 'ethers'\n\nChart.register(zoomPlugin) // REGISTER PLUGIN\n\nconst TIMESTAMP_TO_UPDATE_CHART = 60000\n\nexport default ({\n  useData,\n  onEstYieldAccount\n}: {\n  useData: any\n  onEstYieldAccount?: any\n}) => {\n  const {\n    stake,\n    totalEarn,\n    totalStake,\n    totalContribution,\n    harvested,\n    lzToken,\n    bankApy\n  } = useData()\n  const [lzExchangeRate, setlzExchagneRate] = useState<any>(null)\n  const [earnHistoryData, setEarnHistoryData] = useState<any>({\n    chartLabel: [],\n    chartData: [],\n    earnHistories: null\n  })\n  const dic = useRef<any>({})\n\n  useEffect(() => {\n    fetchLzExchangeRate()\n  }, [lzToken])\n\n  useEffect(() => {\n    fetchEarnHistoryData()\n    setInterval(fetchEarnHistoryData, TIMESTAMP_TO_UPDATE_CHART)\n  }, [])\n\n  const fetchLzExchangeRate = async () => {\n    if (lzToken) {\n      const rate = await getTokenExchangeRate(lzToken.cgkId)\n      setlzExchagneRate(rate)\n    }\n  }\n\n  useEffect(() => {\n    if (\n      stake == null ||\n      bankApy == null ||\n      earnHistoryData.earnHistories == null ||\n      !dic.current.lastBlock ||\n      BigNumber.from(stake).lte(0)\n    )\n      return\n    const handleCalculateEstYield = async () => {\n      const { estAccount, lastTimeHarvested } = await getEstYield(\n        stake,\n        bankApy,\n        earnHistoryData.earnHistories,\n        dic.current.lastBlock\n      )\n      onEstYieldAccount && onEstYieldAccount(estAccount, lastTimeHarvested)\n    }\n    handleCalculateEstYield()\n  }, [stake, bankApy, earnHistoryData])\n\n  const fetchEarnHistoryData = async () => {\n    const lastBlock = await providerNotSigner.getBlockNumber()\n    dic.current.lastBlock = lastBlock\n    const res = await getEarnHistories(lastBlock)\n    if (res) {\n      setEarnHistoryData({\n        chartLabel: res.labels,\n        chartData: res.data,\n        earnHistories: res.earnHistories\n      })\n    }\n  }\n\n  return (\n    <div className='bank'>\n      <div className='harvest'>\n        <p className='title text-gradient font-size-14 mb-05'>\n          {getText('total_harvested')}\n        </p>\n        <p className='value text-default text-weight jc-space-between mb-05'>\n          {harvested != null ? (\n            <span className='font-size-18'>\n              {harvested && weiToNumber(harvested)} LZ\n              {lzExchangeRate && harvested ? (\n                <span className='ml-1 text-weight-4'>\n                  ( $\n                  {weiToNumber(mul(harvested, numberToWei(lzExchangeRate)), 36)}{' '}\n                  )\n                </span>\n              ) : (\n                ''\n              )}\n            </span>\n          ) : (\n            <div className='skeleton-loader__bone width-50' />\n          )}\n        </p>\n      </div>\n      <div className='info'>\n        <div className='info-row'>\n          <span className='text-light'>{getText('deposit')}:</span>\n          {totalStake != null ? (\n            <span className='text-default'>\n              {weiToNumber(totalStake)} {getText('usdz')}\n            </span>\n          ) : (\n            <div className='skeleton-loader__bone width-50' />\n          )}\n        </div>\n        <div className='info-row'>\n          <span className='text-light'>{getText('contribution_avg')}:</span>\n          {totalContribution != null ? (\n            <span className='text-default'>{totalContribution}</span>\n          ) : (\n            <div className='skeleton-loader__bone width-50' />\n          )}\n        </div>\n        <div className='info-row'>\n          <span className='text-light'>{getText('total_harvestable')}:</span>\n          {totalEarn != null ? (\n            <span className='text-default'>{weiToNumber(totalEarn)} LZ</span>\n          ) : (\n            <div className='skeleton-loader__bone width-50' />\n          )}\n        </div>\n        <div className='info-row'>\n          <span className='text-light'>{getText('apy')}:</span>\n          {bankApy != null ? (\n            <span className='text-default'>\n              {formatFloat(weiToNumber(bankApy), 1)}%\n            </span>\n          ) : (\n            <div className='skeleton-loader__bone width-50' />\n          )}\n        </div>\n      </div>\n      <div className='chart'>\n        <Line\n          type='line'\n          className='chart-content'\n          data={{\n            labels: earnHistoryData.chartLabel,\n            datasets: [\n              {\n                label: 'LZ',\n                data: earnHistoryData.chartData,\n                fill: false,\n                borderColor: '#328B31',\n                borderWidth: 1,\n                stepped: true,\n                spanGaps: true\n              }\n            ]\n          }}\n          options={{\n            aspectRatio: 2,\n            maintainAspectRatio: false,\n            elements: {\n              point: {\n                radius: 0\n              }\n            },\n            scales: {\n              y: {\n                grid: {\n                  color: 'rgba(128,128,128,0.15)'\n                }\n              },\n              x: {\n                grid: {\n                  color: 'rgba(128,128,128,0.15)'\n                },\n                type: 'time',\n                parsing: false,\n                display: true,\n                offset: true,\n                time: {\n                  displayFormats: {\n                    day: 'MM/DD'\n                  },\n                  unit: 'day'\n                },\n                ticks: {\n                  callback: function (value: any, index: any) {\n                    return index % 5 === 0 ? value : ''\n                  },\n                  padding: 0\n                }\n              }\n            },\n            plugins: {\n              title: {\n                display: true,\n                text: 'Total Harvestable'\n              },\n              legend: {\n                display: false\n              },\n              zoom: {\n                zoom: {\n                  wheel: {\n                    enabled: true\n                  },\n                  mode: 'x',\n                  speed: 100\n                },\n                pan: {\n                  enabled: true,\n                  mode: 'x',\n                  speed: 100,\n                  max: 5\n                },\n                limits: {\n                  x: {\n                    min: earnHistoryData.chartLabel[0],\n                    max: earnHistoryData.chartLabel[\n                      earnHistoryData.chartLabel.length - 1\n                    ]\n                  }\n                }\n              }\n            }\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport './style.scss'\n\nexport default (props: any) => {\n  return (\n    <div\n      {...props}\n      className={`${props.className} sfarm-btn ${props.size || ''} ${\n        props.type || ''\n      } ${props.disabled ? 'disabled' : ''}`}\n      onClick={props.disabled ? () => true : props.onClick}\n    >\n      <span>{props.children}</span>\n    </div>\n  )\n}\n","import React from 'react'\nimport './style.scss'\n\nexport const Input = (props: any) => {\n  return (\n    <div className='sfarm-input-group'>\n      <input\n        type='text'\n        className={`input ${props.className}`}\n        placeholder={props.placeholder ? props.placeholder : ''}\n        {...props}\n      />\n      <span className='suffix'>{props.suffix}</span>\n    </div>\n  )\n}\n","import React from 'react'\n\nconst BaseIcon = (props: any) => {\n  return (\n    <span role='img' className='lz-icon icon' {...props}>\n      {props.children}\n    </span>\n  )\n}\n\nexport const SearchIcon = (props: any) => (\n  <BaseIcon {...props}>\n    <svg\n      width='22'\n      height='22'\n      viewBox='0 0 22 22'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        d='M15.4165 15.5833L18.1665 18.3333'\n        stroke='url(#paint0_linear)'\n        strokeWidth='2'\n        strokeLinecap='round'\n      />\n      <circle\n        cx='9.91667'\n        cy='10.0834'\n        r='6.41667'\n        stroke='url(#paint1_linear)'\n        strokeWidth='2'\n      />\n      <path\n        d='M9.9165 7.33325C9.55537 7.33325 9.19777 7.40438 8.86412 7.54258C8.53048 7.68078 8.22732 7.88335 7.97196 8.13871C7.7166 8.39407 7.51404 8.69723 7.37584 9.03087C7.23763 9.36452 7.1665 9.72212 7.1665 10.0833'\n        stroke='url(#paint2_linear)'\n        strokeWidth='2'\n        strokeLinecap='round'\n      />\n      <defs>\n        <linearGradient\n          id='paint0_linear'\n          x1='15.706'\n          y1='15.5833'\n          x2='18.1665'\n          y2='15.5833'\n          gradientUnits='userSpaceOnUse'\n        >\n          <stop stopColor='#96CF24' />\n          <stop offset='1' stopColor='#5AA62B' />\n        </linearGradient>\n        <linearGradient\n          id='paint1_linear'\n          x1='14.9825'\n          y1='16.5001'\n          x2='3.5'\n          y2='16.5001'\n          gradientUnits='userSpaceOnUse'\n        >\n          <stop stopColor='#96CF24' />\n          <stop offset='1' stopColor='#5AA62B' />\n        </linearGradient>\n        <linearGradient\n          id='paint2_linear'\n          x1='12.0876'\n          y1='12.8333'\n          x2='7.1665'\n          y2='12.8333'\n          gradientUnits='userSpaceOnUse'\n        >\n          <stop stopColor='#96CF24' />\n          <stop offset='1' stopColor='#5AA62B' />\n        </linearGradient>\n      </defs>\n    </svg>\n  </BaseIcon>\n)\n\nexport const ArrowUp = (props: any) => (\n  <BaseIcon {...props}>\n    <svg\n      width='16'\n      height='20'\n      viewBox='0 0 16 20'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        d='M3.06066 10.0607C2.47487 10.6464 1.52513 10.6464 0.93934 10.0607C0.353554 9.47487 0.353554 8.52513 0.93934 7.93934L3.06066 10.0607ZM8 3L6.93934 1.93934L8 0.878679L9.06066 1.93934L8 3ZM9.5 18C9.5 18.8284 8.82843 19.5 8 19.5C7.17157 19.5 6.5 18.8284 6.5 18L9.5 18ZM11 6L9.93934 7.06066L9.93934 7.06066L11 6ZM15.0607 7.93934C15.6464 8.52513 15.6464 9.47487 15.0607 10.0607C14.4749 10.6464 13.5251 10.6464 12.9393 10.0607L15.0607 7.93934ZM0.93934 7.93934L6.93934 1.93934L9.06066 4.06066L3.06066 10.0607L0.93934 7.93934ZM9.5 3L9.5 18L6.5 18L6.5 3L9.5 3ZM9.06066 1.93934L12.0607 4.93934L9.93934 7.06066L6.93934 4.06066L9.06066 1.93934ZM12.0607 4.93934L15.0607 7.93934L12.9393 10.0607L9.93934 7.06066L12.0607 4.93934Z'\n        fill='#9CA3AF'\n      />\n    </svg>\n  </BaseIcon>\n)\n\nexport const ArrowDown = (props: any) => (\n  <BaseIcon {...props}>\n    <svg\n      width='16'\n      height='20'\n      viewBox='0 0 16 20'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        d='M12.9393 9.93934C13.5251 9.35355 14.4749 9.35355 15.0607 9.93934C15.6464 10.5251 15.6464 11.4749 15.0607 12.0607L12.9393 9.93934ZM8 17L9.06066 18.0607L8 19.1213L6.93934 18.0607L8 17ZM6.5 2C6.5 1.17157 7.17157 0.500001 8 0.500001C8.82843 0.500001 9.5 1.17157 9.5 2L6.5 2ZM5 14L6.06066 12.9393L6.06066 12.9393L5 14ZM0.939342 12.0607C0.353556 11.4749 0.353556 10.5251 0.939342 9.93934C1.52513 9.35355 2.47488 9.35355 3.06066 9.93934L0.939342 12.0607ZM15.0607 12.0607L9.06066 18.0607L6.93934 15.9393L12.9393 9.93934L15.0607 12.0607ZM6.5 17L6.5 2L9.5 2L9.5 17L6.5 17ZM6.93934 18.0607L3.93934 15.0607L6.06066 12.9393L9.06066 15.9393L6.93934 18.0607ZM3.93934 15.0607L0.939342 12.0607L3.06066 9.93934L6.06066 12.9393L3.93934 15.0607Z'\n        fill='#9CA3AF'\n      />\n    </svg>\n  </BaseIcon>\n)\n\nexport const HideIcon = (props: any) => (\n  <BaseIcon {...props}>\n    <svg\n      width='16'\n      height='16'\n      viewBox='0 0 16 16'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        fillRule='evenodd'\n        clipRule='evenodd'\n        d='M10.6635 7.87578C10.6005 6.50186 9.49782 5.39918 8.1239 5.33618L10.6635 7.87578ZM5.53213 6.98705C5.40378 7.29937 5.33301 7.64142 5.33301 8.00001C5.33301 9.47277 6.52692 10.6667 7.99967 10.6667C8.35826 10.6667 8.70031 10.5959 9.01263 10.4676L5.53213 6.98705Z'\n        fill='white'\n      />\n      <path\n        fillRule='evenodd'\n        clipRule='evenodd'\n        d='M10.804 12.2585L9.29426 10.7488C8.86628 10.9095 8.43253 11 8.00012 11C7.16684 11 6.32853 10.6638 5.53623 10.1374C4.74828 9.61388 4.07153 8.94552 3.58252 8.39062C3.48037 8.2747 3.40578 8.1899 3.34432 8.11527C3.30156 8.06334 3.27365 8.02645 3.25519 8C3.27365 7.97355 3.30156 7.93666 3.34432 7.88473C3.40578 7.8101 3.48037 7.7253 3.58252 7.60938C3.93136 7.21353 4.37574 6.75995 4.88787 6.34241L3.46766 4.9222C2.91257 5.39138 2.44386 5.87648 2.08203 6.28706C2.05896 6.31324 2.03497 6.34012 2.01029 6.36776C1.68385 6.7335 1.23828 7.23271 1.23828 8C1.23828 8.76729 1.68385 9.2665 2.01029 9.63224L2.01039 9.63235C2.03503 9.65995 2.05899 9.6868 2.08203 9.71294C2.63741 10.3432 3.4446 11.1489 4.42947 11.8032C5.41 12.4547 6.63341 13 8.00012 13C9.03039 13 9.97922 12.6901 10.804 12.2585ZM6.12314 3.33503C6.70747 3.1284 7.33693 3 8.00012 3C9.36684 3 10.5903 3.54532 11.5708 4.19676C12.5557 4.85109 13.3628 5.65685 13.9182 6.28706C13.9413 6.31324 13.9653 6.34012 13.99 6.36776C14.3164 6.7335 14.762 7.23271 14.762 8C14.762 8.76729 14.3164 9.2665 13.99 9.63224L13.9899 9.63225C13.9653 9.65989 13.9413 9.68677 13.9182 9.71294C13.7197 9.93825 13.4889 10.186 13.2294 10.4413L11.8151 9.02698C12.0382 8.80815 12.2403 8.59192 12.4177 8.39062C12.5199 8.2747 12.5945 8.1899 12.6559 8.11527C12.6987 8.06334 12.7266 8.02645 12.7451 8C12.7266 7.97355 12.6987 7.93666 12.6559 7.88473C12.5945 7.8101 12.5199 7.7253 12.4177 7.60938C11.9287 7.05448 11.252 6.38612 10.464 5.86262C9.67172 5.33623 8.83341 5 8.00012 5C7.93172 5 7.86327 5.00227 7.79482 5.00672L6.12314 3.33503Z'\n        fill='white'\n      />\n      <path d='M3.33301 1.33337L13.9997 12' stroke='white' strokeWidth='2' />\n    </svg>\n  </BaseIcon>\n)\n\nexport const ShowIcon = (props: any) => (\n  <BaseIcon {...props}>\n    <svg\n      width='16'\n      height='16'\n      viewBox='0 0 16 16'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        d='M7.99967 3.33337C4.62428 3.33337 2.64398 5.77479 1.80651 7.12588C1.57922 7.49258 1.46557 7.67593 1.47696 7.98081C1.48836 8.2857 1.61988 8.46622 1.88292 8.82728C2.8596 10.1679 5.07266 12.6667 7.99967 12.6667C10.9267 12.6667 13.1397 10.1679 14.1164 8.82728C14.3795 8.46622 14.511 8.2857 14.5224 7.98081C14.5338 7.67593 14.4201 7.49258 14.1928 7.12588C13.3554 5.77479 11.3751 3.33337 7.99967 3.33337Z'\n        stroke='white'\n        strokeWidth='2'\n      />\n      <circle cx='7.99967' cy='8.00004' r='2.66667' fill='white' />\n    </svg>\n  </BaseIcon>\n)\n\nexport const ExitIcon = (props: any) => (\n  <BaseIcon {...props}>\n    <svg\n      width='24'\n      height='24'\n      viewBox='0 0 24 24'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        d='M17 7L7 17'\n        stroke='#9CA3AF'\n        strokeWidth='2'\n        strokeLinecap='round'\n        strokeLinejoin='round'\n      />\n      <path\n        d='M7 7L17 17'\n        stroke='#9CA3AF'\n        strokeWidth='2'\n        strokeLinecap='round'\n        strokeLinejoin='round'\n      />\n    </svg>\n  </BaseIcon>\n)\n\nexport const LockIcon = (props: any) => (\n  <BaseIcon {...props}>\n    <svg\n      width='16'\n      height='16'\n      viewBox='0 0 16 16'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        d='M2.66699 9.2C2.66699 8.07989 2.66699 7.51984 2.88498 7.09202C3.07673 6.71569 3.38269 6.40973 3.75901 6.21799C4.18683 6 4.74689 6 5.86699 6H10.1337C11.2538 6 11.8138 6 12.2416 6.21799C12.618 6.40973 12.9239 6.71569 13.1157 7.09202C13.3337 7.51984 13.3337 8.0799 13.3337 9.2V9.2C13.3337 10.8802 13.3337 11.7202 13.0067 12.362C12.7191 12.9265 12.2601 13.3854 11.6956 13.673C11.0539 14 10.2138 14 8.53366 14H7.46699C5.78684 14 4.94676 14 4.30502 13.673C3.74053 13.3854 3.28159 12.9265 2.99397 12.362C2.66699 11.7202 2.66699 10.8802 2.66699 9.2V9.2Z'\n        stroke='#9CA3AF'\n        strokeWidth='2'\n      />\n      <path\n        d='M10.6673 5.33333V4.66667C10.6673 3.19391 9.47341 2 8.00065 2V2C6.52789 2 5.33398 3.19391 5.33398 4.66667V5.33333'\n        stroke='#9CA3AF'\n        strokeWidth='2'\n        strokeLinecap='round'\n      />\n      <ellipse\n        cx='8.00033'\n        cy='9.99996'\n        rx='1.33333'\n        ry='1.33333'\n        fill='#9CA3AF'\n      />\n    </svg>\n  </BaseIcon>\n)\n\nexport const LaunchZoneLogo = (props: any) => (\n  <BaseIcon {...props}>\n    <svg\n      width='181'\n      height='43'\n      viewBox='0 0 181 43'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        d='M21.4545 41.2664C32.377 41.2664 41.2314 32.4197 41.2314 21.5067C41.2314 10.5938 32.377 1.74707 21.4545 1.74707C10.5321 1.74707 1.67773 10.5938 1.67773 21.5067C1.67773 32.4197 10.5321 41.2664 21.4545 41.2664Z'\n        fill='white'\n      />\n      <path\n        d='M25.3936 36.0034L35.946 25.4407L25.3902 14.878L21.5071 18.7593L28.1731 25.4407L21.502 32.1238L25.3936 36.0034ZM17.5333 28.1482L6.98086 17.5855L17.5367 7.01936L21.4146 10.9075L14.7418 17.5906L21.4129 24.2737L17.5333 28.1482ZM1.68579 13.1455C3.75481 8.23508 7.57432 4.26841 12.4031 2.01531C17.2318 -0.237783 22.7254 -0.616612 27.8177 0.952339C32.91 2.52129 37.2379 5.92613 39.9613 10.5061C42.6848 15.086 43.6097 20.5144 42.5564 25.7378C41.5032 30.9612 38.547 35.6071 34.2615 38.7738C29.976 41.9404 24.6669 43.4021 19.3644 42.875C14.062 42.348 9.14452 39.8699 5.56621 35.9216C1.98791 31.9733 0.00403666 26.8365 -0.000403419 21.5079C-0.00363434 18.6357 0.569761 15.7921 1.68579 13.1455ZM39.3373 21.5079C39.3342 17.973 38.2832 14.5183 36.3171 11.5806C34.3509 8.64283 31.558 6.35397 28.2912 5.00331C25.0245 3.65266 21.4306 3.30084 17.9639 3.99235C14.4973 4.68385 11.3134 6.38763 8.81491 8.8883C6.31639 11.389 4.61536 14.5743 3.92685 18.0415C3.23833 21.5088 3.59324 25.1023 4.94672 28.3679C6.30019 31.6335 8.59146 34.4245 11.5309 36.3881C14.4703 38.3517 17.9259 39.3997 21.4609 39.3997C26.2023 39.392 30.7471 37.504 34.0983 34.1499C37.4496 30.7958 39.3337 26.2494 39.3373 21.5079Z'\n        fill='url(#paint0_linear)'\n      />\n      <path\n        d='M49.9812 22.2398H64.9273V17.3783H55.6738V0.413518H49.9812V22.2398ZM89.7113 22.2398L80.5572 0.413518H74.7035L65.33 22.2398H71.1837L72.7106 18.379H82.144L83.6383 22.2398H89.7113ZM77.4744 6.2398L80.4629 14.0196H74.4225L77.4744 6.2398ZM96.3738 13.2416V0.413518H90.6795V13.2416C90.6795 15.13 91.0896 16.7865 91.9099 18.2111C92.7217 19.6245 93.9339 20.7658 95.3937 21.491C96.8982 22.2586 98.6467 22.6425 100.639 22.6425C102.631 22.6425 104.37 22.2586 105.855 21.491C107.299 20.7619 108.493 19.618 109.282 18.206C110.082 16.7848 110.482 15.1283 110.482 13.2365V0.413518H104.781V13.2416C104.781 14.6331 104.402 15.7384 103.645 16.5575C102.887 17.3766 101.896 17.7867 100.672 17.7878C99.4264 17.7878 98.3982 17.3726 97.5871 16.542C96.776 15.7115 96.3715 14.6114 96.3738 13.2416ZM129.316 13.5535L119.384 0.413518H114.37V22.2398H119.696V9.19407L129.596 22.2398H134.579V0.413518H129.285L129.316 13.5535ZM154.63 7.82318L157.93 3.84074C156.796 2.65311 155.428 1.71418 153.912 1.08354C152.2 0.345767 150.344 0.00316375 148.482 0.0811876C146.62 0.159212 144.799 0.655857 143.155 1.53422C141.402 2.47985 139.942 3.88867 138.934 5.60711C137.926 7.32554 137.41 9.28765 137.441 11.2795C137.412 13.309 137.928 15.309 138.935 17.0715C139.914 18.7763 141.335 20.1853 143.048 21.1499C144.671 22.0594 146.487 22.569 148.347 22.6366C150.206 22.7043 152.055 22.328 153.74 21.5389C155.327 20.8327 156.761 19.8227 157.959 18.5658L154.63 14.9792C153.879 15.7563 152.993 16.3898 152.015 16.8488C151.143 17.2803 150.186 17.5143 149.213 17.5342C148.152 17.5488 147.108 17.2643 146.201 16.7134C145.299 16.1626 144.565 15.3772 144.076 14.4411C143.55 13.449 143.282 12.3406 143.296 11.2178C143.282 10.095 143.55 8.98661 144.076 7.99454C144.565 7.05979 145.3 6.2756 146.201 5.72572C147.105 5.17425 148.147 4.88806 149.206 4.89976C150.223 4.91662 151.218 5.19013 152.101 5.69487C153.08 6.224 153.941 6.94835 154.63 7.82318ZM160.389 22.2398H166.089V13.8637H174.9V22.2398H180.598V0.413518H174.9V9.3243H166.089V0.413518H160.389V22.2398ZM49.9812 29.1577H59.9202L49.707 41.691V42.8528H61.9199V41.5197H51.6383L61.8274 28.964V27.8313H49.9812V29.1577ZM71.631 27.6959C70.2496 27.6856 68.89 28.0403 67.6897 28.7241C66.5161 29.3814 65.5344 30.3335 64.8417 31.4865C64.1413 32.6368 63.7752 33.9594 63.7843 35.3061C63.775 36.6615 64.1396 37.9933 64.8382 39.1549C65.5423 40.3278 66.5381 41.2984 67.7286 41.9723C68.9191 42.6461 70.2638 43.0003 71.6318 43.0003C72.9998 43.0003 74.3445 42.6461 75.5351 41.9723C76.7256 41.2984 77.7214 40.3278 78.4255 39.1549C79.1241 37.9933 79.4887 36.6615 79.4793 35.3061C79.4908 33.9574 79.1258 32.6322 78.4255 31.4796C77.732 30.3266 76.7497 29.3745 75.5757 28.7173C74.3737 28.0352 73.0129 27.6829 71.631 27.6959ZM71.6533 29.0291C72.7591 29.0224 73.8466 29.3117 74.8029 29.8671C75.7575 30.4136 76.5536 31.199 77.1128 32.1462C77.6838 33.1006 77.9803 34.194 77.9696 35.3061C77.9779 36.4249 77.6817 37.5249 77.1128 38.4883C76.5565 39.4462 75.7604 40.2429 74.8029 40.7999C73.8487 41.3616 72.7604 41.6547 71.6533 41.6482C70.5356 41.6561 69.4365 41.3631 68.4711 40.7999C67.5082 40.2457 66.7076 39.4487 66.1491 38.4883C65.5803 37.5249 65.2841 36.4249 65.2923 35.3061C65.2817 34.194 65.5782 33.1006 66.1491 32.1462C66.7168 31.1934 67.5229 30.405 68.4881 29.8587C69.4533 29.3124 70.5442 29.0271 71.6533 29.0308V29.0291ZM93.6458 40.5515L84.3151 27.8313H82.7472V42.8597H84.2295V30.1258L93.5395 42.8528H95.1092V27.8313H93.6458V40.5515ZM99.8593 42.8528H110.201V41.5197H101.343V35.8647H109.024V34.5315H101.343V29.1577H109.922V27.8313H99.8593V42.8528Z'\n        fill='url(#paint1_linear)'\n      />\n      <defs>\n        <linearGradient\n          id='paint0_linear'\n          x1='7.65601'\n          y1='39.4164'\n          x2='42.9993'\n          y2='4.07317'\n          gradientUnits='userSpaceOnUse'\n        >\n          <stop stopColor='#328B31' />\n          <stop offset='0.130208' stopColor='#3F942F' />\n          <stop offset='1' stopColor='#96CF24' />\n        </linearGradient>\n        <linearGradient\n          id='paint1_linear'\n          x1='180.475'\n          y1='43.0004'\n          x2='49.6526'\n          y2='43.0004'\n          gradientUnits='userSpaceOnUse'\n        >\n          <stop stopColor='#96CF24' />\n          <stop offset='1' stopColor='#328B31' />\n        </linearGradient>\n      </defs>\n    </svg>\n  </BaseIcon>\n)\nexport const UsdzLogo = (props: any) => (\n  <BaseIcon {...props}>\n    <svg\n      xmlns='http://www.w3.org/2000/svg'\n      xmlnsXlink='http://www.w3.org/1999/xlink'\n      viewBox='0 0 452.17 452.17'\n      width='44'\n      height='44'\n    >\n      <defs>\n        <linearGradient\n          id='New_Gradient_Swatch_1'\n          x1='66.27'\n          y1='385.87'\n          x2='385.85'\n          y2='66.28'\n          gradientUnits='userSpaceOnUse'\n        >\n          <stop offset='0' stopColor='#328b31' />\n          <stop offset='1' stopColor='#96cf24' />\n        </linearGradient>\n      </defs>\n      <g id='Layer_2' data-name='Layer 2'>\n        <g id='Layer_1-2' data-name='Layer 1'>\n          <path\n            fill='url(#New_Gradient_Swatch_1)'\n            d='M0,225.9c.07,125,101.41,226.35,226.34,226.27A226.19,226.19,0,0,0,434.52,314c48.31-115.32-5.94-248-121.15-296.35C198.6-30.49,66.53,23.18,17.78,137.78A225.1,225.1,0,0,0,0,225.9Zm414.53,0c0,104-84.51,188.54-188.38,188.54S37.77,329.86,37.77,225.9,122.28,37.35,226.15,37.35,414.53,121.93,414.53,225.9ZM148.05,309.28l-86.9-83.19,87.18-83.46v43H231.5L148.56,266.5h-.23v.22l-.28.28Zm155.79.26v-43H220.91l82.93-80.83v-43L391,226.09Z'\n          />\n        </g>\n      </g>\n    </svg>\n  </BaseIcon>\n)\nexport const SortUp = (props: any) => {\n  return (\n    <BaseIcon {...props}>\n      <svg\n        xmlns='http://www.w3.org/2000/svg'\n        width={props.width || '16'}\n        height={props.height || '16'}\n        viewBox={\n          (props.width &&\n            props.height &&\n            `0 0 ${props.width} ${props.height}`) ||\n          '0 0 24 24'\n        }\n      >\n        <path\n          fill={props.color || '#96cf24'}\n          d='M12 0l-8 10h16l-8-10zm3.839 16l-3.839 4.798-3.839-4.798h7.678zm4.161-2h-16l8 10 8-10z'\n        />\n      </svg>\n    </BaseIcon>\n  )\n}\nexport const SortDown = (props: any) => {\n  return (\n    <BaseIcon {...props}>\n      <svg\n        xmlns='http://www.w3.org/2000/svg'\n        width={props.width || '16'}\n        height={props.height || '16'}\n        viewBox={\n          (props.width &&\n            props.height &&\n            `0 0 ${props.width} ${props.height}`) ||\n          '0 0 24 24'\n        }\n      >\n        <path\n          fill={props.color || '#96cf24'}\n          d='M12 3.202l3.839 4.798h-7.678l3.839-4.798zm0-3.202l-8 10h16l-8-10zm8 14h-16l8 10 8-10z'\n        />\n      </svg>\n    </BaseIcon>\n  )\n}\nexport const SortDisabled = (props: any) => {\n  return (\n    <BaseIcon {...props}>\n      <svg\n        xmlns='http://www.w3.org/2000/svg'\n        width={props.width || '16'}\n        height={props.height || '16'}\n        viewBox={\n          (props.width &&\n            props.height &&\n            `0 0 ${props.width} ${props.height}`) ||\n          '0 0 24 24'\n        }\n      >\n        <path\n          fill={props.color || '#777E91'}\n          d='M12 3.202l3.839 4.798h-7.678l3.839-4.798zm0-3.202l-8 10h16l-8-10zm3.839 16l-3.839 4.798-3.839-4.798h7.678zm4.161-2h-16l8 10 8-10z'\n        />\n      </svg>\n    </BaseIcon>\n  )\n}\n","import React, { useEffect } from 'react'\nimport './style.scss'\nimport { ExitIcon } from '../Icons'\n\nexport default ({\n  setVisible,\n  visible,\n  children\n}: {\n  setVisible: any\n  visible: any\n  children: any\n}) => {\n  useEffect(() => {\n    window.addEventListener('keyup', (e: any) => {\n      if (e.which === 27) {\n        setVisible(false)\n      }\n    })\n  }, [])\n\n  return (\n    <div className={`sfarm-modal  ${visible ? 'show' : ''}`}>\n      <div className='overlay' onClick={() => setVisible(false)} />\n      <div className='modal'>\n        <div className='btn-close-wrap'>\n          <span className='btn-close' onClick={() => setVisible(false)}>\n            <ExitIcon />\n          </span>\n        </div>\n        {children}\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport './style.scss'\nimport Button from '../Button'\nimport { ArrowUp } from '../Icons'\nimport {\n  deposit,\n  approveToken,\n  checkDepositError,\n  getNewReferralAddress\n} from '../../service/deposit'\nimport {\n  add,\n  numberToWei,\n  sub,\n  weiToExactNumber,\n  weiToNumber\n} from '../../utils/helpers'\nimport Modal from '../Modal'\nimport { getText } from '../../utils/lang'\n\nexport default ({\n  setVisible,\n  visible,\n  tokenChoosing,\n  useWeb3React,\n  useData,\n  setData,\n  xStorageClient,\n  showLoading\n}: {\n  setVisible: any\n  visible: any\n  tokenChoosing: any\n  useWeb3React: any\n  useData: any\n  setData: any\n  xStorageClient: any\n  showLoading: any\n}) => {\n  const { library: provider, account } = useWeb3React()\n  const [amount, setAmount] = useState<any>(0)\n  const [token, setToken] = useState<any>(null)\n  const { contractABI, contractAddress } = useData()\n  const data = useData()\n  const [sending, setSending] = useState<boolean>(false)\n  const [depositErr, setDepositErr] = useState<any>(false)\n  const [newLzReferral, setNewLzReferral] = useState<string>('')\n\n  useEffect(() => {\n    window.addEventListener('keyup', (e: any) => {\n      if (e.which === 27) {\n        setVisible(false)\n      }\n    })\n  }, [])\n\n  useEffect(() => {\n    if (tokenChoosing) {\n      setToken(tokenChoosing)\n    }\n  }, [tokenChoosing, visible])\n\n  useEffect(() => {\n    if (token && visible) {\n      setAmount(0)\n      fetchNewReferral()\n    }\n  }, [token, visible])\n\n  useEffect(() => {\n    checkError()\n  }, [amount])\n\n  const fetchNewReferral = async () => {\n    setNewLzReferral(\n      await getNewReferralAddress({ xStorageClient, provider, account })\n    )\n  }\n\n  const checkError = async () => {\n    if (!token) return\n    const error = await checkDepositError({\n      provider,\n      stakeTokenAddress: token.address,\n      amount: amount || '0',\n      contractABI,\n      contractAddress\n    })\n    if (error) {\n      setDepositErr(error)\n    } else {\n      setDepositErr(false)\n    }\n  }\n\n  const enableDeposit = () => {\n    const newTokens = [...data.tokens]\n    const index = newTokens.findIndex((t: any) => t.address === token.address)\n    newTokens[index] = {\n      ...token,\n      enableDeposit: 1\n    }\n    setToken(newTokens[index])\n    setData({\n      ...data,\n      tokens: newTokens\n    })\n  }\n\n  if (!token) {\n    return <div />\n  }\n\n  const updateBalanceAndStake = (amount: any) => {\n    const newTokens = [...data.tokens]\n    const index = newTokens.findIndex((t: any) => t.address === token.address)\n    newTokens[index] = {\n      ...token,\n      balance: sub(token.balance, numberToWei(amount))\n    }\n    setData({\n      ...data,\n      tokens: newTokens,\n      stake: add(data.stake, numberToWei(amount))\n    })\n  }\n\n  return (\n    <Modal visible={visible} setVisible={setVisible}>\n      <div className='deposit-modal'>\n        <div className='bank-block'>{getText('bank')}</div>\n        <div>\n          <ArrowUp />\n        </div>\n        <div className='content-block'>\n          <div className='amount-block'>\n            <span>{getText('amount')}:</span>\n            <span>\n              {getText('balance')}: {weiToNumber(token.balance)}\n            </span>\n          </div>\n          <div className='input-block'>\n            <input\n              className='amount-input'\n              type='text'\n              value={amount}\n              onChange={(e) => {\n                if (\n                  !isNaN(Number(e.target.value)) &&\n                  (token.accAllowance !== '0' || token.enableDeposit)\n                ) {\n                  setAmount(e.target.value)\n                }\n              }}\n            />\n            <button\n              disabled={token.accAllowance === '0' && !depositErr}\n              className={\n                token.accAllowance === '0' && !depositErr\n                  ? 'btn-max disabled'\n                  : 'btn-max'\n              }\n              onClick={() => setAmount(weiToExactNumber(token.balance))}\n            >\n              {getText('max')}\n            </button>\n            <div className='token-info'>\n              {token && <img src={token.logo} alt={token.symbol} />}\n              <span>{token.symbol}</span>\n            </div>\n          </div>\n        </div>\n        <span className='info'>{getText('depositWarning')}</span>\n        <div className='buttons'>\n          {token.accAllowance === '0' && !depositErr ? (\n            <Button\n              onClick={async () => {\n                showLoading(true)\n                setSending(true)\n                const approved = await approveToken({\n                  provider,\n                  tokenAddress: token.address,\n                  contractABI,\n                  contractAddress\n                })\n                if (approved) {\n                  enableDeposit()\n                }\n                setSending(false)\n                showLoading(false)\n              }}\n              style={{ width: '100%' }}\n              disabled={\n                sending || token.accAllowance !== '0' || token.enableDeposit\n              }\n            >\n              {getText('enable')} {token.symbol}\n            </Button>\n          ) : (\n            ''\n          )}\n          <Button\n            onClick={async () => {\n              showLoading(true)\n              setSending(true)\n              const success = await deposit({\n                provider,\n                stakeTokenAddress: token.address,\n                amount,\n                contractABI,\n                newLzReferral,\n                contractAddress\n              })\n              if (success) {\n                updateBalanceAndStake(amount)\n                setVisible(false)\n              }\n              setSending(false)\n              showLoading(false)\n            }}\n            style={{ width: '100%' }}\n            disabled={\n              sending ||\n              (token.accAllowance === '0' && !token.enableDeposit) ||\n              depositErr ||\n              Number(amount) === 0\n            }\n          >\n            {depositErr || getText('deposit')}\n          </Button>\n        </div>\n        {token.accAllowance === '0' && (\n          <div className='step-deposit'>\n            <span\n              className={`step ${\n                token.enableDeposit ? 'step-not-active' : 'step-active'\n              }`}\n            >\n              1\n            </span>\n            <span\n              className={`step-line ${token.enableDeposit ? 'right' : 'left'}`}\n            />\n            <span\n              className={`step ${\n                token.enableDeposit ? 'step-active' : 'step-not-active'\n              }`}\n            >\n              2\n            </span>\n          </div>\n        )}\n      </div>\n    </Modal>\n  )\n}\n","import { ethers } from 'ethers'\nimport { numberToWei } from '../utils/helpers'\nimport { toast } from 'react-toastify'\nimport { getText } from '../utils/lang'\nimport { getConfig } from '../utils/config'\nimport LZCitizenAbi from '../assets/abis/LZCitizen.abi.json'\n\nexport const deposit = async ({\n  provider,\n  stakeTokenAddress,\n  amount,\n  newLzReferral,\n  contractABI,\n  contractAddress\n}: {\n  provider: any\n  stakeTokenAddress: string\n  amount: string\n  newLzReferral: any\n  contractABI: any\n  contractAddress: string\n}) => {\n  try {\n    amount = numberToWei(amount)\n    const signer = provider.getSigner()\n    const SfarmContract = new ethers.Contract(\n      contractAddress,\n      contractABI,\n      signer\n    )\n\n    let txRes\n    if (newLzReferral) {\n      console.log('referAndDeposit', newLzReferral)\n      txRes = await SfarmContract.functions.referAndDeposit(\n        newLzReferral,\n        stakeTokenAddress,\n        amount\n      )\n    } else {\n      console.log('deposit without refer')\n      txRes = await SfarmContract.functions.deposit(stakeTokenAddress, amount)\n    }\n    await txRes.wait(1)\n\n    toast.success(getText('deposit_success'))\n    return true\n  } catch (e) {\n    if (e.data && e.data.message) {\n      toast.error(e.data.message)\n    } else {\n      toast.error(e.message || 'Error')\n    }\n    return false\n  }\n}\n\nexport const getNewReferralAddress = async ({\n  xStorageClient,\n  account,\n  provider\n}: {\n  xStorageClient: any\n  account: string\n  provider: any\n}) => {\n  try {\n    if (!xStorageClient) {\n      return ''\n    }\n\n    const signer = provider.getSigner()\n    const CitizenContract = new ethers.Contract(\n      getConfig('REFERRAL_CONTRACT_ADDRESS'),\n      LZCitizenAbi,\n      signer\n    )\n\n    const [lzReferral, referral] = await Promise.all([\n      xStorageClient\n        .get('LZ_REFERRAL')\n        .then((address: string) =>\n          address ? ethers.utils.getAddress(address) : undefined\n        )\n        .catch(console.error),\n      CitizenContract.functions\n        .getReferrer(account)\n        .then((r: any) => r[0])\n        .catch(console.error)\n    ])\n\n    return lzReferral &&\n      ethers.utils.isAddress(lzReferral) &&\n      lzReferral !== referral\n      ? lzReferral\n      : ''\n  } catch (e) {\n    console.error(e)\n    return ''\n  }\n}\n\nexport const approveToken = async ({\n  provider,\n  tokenAddress,\n  contractABI,\n  contractAddress\n}: {\n  provider: any\n  tokenAddress: string\n  contractABI: any\n  contractAddress: string\n}) => {\n  try {\n    const signer = provider.getSigner()\n    const SfarmContract = new ethers.Contract(tokenAddress, contractABI, signer)\n\n    const txRes = await SfarmContract.functions.approve(\n      contractAddress,\n      getConfig('LARGE_VALUE')\n    )\n    await txRes.wait(1)\n\n    toast.success('Approve success')\n    return true\n  } catch (e) {\n    if (e.data && e.data.message) {\n      toast.error(e.data.message)\n    } else {\n      toast.error(e.message || 'Error')\n    }\n    return false\n  }\n}\n\nexport const checkDepositError = async ({\n  provider,\n  stakeTokenAddress,\n  amount,\n  contractABI,\n  contractAddress\n}: {\n  provider: any\n  stakeTokenAddress: string\n  amount: string\n  contractABI: any\n  contractAddress: string\n}) => {\n  try {\n    amount = numberToWei(amount)\n    const signer = provider.getSigner()\n    const SfarmContract = new ethers.Contract(\n      contractAddress,\n      contractABI,\n      signer\n    )\n    await SfarmContract.callStatic.deposit(stakeTokenAddress, amount)\n\n    return null\n  } catch (e) {\n    let message = ''\n    if (e.data && e.data.message) {\n      message = e.data.message\n    } else {\n      message = e.message || 'Error'\n    }\n    return message.includes('execution reverted:')\n      ? message.slice('execution reverted:'.length)\n      : message\n  }\n}\n","import { ethers } from 'ethers'\nimport { numberToWei, parseSolidityRevertMessage } from '../utils/helpers'\nimport { toast } from 'react-toastify'\nimport { getText } from '../utils/lang'\nimport _ from 'lodash'\nimport { abi as abiIERC20 } from '../assets/abis/IERC20.json'\nimport { abi as abiRouter } from '../assets/abis/UniswapV2Router01.json'\nimport { abi as abiPair } from '../assets/abis/UniswapV2Pair.json'\nimport { getConfig } from '../utils/config'\n\nconst bn = ethers.BigNumber.from\nconst ABIs = [abiIERC20, abiRouter, abiPair]\n  .reduce((abi: any, a) => abi.concat(a), [])\n  .reduce((items: any, item: any) => {\n    if (!items.some(({ name }: any) => name === item.name)) {\n      items.push(item)\n    }\n    return items\n  }, [])\n\nconst iface = new ethers.utils.Interface(ABIs)\n\nexport const checkWithdrawError = async ({\n  provider,\n  stakeTokenAddress,\n  amount,\n  account,\n  data\n}: {\n  provider: any\n  stakeTokenAddress: string\n  amount: string\n  data: any\n  account: string\n}) => {\n  try {\n    amount = numberToWei(amount)\n    const rls = await withdrawRLS({\n      data,\n      token: stakeTokenAddress,\n      provider,\n      amount,\n      account,\n      verify: true\n    })\n\n    console.log('rls in check error', rls)\n\n    const signer = provider.getSigner()\n    const SfarmContract = new ethers.Contract(\n      data.contractAddress,\n      data.contractABI,\n      signer\n    )\n    await SfarmContract.callStatic.withdraw(stakeTokenAddress, amount, rls)\n\n    return null\n  } catch (e) {\n    let message = ''\n    if (e.data && e.data.message) {\n      message = e.data.message\n    } else {\n      message = e.message || 'Error'\n    }\n    return message.includes('execution reverted:')\n      ? message.slice('execution reverted:'.length)\n      : message\n  }\n}\n\nexport const withdraw = async ({\n  provider,\n  data,\n  stakeTokenAddress,\n  amount,\n  account\n}: {\n  provider: any\n  stakeTokenAddress: string\n  amount: string\n  account: string\n  data: any\n}) => {\n  try {\n    amount = numberToWei(amount)\n    const rls = await withdrawRLS({\n      data,\n      token: stakeTokenAddress,\n      provider,\n      amount,\n      account,\n      verify: true\n    })\n    console.log('rls =', rls)\n\n    const signer = provider.getSigner()\n    const SfarmContract = new ethers.Contract(\n      data.contractAddress,\n      data.contractABI,\n      signer\n    )\n\n    const txRes = await SfarmContract.functions.withdraw(\n      stakeTokenAddress,\n      amount,\n      rls\n    )\n    await txRes.wait(1)\n    toast.success(getText('withdraw_success'))\n    return true\n  } catch (e) {\n    if (e.data && e.data.message) {\n      toast.error(e.data.message)\n    } else {\n      toast.error(e.message || 'Error')\n    }\n    return false\n  }\n}\n\nexport const getWithdrawable = async ({\n  token,\n  data,\n  provider\n}: {\n  token: string\n  data: any\n  provider: any\n}) => {\n  const extracted = await pancakeExtract({\n    stakeToken: token,\n    bankTokenBalances: data.bankTokenBalances,\n    bankConfig: data,\n    provider\n  })\n\n  const best = extracted.liquidable.reduce((best: any, item) => {\n    return !best || best.value.lt(item.value) ? item : best\n  }, undefined)\n\n  return extracted.balance.add((best?.value ?? bn(0)).mul(99).div(100))\n}\n\nexport const withdrawRLS = async ({\n  data,\n  token,\n  provider,\n  amount,\n  account,\n  verify\n}: {\n  data: any\n  token: string\n  provider: any\n  amount: any\n  account: any\n  verify: boolean\n}) => {\n  amount = bn(amount)\n  const extracted = await pancakeExtract({\n    stakeToken: token,\n    bankTokenBalances: data.bankTokenBalances,\n    bankConfig: data,\n    provider\n  })\n\n  if (extracted.balance.gte(amount)) {\n    return []\n  }\n\n  const amountNeeded = amount.sub(extracted.balance)\n\n  // console.log(bns(extracted))\n  const liquidable = extracted.liquidable.sort((a, b) => {\n    if (a.value.gt(b.value)) return 1\n    if (a.value.lt(b.value)) return -1\n    return 0\n  })\n\n  let firstError\n  for (let i = liquidable.length - 1; i >= 0; --i) {\n    try {\n      // NOTE: typescript transpiler does something spooky here that make return await failed\n      const result = await _extractRLS({\n        data,\n        token,\n        provider,\n        amount,\n        account,\n        verify,\n        amountNeeded,\n        best: liquidable[i]\n      })\n      return result\n    } catch (err) {\n      if (!firstError) {\n        firstError = err\n      }\n      console.warn(err)\n    }\n  }\n  throw firstError\n}\n\nconst _extractRLS = async ({\n  data,\n  token,\n  provider,\n  amount,\n  account,\n  verify,\n  amountNeeded,\n  best\n}: {\n  data: any\n  token: string\n  provider: any\n  amount: any\n  account: any\n  verify: boolean\n  amountNeeded: any\n  best: any\n}) => {\n  if (best.value.lt(amountNeeded)) {\n    throw new Error(\n      `unlockable insufficient: ${best.value.toString()} < ${amountNeeded.toString()}`\n    )\n  }\n\n  const {\n    pair: pairAddress,\n    unlocked,\n    removeTx,\n    unlockTx,\n    pairIn,\n    tokenOut,\n    other\n  } = best\n\n  const liquidityNeed = amountNeeded\n    .mul(pairIn)\n    .mul(1000)\n    .div(995)\n    .div(tokenOut)\n\n  const rls = []\n\n  if (liquidityNeed.gt(unlocked)) {\n    const liquidityMissing = liquidityNeed.sub(unlocked)\n\n    const [tx, receipt] = await Promise.all([\n      provider.getTransaction(unlockTx),\n      provider.getTransactionReceipt(unlockTx)\n    ])\n\n    receipt.logs.forEach((log: any) => {\n      try {\n        log.parsed = iface.parseLog(log)\n        // console.error(log.parsed)\n      } catch (err) {\n        if (err.reason !== 'no matching event') {\n          throw err\n        }\n      }\n    })\n\n    const originalAmount = receipt.logs.find(\n      (log: any) =>\n        log.address === pairAddress &&\n        log.parsed?.name === 'Transfer' &&\n        log.parsed?.args.to === data.contractAddress\n    ).parsed.args.value\n\n    const originalAmountHex = ethers.utils\n      .hexZeroPad(originalAmount.toHexString(), 32)\n      .substr(2)\n    const amountHex = ethers.utils\n      .hexZeroPad(liquidityMissing.toHexString(), 32)\n      .substr(2)\n\n    // console.error({originalAmountHex, amountHex, input: tx.data.substring(10+64*4, tx.data.length-56)})\n    const exec = {\n      router: ethers.utils.getAddress(tx.data.substr(10 + 64 + 24, 40)),\n      input:\n        '0x' +\n        tx.data\n          .substring(10 + 64 * 4, tx.data.length - 56)\n          .replace(originalAmountHex, amountHex)\n    }\n    // console.error({tx, receipt, exec})\n\n    if (verify) {\n      try {\n        const res = await provider.call(\n          {\n            from: data.contractAddress,\n            to: exec.router,\n            data: exec.input\n          },\n          'pending'\n        )\n        // console.error({res})\n        const err = parseSolidityRevertMessage(res)\n        if (err) {\n          throw new Error(err)\n        }\n      } catch (err) {\n        console.error('farm.withdraw', err)\n        throw err\n      }\n    }\n\n    rls.push({\n      receivingToken: getConfig('ZERO_ADDRESS'),\n      execs: [exec]\n    })\n  }\n\n  const tx = await provider.getTransaction(removeTx)\n\n  const routerAddress = ethers.utils.getAddress(\n    tx.data.substr(10 + 64 + 24, 40)\n  )\n  const router = new ethers.Contract(routerAddress, abiRouter, provider)\n\n  if (verify) {\n    try {\n      const pair = new ethers.Contract(pairAddress, abiPair, provider)\n      const allowance = await pair.callStatic.allowance(\n        data.contractAddress,\n        router.address\n      )\n      if (allowance.lte(0)) {\n        throw new Error(\n          `No allowance for ${router.address} to spend ${pairAddress} of SFarm (${data.contractAddress})`\n        )\n      }\n    } catch (err) {\n      console.error(\n        `${pairAddress}.allowance(${data.contractAddress}, ${router.address})`,\n        err\n      )\n      throw err\n    }\n    if (rls.length === 0) {\n      try {\n        await router.callStatic.removeLiquidity(\n          token,\n          other,\n          liquidityNeed,\n          0,\n          0,\n          data.contractAddress,\n          getConfig('LARGE_VALUE'),\n          { from: data.contractAddress }\n        )\n      } catch (err) {\n        console.error(\n          `removeLiquidity(${token}, ${other}) => ${pairAddress}`,\n          err\n        )\n        throw err\n      }\n    }\n  }\n\n  {\n    const tx = await router.populateTransaction.removeLiquidity(\n      token,\n      other,\n      liquidityNeed,\n      0,\n      0,\n      data.contractAddress,\n      getConfig('LARGE_VALUE'),\n      { from: data.contractAddress }\n    )\n    rls.push({\n      receivingToken: token,\n      execs: [\n        {\n          router: router.address,\n          input: tx.data\n        }\n      ]\n    })\n  }\n\n  const signer = provider.getSigner()\n  const SfarmContract = new ethers.Contract(\n    data.contractAddress,\n    data.contractABI,\n    signer\n  )\n\n  if (verify) {\n    try {\n      await SfarmContract.callStatic.withdraw(token, amount, rls, {\n        from: account\n      })\n    } catch (err) {\n      console.error(`SFarm.withdraw(${token})`, rls, err)\n      throw err\n    }\n  }\n\n  return rls\n}\n\nconst pancakeExtract = async ({\n  stakeToken,\n  bankTokenBalances,\n  bankConfig,\n  provider\n}: {\n  stakeToken: string\n  bankTokenBalances: any\n  bankConfig: any\n  provider: any\n}) => {\n  let removableLPs = bankConfig.bankLiquidity.filter(\n    ({ address, txOut }: any) => address === getConfig('ZERO_ADDRESS') && txOut\n  )\n  await Promise.all(\n    removableLPs.map((l: any) =>\n      provider\n        .getTransactionReceipt(l.txOut)\n        .then((receipt: any) => (l.receipt = receipt))\n    )\n  )\n  removableLPs.forEach((l: any) =>\n    l.receipt.logs.forEach((log: any) => {\n      try {\n        log.parsed = iface.parseLog(log)\n      } catch (err) {\n        if (err.reason !== 'no matching event') {\n          throw err\n        }\n      }\n    })\n  )\n\n  let removableStakeLPs = removableLPs.filter((l: any) =>\n    l?.receipt.logs.some(\n      (log: any) =>\n        log.parsed?.name === 'Transfer' && log.address === stakeToken\n    )\n  )\n\n  removableStakeLPs.forEach((l: any) => {\n    const transferLogs = l.receipt.logs.filter(\n      (log: any) => log.parsed?.name === 'Transfer'\n    )\n    l.valueLP = transferLogs.find(\n      (log: any) =>\n        log.address === l.token &&\n        log.parsed?.args.from === bankConfig.contractAddress\n    ).parsed.args.value\n    l.valueToken = transferLogs.find(\n      (log: any) =>\n        log.address === stakeToken &&\n        log.parsed?.args.to === bankConfig.contractAddress\n    ).parsed.args.value\n    l.other = transferLogs.find(\n      (log: any) =>\n        log.address !== stakeToken &&\n        log.parsed?.args.to === bankConfig.contractAddress\n    ).address\n    l.valueOther = transferLogs.find(\n      (log: any) =>\n        log.address !== stakeToken &&\n        log.parsed?.args.to === bankConfig.contractAddress\n    ).parsed.args.value\n  })\n\n  removableLPs = _.keyBy(removableLPs, 'token')\n  removableStakeLPs = _.keyBy(removableStakeLPs, 'token')\n\n  let unlockableLPs = bankConfig.bankLiquidity.filter(\n    ({ address, token, txIn }: any) =>\n      address !== getConfig('ZERO_ADDRESS') && txIn && removableStakeLPs[token]\n  )\n  unlockableLPs = _.keyBy(unlockableLPs, 'token')\n\n  return {\n    balance: bn(bankTokenBalances[stakeToken] ?? 0),\n    liquidable: Object.keys(removableStakeLPs).map((pair) => {\n      const unlocked = bn(bankTokenBalances[pair] ?? 0)\n      const unlockable = bn(unlockableLPs[pair]?.balance ?? 0)\n      const removeTx = removableStakeLPs[pair].txOut\n      const unlockTx = unlockableLPs[pair]?.txIn\n      const pairIn = removableStakeLPs[pair].valueLP\n      const tokenOut = removableStakeLPs[pair].valueToken\n      const other = removableStakeLPs[pair].other\n      const otherOut = removableStakeLPs[pair].valueOther\n      const value = unlocked.add(unlockable).mul(tokenOut).div(pairIn)\n      return {\n        pair,\n        unlocked,\n        unlockable,\n        removeTx,\n        unlockTx,\n        pairIn,\n        tokenOut,\n        other,\n        otherOut,\n        value\n      }\n    })\n  }\n}\n","import React, { useCallback, useEffect, useState } from 'react'\nimport './style.scss'\nimport Button from '../Button'\nimport { ArrowDown } from '../Icons'\nimport {\n  add,\n  numberToWei,\n  sub,\n  weiToExactNumber,\n  weiToNumber\n} from '../../utils/helpers'\nimport {\n  withdraw,\n  checkWithdrawError,\n  getWithdrawable\n} from '../../service/withdraw'\nimport Modal from '../Modal'\nimport { getText } from '../../utils/lang'\nimport { BigNumber } from 'ethers'\nimport { toast } from 'react-toastify'\n\nexport default ({\n  setVisible,\n  visible,\n  tokenChoosing: token,\n  useWeb3React,\n  useData,\n  setData,\n  showLoading\n}: {\n  setVisible: any\n  visible: any\n  tokenChoosing: any\n  useWeb3React: any\n  useData: any\n  setData: any\n  showLoading: any\n}) => {\n  const { library: provider, account } = useWeb3React()\n  const [amount, setAmount] = useState<any>(0)\n  const [withdrawable, setWithdrawable] = useState<any>('')\n  const { stake } = useData()\n  const data = useData()\n  const [sending, setSending] = useState<boolean>(false)\n  const [withdrawErr, setWithdrawErr] = useState<any>(false)\n\n  useEffect(() => {\n    window.addEventListener('keyup', (e: any) => {\n      if (e.which === 27) {\n        setVisible(false)\n      }\n    })\n  }, [])\n\n  useEffect(() => {\n    if (token && visible) {\n      setWithdrawable('...')\n      fetchWithdrawable()\n      setAmount(0)\n    }\n  }, [token, visible])\n\n  useEffect(() => {\n    setWithdrawErr('')\n  }, [visible])\n\n  useEffect(() => {\n    checkError()\n  }, [amount])\n\n  const fetchWithdrawable = async () => {\n    try {\n      const w = await getWithdrawable({\n        token: token.address,\n        data,\n        provider\n      })\n      setWithdrawable(w)\n    } catch (error) {\n      toast.error('Withdrawable data cannot be load, please try again later.')\n    }\n  }\n\n  const checkError = async () => {\n    if (!token) return\n    const error = await checkWithdrawError({\n      provider,\n      stakeTokenAddress: token.address,\n      amount: amount || '0',\n      data,\n      account\n    })\n    if (error) {\n      setWithdrawErr(error)\n    } else {\n      setWithdrawErr(false)\n    }\n  }\n\n  const updateBalanceAndStake = (amount: any) => {\n    const newTokens = [...data.tokens]\n    const index = newTokens.findIndex((t: any) => t.address === token.address)\n    newTokens[index] = {\n      ...token,\n      balance: add(token.balance, numberToWei(amount))\n    }\n    setData({\n      ...data,\n      tokens: newTokens,\n      stake: sub(data.stake, numberToWei(amount))\n    })\n  }\n  const renderWarning = useCallback(() => {\n    if (withdrawable instanceof BigNumber && withdrawable.lt(stake))\n      return <span className='info'>{getText('withdrawWarining')}</span>\n    return null\n  }, [withdrawable, stake])\n  if (!token) {\n    return <div />\n  }\n\n  return (\n    <Modal visible={visible} setVisible={setVisible}>\n      <div className='withdraw-modal'>\n        <div className='bank-block'>{getText('bank')}</div>\n        <div>\n          <ArrowDown />\n        </div>\n        <div className='content-block'>\n          <div className='amount-block'>\n            <span>{getText('amount')}:</span>\n            <span>\n              {getText('available')}:{' '}\n              {withdrawable instanceof BigNumber\n                ? weiToNumber(\n                    withdrawable.lte(0)\n                      ? BigNumber.from(0)\n                      : withdrawable.gt(stake)\n                      ? stake\n                      : withdrawable\n                  )\n                : withdrawable}\n            </span>\n          </div>\n          <div className='input-block'>\n            <input\n              className='amount-input'\n              type='text'\n              value={amount}\n              onChange={(e) => {\n                if (!isNaN(Number(e.target.value))) {\n                  setAmount(e.target.value)\n                }\n              }}\n            />\n            <button\n              className='btn-max'\n              onClick={() => {\n                const maxAmount =\n                  Number(withdrawable) > Number(stake)\n                    ? weiToExactNumber(stake)\n                    : weiToExactNumber(withdrawable)\n                setAmount(maxAmount)\n              }}\n            >\n              {getText('max')}\n            </button>\n            <div className='token-info'>\n              {token && <img src={token.logo} alt={token.symbol} />}\n              <span>{token.symbol}</span>\n            </div>\n          </div>\n        </div>\n        {renderWarning()}\n        <div className='buttons'>\n          <Button\n            onClick={async () => {\n              showLoading(true)\n              setSending(true)\n\n              const withdrawSuccess = await withdraw({\n                provider,\n                stakeTokenAddress: token.address,\n                amount: amount || '0',\n                data,\n                account\n              })\n\n              if (withdrawSuccess) {\n                updateBalanceAndStake(amount)\n                setVisible(false)\n              }\n              setSending(false)\n              showLoading(false)\n            }}\n            style={{ width: '100%' }}\n            disabled={sending || withdrawErr || Number(amount) === 0}\n          >\n            {withdrawErr || getText('withdraw')}\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  )\n}\n","import React, { useEffect, useState, useCallback } from 'react'\nimport './style.scss'\nimport Button from '../Button'\nimport { Input } from '../Input'\nimport { SearchIcon, SortDown, SortUp, SortDisabled } from '../Icons'\nimport ModalDeposit from '../ModalDeposit'\nimport ModalWithdraw from '../ModalWithdraw'\nimport { formatFloat, weiToNumber } from '../../utils/helpers'\nimport { BigNumber } from 'ethers'\nimport { getText } from '../../utils/lang'\nimport { fetchFarmLiquidity } from '../../service/get-current-state'\nimport { orderBy } from 'lodash'\n\nconst SORT_BALANCE_LOW_TO_HIGH = '1'\nconst SORT_BALANCE_HIGH_LOW_TO = '2'\nconst TYPE_SORT = {\n  ASC: 'asc',\n  DESC: 'desc'\n}\nexport const Logo = ({ ...props }) => {\n  const [err, setErr] = useState(false)\n  if (err) return <div className='token-logo-error' />\n\n  return (\n    <img\n      {...props}\n      onError={() => {\n        setErr(true)\n      }}\n    />\n  )\n}\nexport default ({\n  useData,\n  setData,\n  showLoading,\n  useWeb3React,\n  xStorageClient\n}: {\n  useData: any\n  useWeb3React: any\n  showLoading: any\n  setData: any\n  xStorageClient: any\n}) => {\n  const { tokens, lockedSeconds, tokensWithAPY, stake } = useData()\n  const [visibleDeposit, setVisibleDeposit] = useState<any>(false)\n  const [tokensDisplay, setTokensDisplay] = useState<any>(false)\n  const [visibleWithdraw, setVisibleWithdraw] = useState<any>(false)\n  const [tokenChoosing, setTokenChoosing] = useState<any>()\n  const [searchString, setSearchString] = useState<string>('')\n  const [sortType] = useState<string>('')\n  const [sort, setSort] = useState<any>({\n    balance: 'desc'\n  })\n  useEffect(() => {\n    if (tokens) {\n      setTokensDisplay(tokens.filter(searchHandle).sort(sortHandle))\n    } else {\n      setTokensDisplay(false)\n    }\n  }, [searchString, sortType, tokens])\n\n  const refreshFarmLquidity = useCallback(() => {\n    const data = useData()\n    fetchFarmLiquidity().then((bankLiquidity: any) => {\n      setData({\n        ...data,\n        bankLiquidity\n      })\n    })\n  }, [setData, useData])\n  // useEffect(() => {\n  //   setTokensDisplay(tokens)\n  // }, [tokens])\n\n  const searchHandle = (e: any) => {\n    return (\n      e.name?.toLowerCase().includes(searchString.toLowerCase()) ||\n      e.symbol?.toLowerCase().includes(searchString.toLowerCase())\n    )\n  }\n\n  const sortHandle = (a: any, b: any) => {\n    if (sortType === SORT_BALANCE_LOW_TO_HIGH) {\n      return parseFloat(a.balance) - parseFloat(b.balance)\n    } else if (sortType === SORT_BALANCE_HIGH_LOW_TO) {\n      return parseFloat(b.balance) - parseFloat(a.balance)\n    }\n    return null\n  }\n  const handleSortName = useCallback(() => {\n    setSort({\n      name: sort.name === TYPE_SORT.ASC ? TYPE_SORT.DESC : TYPE_SORT.ASC\n    })\n  }, [sort])\n  const handleSortBalance = useCallback(() => {\n    setSort({\n      balance: sort.balance === TYPE_SORT.DESC ? TYPE_SORT.ASC : TYPE_SORT.DESC\n    })\n  }, [sort])\n  const handleSortApy = useCallback(() => {\n    setSort({\n      apy: sort.apy === TYPE_SORT.DESC ? TYPE_SORT.ASC : TYPE_SORT.DESC\n    })\n  }, [sort])\n  useEffect(() => {\n    if (tokens && sort.name) {\n      setTokensDisplay(\n        orderBy(\n          tokens.filter(searchHandle),\n          'name',\n          sort.name === 'asc' ? 'asc' : 'desc'\n        )\n      )\n    }\n  }, [sort.name, tokens])\n  useEffect(() => {\n    if (tokens && sort.balance) {\n      setTokensDisplay(\n        orderBy(\n          tokens.filter(searchHandle),\n          'balance',\n          sort.balance === 'asc' ? 'asc' : 'desc'\n        )\n      )\n    }\n  }, [sort.balance, tokens])\n  useEffect(() => {\n    if (tokens && sort.apy) {\n      setTokensDisplay(\n        orderBy(\n          tokens.filter(searchHandle),\n          (tk) => {\n            const depositApy =\n              tokensWithAPY.find((t: any) => t.name === tk.symbol)\n                ?.depositWithAPY || 0\n            return (\n              parseFloat(weiToNumber(depositApy)) ||\n              (sort.apy === 'asc'\n                ? Number.MAX_SAFE_INTEGER\n                : Number.MIN_SAFE_INTEGER)\n            )\n          },\n          sort.apy === 'asc' ? 'asc' : 'desc'\n        )\n      )\n    }\n  }, [sort.apy, tokensWithAPY, tokens])\n  const renderIcon = useCallback((type) => {\n    if (!type) return <SortDisabled />\n    return type === 'asc' ? <SortUp /> : <SortDown />\n  }, [])\n  return (\n    <div className='token-assets'>\n      <div className='head'>\n        <span className='text-gradient hidden-on-phone font-size-18 font-weight-5'>\n          {getText('assets')}\n        </span>\n        <div className='filter'>\n          <Input\n            placeholder={getText('search_farm')}\n            suffix={<SearchIcon />}\n            onChange={(e: any) => setSearchString(e.target.value)}\n          />\n        </div>\n      </div>\n      <div className='assets-content'>\n        <div className='tables'>\n          <div className='table-box'>\n            <table className='table'>\n              <thead>\n                <tr>\n                  <th>\n                    <div onClick={handleSortName} className='table-header'>\n                      <span>{getText('asset')}</span>\n                      {renderIcon(sort.name)}\n                    </div>\n                  </th>\n                  <th>\n                    <div onClick={handleSortBalance} className='table-header'>\n                      <span>{getText('balance')}</span>\n                      {renderIcon(sort.balance)}\n                    </div>\n                  </th>\n                  {tokensWithAPY && tokensWithAPY.length > 0 && (\n                    <th>\n                      <div onClick={handleSortApy} className='table-header'>\n                        <span>{getText('apy')}</span>\n                        {renderIcon(sort.apy)}\n                      </div>\n                    </th>\n                  )}\n                  <th />\n                </tr>\n              </thead>\n              <tbody>\n                {tokensDisplay\n                  ? tokensDisplay.map((token: any, key: number) => {\n                      const result: {\n                        totalDeposit?: string\n                        depositWithAPY?: string\n                      } = tokensWithAPY\n                        ? tokensWithAPY.find(\n                            (t: any) => t.name === token.symbol\n                          )\n                        : null\n                      const { depositWithAPY: apy } = result || {}\n                      return (\n                        <tr key={key}>\n                          <td>\n                            <div>\n                              <Logo\n                                src={token.logo}\n                                className={\n                                  token.logo\n                                    ? 'token-logo'\n                                    : 'token-logo-transparent'\n                                }\n                              />\n                              <span className='symbol'>{token.symbol}</span>\n                            </div>\n                          </td>\n                          <td className='balance-td'>\n                            <p className='text-default user-balance'>\n                              <span className='balance'>\n                                {weiToNumber(token.balance) || 0}\n                              </span>\n                            </p>\n                          </td>\n                          {tokensWithAPY && tokensWithAPY.length > 0 && (\n                            <td>\n                              <p className='text-green-1 user-balance'>\n                                <span className='balance'>\n                                  {apy\n                                    ? formatFloat(weiToNumber(apy), 2) + '%'\n                                    : ''}\n                                </span>\n                              </p>\n                            </td>\n                          )}\n                          <td>\n                            <div>\n                              <Button\n                                type='white'\n                                size='large'\n                                className='font-weight'\n                                onClick={() => {\n                                  setVisibleDeposit(true)\n                                  setTokenChoosing(token)\n                                }}\n                                disabled={\n                                  token.balance == null ||\n                                  (token.balance &&\n                                    BigNumber.from(token.balance).isZero())\n                                }\n                              >\n                                {getText('deposit')}\n                              </Button>\n                              <Button\n                                type='white'\n                                size='large'\n                                className='font-weight'\n                                onClick={() => {\n                                  refreshFarmLquidity()\n                                  setVisibleWithdraw(true)\n                                  setTokenChoosing(token)\n                                }}\n                                // disabled={Number(lockedSeconds) > 0}\n                                disabled={\n                                  lockedSeconds == null ||\n                                  lockedSeconds > 0 ||\n                                  stake == null ||\n                                  (stake && BigNumber.from(stake).isZero())\n                                }\n                              >\n                                {getText('withdraw')}\n                              </Button>\n                            </div>\n                          </td>\n                        </tr>\n                      )\n                    })\n                  : [1, 2, 3, 4].map((_, key) => (\n                      <tr key={key}>\n                        <td>\n                          <div>\n                            <div className='skeleton-loader__bone token-logo radius-100' />\n                            <span className='skeleton-loader__bone flex-1 symbol-transparent'>\n                              BUSD\n                            </span>\n                          </div>\n                        </td>\n                        <td className='balance-td'>\n                          <p className='text-default user-balance'>\n                            <div className='skeleton-loader__bone flex-1' />\n                          </p>\n                        </td>\n                        {tokensWithAPY && tokensWithAPY.length > 0 && (\n                          <td>\n                            <p className='text-green-1 user-balance'>\n                              <div className='skeleton-loader__bone flex-1' />\n                            </p>\n                          </td>\n                        )}\n                        <td>\n                          <div>\n                            <Button\n                              type='white'\n                              size='large'\n                              className='font-weight'\n                              disabled\n                            >\n                              {getText('deposit')}\n                            </Button>\n                            <Button\n                              type='white'\n                              size='large'\n                              className='font-weight'\n                              // disabled={Number(lockedSeconds) > 0}\n                              disabled\n                            >\n                              {getText('withdraw')}\n                            </Button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <ModalDeposit\n          showLoading={showLoading}\n          visible={visibleDeposit}\n          setVisible={setVisibleDeposit}\n          tokenChoosing={tokenChoosing}\n          useWeb3React={useWeb3React}\n          useData={useData}\n          setData={setData}\n          xStorageClient={xStorageClient}\n        />\n        <ModalWithdraw\n          showLoading={showLoading}\n          visible={visibleWithdraw}\n          setVisible={setVisibleWithdraw}\n          tokenChoosing={tokenChoosing}\n          useWeb3React={useWeb3React}\n          useData={useData}\n          setData={setData}\n        />\n      </div>\n    </div>\n  )\n}\n","import React, {\n  useCallback,\n  useImperativeHandle,\n  useRef,\n  useState\n} from 'react'\nimport Button from '../Button'\nimport Modal from '../Modal'\nimport './style.scss'\nexport default React.forwardRef(({ message }: { message?: string }, ref) => {\n  const [visible, setVisible] = useState(false)\n  const dic = useRef<any>({})\n  const handleCancel = useCallback(() => {\n    dic.current.onCancel && dic.current.onCancel()\n    setVisible(false)\n    dic.current = {}\n  }, [])\n  const handleOnConfirm = useCallback(() => {\n    dic.current.onConfirm && dic.current.onConfirm()\n    setVisible(false)\n    dic.current = {}\n  }, [])\n  const handleVisible = useCallback((visible, onCancel, onConfirm) => {\n    setVisible(visible)\n    dic.current.onCancel = onCancel\n    dic.current.onConfirm = onConfirm\n  }, [])\n  useImperativeHandle(\n    ref,\n    () => ({\n      handleVisible\n    }),\n    []\n  )\n\n  return (\n    <Modal visible={visible} setVisible={setVisible}>\n      <div className='warning-dialog'>\n        <span className='warning-message'>{message}</span>\n        <div className='warning-button'>\n          <Button type='white' className='button-cancel' onClick={handleCancel}>\n            Cancel\n          </Button>\n          <Button className='button-confirm' onClick={handleOnConfirm}>\n            Confirm\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  )\n})\n","import React, { useCallback, useImperativeHandle, useMemo, useRef, useState } from 'react'\nimport './style.scss'\nimport { formatFloat, numberToWei, weiToNumber } from '../../utils/helpers'\nimport Button from '../Button'\nimport { LockIcon } from '../Icons'\nimport WarningDialog from '../WarningDialog'\n\nimport { harvest } from '../../service/harvest'\nimport { secondsToContribution } from '../../service/get-current-state'\nimport { BigNumber } from 'ethers'\nimport { getText } from '../../utils/lang'\nconst THRESHOLD_WARNING_UNHARVEST = 3 * 24 * 3600 * 1000\nconst WalletWrapped = React.forwardRef(\n  (\n    props: {\n      useData: any\n      setData: any\n      showLoading: any\n      useWeb3React: any\n    },\n    ref\n  ) => {\n    const [estYieldAccount, setEstYieldAccount] = useState<any>(null)\n    const [lastTimeHarvested, setLastTimeHarvested] = useState(null)\n    const onEstYieldAccount = useCallback((est, lastTimeHarvested) => {\n      setEstYieldAccount(est)\n      setLastTimeHarvested(lastTimeHarvested)\n    }, [])\n    useImperativeHandle(\n      ref,\n      () => ({\n        onEstYieldAccount\n      }),\n      []\n    )\n    return <Wallet {...props} estYieldAccount={estYieldAccount} lastTimeHarvested={lastTimeHarvested} />\n  }\n)\nconst Wallet = ({\n  useData,\n  setData,\n  showLoading,\n  useWeb3React,\n  estYieldAccount,\n  lastTimeHarvested\n}: {\n  useData: any\n  setData: any\n  showLoading: any\n  useWeb3React: any\n  estYieldAccount: any,\n  lastTimeHarvested: any\n}) => {\n  const { library: provider } = useWeb3React()\n  const warningRef = useRef<any>()\n  const {\n    stake,\n    contributionPercent,\n    harvestable,\n    subsidyRate,\n    referralRates,\n    contractABI,\n    contractAddress,\n    lockedSeconds\n  } = useData()\n  const data = useData()\n\n  const calcHarvestable = () => {\n    return harvestable && subsidyRate && referralRates\n      ? weiToNumber(\n        BigNumber.from(harvestable).mul(\n          BigNumber.from(numberToWei(1, 18)) // 100%\n            .sub(subsidyRate) // subsidyRate with decimal = 18\n            .sub(numberToWei(referralRates[0], 9)) // refRate level 1 with decimal = 9\n            .sub(numberToWei(referralRates[1], 9)) // refRate level 2 with decimal = 9\n        ),\n        36\n      )\n      : ''\n  }\n  const calcUnHarvested = ()=>{\n    return estYieldAccount && subsidyRate && referralRates\n      ? weiToNumber(\n        BigNumber.from(numberToWei(estYieldAccount)).mul(\n          BigNumber.from(numberToWei(1, 18)) // 100%\n            .sub(subsidyRate) // subsidyRate with decimal = 18\n            .sub(numberToWei(referralRates[0], 9)) // refRate level 1 with decimal = 9\n            .sub(numberToWei(referralRates[1], 9)) // refRate level 2 with decimal = 9\n        ),\n        36\n      )\n      : '0'\n  }\n  const isShowWarning = useMemo(() => {\n    if (!lastTimeHarvested) return false\n    return new Date().getTime() - lastTimeHarvested > THRESHOLD_WARNING_UNHARVEST\n  }, [lastTimeHarvested])\n  const timeUnHarvested = useMemo(() => {\n    if (!lastTimeHarvested) return false\n    return parseInt((new Date().getTime() - lastTimeHarvested) / 1000 / 3600 / 24 + '')\n  }, [lastTimeHarvested])\n  return (\n    <div className='wallet'>\n      <div className='content'>\n        <div className='info-row'>\n          <span className='text-light'>{getText('deposit')}:</span>\n          {/* text-gradient invisile when use with display:flex */}\n          <span className='text-gradient'>\n            {Number(lockedSeconds) > 0 && <LockIcon className='mr-05' />}\n            <span className='text-weight-5 mr-05'>{weiToNumber(stake)}</span>\n            <span className='font-weight-3'>{getText('usdz')}</span>\n          </span>\n        </div>\n        <div className='info-row'>\n          <span className='text-light'>{getText('contribution')}:</span>\n          <span className='text-gradient'>\n            {contributionPercent\n              ? formatFloat(weiToNumber(contributionPercent), 2) + '%'\n              : ''}\n          </span>\n        </div>\n        <div className='info-row'>\n          <span className='text-light'>{getText('unharvestedEst')}:</span>\n          <span className='text-gradient'>{calcUnHarvested()} LZ</span>\n        </div>\n        {Number(lockedSeconds) > 0 && (\n          <div className='info-row'>\n            <span className='text-light'>{getText('unlocked_in')}:</span>\n            <span className='text-gradient'>\n              {secondsToContribution(lockedSeconds)}\n            </span>\n          </div>\n        )}\n      </div>\n      <div className='harvest'>\n        <div className='harvestable text-weight-3'>\n          <span className='text-white'>{getText('harvestable')}</span>\n          <span className='text-white'>\n            <span className='harvestable-value'>{calcHarvestable()}</span>\n            <span className='currency'>LZ</span>\n          </span>\n        </div>\n        <Button\n          onClick={async () => {\n            const handleHarvest = async () => {\n              showLoading(true)\n              const harvestSuccess = await harvest({\n                provider,\n                contractABI,\n                contractAddress\n              })\n\n              if (harvestSuccess) {\n                setData({\n                  ...data,\n                  harvestable: numberToWei('0')\n                })\n              }\n              showLoading(false)\n            }\n\n            isShowWarning ? warningRef.current?.handleVisible(true, null, handleHarvest) : handleHarvest()\n          }}\n          disabled={\n            harvestable == null ||\n            (harvestable && BigNumber.from(harvestable).isZero())\n          }\n        >\n          {getText('harvest')}\n        </Button>\n        <WarningDialog\n          ref={warningRef}\n          message={getText('unHarvestedEstWarning').replace('%d', timeUnHarvested)}\n        />\n      </div>\n    </div>\n  )\n}\nexport default WalletWrapped\n","import { ethers } from 'ethers'\nimport { toast } from 'react-toastify'\nimport { getText } from '../utils/lang'\n\nexport const harvest = async ({\n  provider,\n  contractABI,\n  contractAddress\n}: {\n  provider: any\n  contractABI: any\n  contractAddress: string\n}) => {\n  try {\n    const signer = provider.getSigner()\n    const SfarmContract = new ethers.Contract(\n      contractAddress,\n      contractABI,\n      signer\n    )\n\n    const txRes = await SfarmContract.functions.harvest(0)\n    await txRes.wait(1)\n    toast.success(getText('harvest_success'))\n    return true\n  } catch (e) {\n    if (e.data && e.data.message) {\n      toast.error(e.data.message)\n    } else {\n      toast.error(e.message || 'Error')\n    }\n    return false\n  }\n}\n","import React, { useMemo } from 'react'\nimport './style.scss'\nimport Button from '../Button'\nimport { formatFloat, weiToNumber } from '../../utils/helpers'\nimport { getText } from '../../utils/lang'\nconst unallocatedIcon =\n  'https://raw.githubusercontent.com/ezDeFi/ezdefi-media/master/usdz-logo/usdz-icon.svg'\n\nexport default ({ useData }: { useData: any }) => {\n  const {\n    fundPlatforms,\n    tokensInfo,\n    fundPlatformUnallocated,\n    contractAddress\n  } = useData()\n\n  const unallocatedTokenInfo = useMemo(() => {\n    if (!fundPlatformUnallocated || !tokensInfo) return []\n    const names = fundPlatformUnallocated.names || []\n    const infos = names.map((name: any) => {\n      const tmp = name.split(',')\n      const logo = tokensInfo.find(\n        (t: any) => t.symbol.toLowerCase() === tmp[0].toLowerCase()\n      )?.logo\n      return {\n        symbol: tmp[0],\n        value: tmp[1],\n        logo,\n        address: tmp[2]\n      }\n    })\n    return infos\n  }, [tokensInfo, fundPlatformUnallocated])\n  return (\n    <div className='fund-map-container'>\n      <div className='title text-gradient font-size-18 font-weight-5'>\n        {getText('fund_map')}\n      </div>\n      <div className='platforms'>\n        {fundPlatforms && tokensInfo\n          ? fundPlatforms.map((fundPlatform: any, key: number) => {\n              const logos = []\n              const names = fundPlatform.names\n              for (const name of names) {\n                const logo = tokensInfo.find(\n                  (t: any) => t.symbol.toLowerCase() === name.toLowerCase()\n                )?.logo\n                logos.push(logo)\n              }\n\n              return (\n                <div className='platform-box' key={key}>\n                  <div className='head'>\n                    <div className='logo-and-name'>\n                      {fundPlatform.icon && (\n                        <img src={fundPlatform.icon} alt='' />\n                      )}\n                      <span>{fundPlatform.label}</span>\n                    </div>\n                    <Button\n                      disabled={!fundPlatform.apePoolAddress}\n                      type='white'\n                      size='large'\n                      className={\n                        fundPlatform.apePoolAddress\n                          ? 'view-on-bscscan-btn'\n                          : 'view-on-bscscan-btn invisible'\n                      }\n                      onClick={() => {\n                        window.open(\n                          'https://bscscan.com/address/' +\n                            fundPlatform.apePoolAddress\n                        )\n                      }}\n                    >\n                      {getText('view_on_bscscan')}\n                    </Button>\n                  </div>\n                  <div className='platform-content'>\n                    <div className='platform-content__row'>\n                      <span className='label'>{getText('fund')}</span>\n                      <span className='value text-light-green'>\n                        {!fundPlatform.fund\n                          ? ''\n                          : formatFloat(weiToNumber(fundPlatform.fund), 2) +\n                            '%'}\n                      </span>\n                    </div>\n                    <div className='platform-content__row'>\n                      <span className='label'>{getText('value')}</span>\n                      <span className='value'>\n                        ${formatFloat(fundPlatform.value, 2)}\n                      </span>\n                    </div>\n                    <div className='platform-content__row'>\n                      <span className='label'>{getText('apy')}</span>\n                      <span className='value text-green-1'>\n                        {!fundPlatform.apy\n                          ? ''\n                          : formatFloat(weiToNumber(fundPlatform.apy), 1) + '%'}\n                      </span>\n                    </div>\n                    <div className='platform-content__row'>\n                      <span className='label'>{getText('quantity')}</span>\n                      <span className='value'>\n                        {formatFloat(\n                          weiToNumber(fundPlatform.depositAmount),\n                          2\n                        )}\n                      </span>\n                    </div>\n                    <div className='platform-content__row'>\n                      <span className='label'>{getText('liquidity')}</span>\n                      <span\n                        className='value token-pair'\n                        onClick={() => {\n                          window.open(\n                            'https://bscscan.com/address/' +\n                              fundPlatform.lpAddress\n                          )\n                        }}\n                      >\n                        <div className='pair-token-logo'>\n                          {logos.map((logo, key) =>\n                            logo ? (\n                              <img\n                                style={\n                                  logos.length > 2\n                                    ? {\n                                        right: (logos.length - key) * 50 + '%',\n                                        position:\n                                          logos.length - 1 !== key\n                                            ? 'absolute'\n                                            : 'relative',\n                                        zIndex: logos.length - key\n                                      }\n                                    : {}\n                                }\n                                src={logo}\n                                alt=''\n                                key={key}\n                              />\n                            ) : null\n                          )}\n                          <span />\n                        </div>\n                        {fundPlatform.names.join(' - ')}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              )\n            })\n          : [1, 2, 3].map((_, key) => (\n              <div className='platform-box' key={key}>\n                <div className='head'>\n                  <div className='logo-and-name'>\n                    <div className='skeleton-loader__bone flex-1' />\n                  </div>\n                  <Button\n                    disabled\n                    type='white'\n                    size='large'\n                    className='view-on-bscscan-btn invisible'\n                  >\n                    {getText('view_on_bscscan')}\n                  </Button>\n                </div>\n                <div className='platform-content'>\n                  <div className='platform-content__row'>\n                    <span className='label flex-1'>{getText('fund')}</span>\n                    <div className='skeleton-loader__bone flex-1' />\n                  </div>\n                  <div className='platform-content__row'>\n                    <span className='label flex-1'>{getText('value')}</span>\n                    <div className='skeleton-loader__bone flex-1' />\n                  </div>\n                  <div className='platform-content__row'>\n                    <span className='label flex-1'>{getText('apy')}</span>\n                    <div className='skeleton-loader__bone flex-1' />\n                  </div>\n                  <div className='platform-content__row'>\n                    <span className='label flex-1'>{getText('quantity')}</span>\n                    <div className='skeleton-loader__bone flex-1' />\n                  </div>\n                  <div className='platform-content__row'>\n                    <span className='label flex-1'>{getText('liquidity')}</span>\n                    <div className='skeleton-loader__bone flex-1' />\n                  </div>\n                </div>\n              </div>\n            ))}\n        {fundPlatformUnallocated && (\n          <div className='platform-box'>\n            <div className='head'>\n              <div\n                style={{\n                  cursor: 'pointer'\n                }}\n                onClick={() => {\n                  window.open(\n                    `https://bscscan.com/tokenholdings?a=${contractAddress}`\n                  )\n                }}\n                className='logo-and-name'\n              >\n                <img src={unallocatedIcon} alt='' />\n                <span>{getText('unallocated')}</span>\n              </div>\n            </div>\n            <div className='platform-content'>\n              <div className='platform-content__row'>\n                <span className='label'>{getText('fund')}</span>\n                <span className='value text-light-green'>\n                  {!fundPlatformUnallocated.fund\n                    ? ''\n                    : formatFloat(\n                        weiToNumber(fundPlatformUnallocated.fund, 18),\n                        1\n                      ) + '%'}\n                </span>\n              </div>\n              <div className='platform-content__row'>\n                <span className='label'>{getText('value')}</span>\n                <span className='value'>\n                  {fundPlatformUnallocated.value\n                    ? '$' + formatFloat(fundPlatformUnallocated.value, 2)\n                    : ''}\n                </span>\n              </div>\n              <div>\n                <span className='value'>\n                  <div className='pair-token-logo'>\n                    <span />\n                  </div>\n                  <div className='pair-token-box'>\n                    {Array.isArray(unallocatedTokenInfo) &&\n                      unallocatedTokenInfo.slice(0, 6).map((tk, index) => {\n                        if (index === 5 && unallocatedTokenInfo.length > 6) {\n                          return (\n                            <div key={index} className='pair-token-item'>\n                              <span>{getText('others')}</span>\n                            </div>\n                          )\n                        }\n                        return (\n                          <div\n                            onClick={() => {\n                              window.open(\n                                `https://bscscan.com/token/${tk.address}?a=${contractAddress}`\n                              )\n                            }}\n                            className='pair-token-item'\n                            style={\n                              index % 2 !== 0\n                                ? { justifyContent: 'flex-end' }\n                                : {}\n                            }\n                            key={index}\n                          >\n                            <span>{`${tk.value}`}</span>\n                            <span className='pair-token-symbol'>{`${tk.symbol}`}</span>\n                            <img\n                              className='pair-token-logo'\n                              src={tk.logo}\n                              alt=''\n                            />\n                          </div>\n                        )\n                      })}\n                  </div>\n                </span>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport Lottie from 'react-lottie'\nimport loadingData from '../../assets/loading-lottie.json'\nimport './style.scss'\n\nexport default ({ visible }: any) => {\n  return (\n    <div className={`sfarm-loading ${visible ? '' : 'hidden'}`}>\n      <div className='overlay' />\n      <div className='loading'>\n        {loadingData && (\n          <Lottie\n            options={{\n              loop: true,\n              autoplay: true,\n              animationData: loadingData,\n              rendererSettings: {\n                preserveAspectRatio: 'xMidYMid slice'\n              }\n            }}\n            width={200}\n            height={200}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useLayoutEffect, useRef, useState } from 'react'\nimport Bank from './components/Bank'\nimport TokenAssets from './components/TokenAssets'\nimport Wallet from './components/Wallet'\nimport Funds from './components/FundMap'\nimport './styles/main.scss'\nimport { fetchData, loadCache } from './service/get-current-state'\nimport { ToastContainer } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport { getText, setLang } from './utils/lang'\nimport Loading from './components/Loading'\nimport { getConfig, setupConfig } from './utils/config'\n\nconst SUPPORTED_CHAIN_IDS = [56]\n\nexport default ({\n  theme,\n  useWeb3React,\n  language,\n  xStorageClient,\n  env\n}: {\n  theme: string\n  useWeb3React: any\n  language?: any\n  xStorageClient: any\n  env: 'production' | 'development'\n}) => {\n  const { active, account, library, chainId } = useWeb3React()\n  const [data, setData] = useState<any>(loadCache(account))\n  const [visibleErrModal, setVisibleErrModal] = useState<boolean>()\n  const [loading, setLoading] = useState<boolean>(false)\n  const walletRef = useRef<any>()\n  const dic = useRef({\n    account: undefined\n  })\n  dic.current.account = account\n  useLayoutEffect(() => {\n    setupConfig(env)\n    fetchData({\n      account: getConfig('ZERO_ADDRESS'),\n      provider: undefined,\n      setData: (data: any) => {\n        if (!dic.current.account) {\n          setData(data)\n        }\n      }\n    })\n  }, [])\n  useLayoutEffect(() => {\n    if (library && chainId != null && SUPPORTED_CHAIN_IDS.includes(chainId)) {\n      // Only fetch data when user is not connect or user connect to network supported\n      fetchData({\n        account,\n        provider: library,\n        setData: (data: any, rememberAccount: string) => {\n          if (rememberAccount === dic.current.account) {\n            setData(data)\n          }\n        }\n      })\n    }\n    setVisibleErrModal(\n      // Show overlay message when user is connect to network unsupported\n      chainId != null && !SUPPORTED_CHAIN_IDS.includes(chainId)\n    )\n  }, [library, account, active, chainId])\n\n  useEffect(() => {\n    setLang(language || 'en')\n  }, [])\n\n  return (\n    <div className={`sfarm-interface ${theme}`}>\n      <div className='sfarm-content'>\n        <div className='bank-container'>\n          <Bank\n            onEstYieldAccount={(est: any, lastTimeHarvested: any) => {\n              // eslint-disable-next-line no-unused-expressions\n              walletRef.current?.onEstYieldAccount(est, lastTimeHarvested)\n            }}\n            useData={() => data}\n          />\n        </div>\n        <div className='wallet-container'>\n          <Wallet\n            ref={walletRef}\n            showLoading={setLoading}\n            useData={() => data}\n            setData={setData}\n            useWeb3React={useWeb3React}\n          />\n        </div>\n        <TokenAssets\n          showLoading={setLoading}\n          useData={() => data}\n          useWeb3React={useWeb3React}\n          setData={setData}\n          xStorageClient={xStorageClient}\n        />\n        <Funds useData={() => data} />\n      </div>\n      <ToastContainer\n        position='top-right'\n        autoClose={5000}\n        closeOnClick\n        rtl={false}\n        draggable\n      />\n      {visibleErrModal && (\n        <div className='wrong-network-popup'>\n          <div className='error-content'>\n            <div className='text-danger'>{getText('connectGuide')}</div>\n          </div>\n        </div>\n      )}\n      <Loading visible={loading} />\n    </div>\n  )\n}\n","/*!\n * Chart.js v3.6.0\n * https://www.chartjs.org\n * (c) 2021 Chart.js Contributors\n * Released under the MIT License\n */\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\nconst requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\nfunction throttled(fn, thisArg, updateFn) {\n  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));\n  let ticking = false;\n  let args = [];\n  return function(...rest) {\n    args = updateArgs(rest);\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, args);\n      });\n    }\n  };\n}\nfunction debounce(fn, delay) {\n  let timeout;\n  return function(...args) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\nconst _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\nconst _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\nconst _textX = (align, left, right, rtl) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\nfunction noop() {}\nconst uid = (function() {\n  let id = 0;\n  return function() {\n    return id++;\n  };\n}());\nfunction isNullOrUndef(value) {\n  return value === null || typeof value === 'undefined';\n}\nfunction isArray(value) {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\nconst isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);\nfunction finiteOrDefault(value, defaultValue) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\nfunction valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : value / dimension;\nconst toDimension = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\nfunction callback(fn, args, thisArg) {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n  let i, len, keys;\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\nfunction _elementsEqual(a0, a1) {\n  let i, ilen, v0, v1;\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction clone$1(source) {\n  if (isArray(source)) {\n    return source.map(clone$1);\n  }\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone$1(source[keys[k]]);\n    }\n    return target;\n  }\n  return source;\n}\nfunction isValidKey(key) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\nfunction _merger(key, target, source, options) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone$1(sval);\n  }\n}\nfunction merge(target, source, options) {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n  if (!isObject(target)) {\n    return target;\n  }\n  options = options || {};\n  const merger = options.merger || _merger;\n  for (let i = 0; i < ilen; ++i) {\n    source = sources[i];\n    if (!isObject(source)) {\n      continue;\n    }\n    const keys = Object.keys(source);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, source, options);\n    }\n  }\n  return target;\n}\nfunction mergeIf(target, source) {\n  return merge(target, source, {merger: _mergerIf});\n}\nfunction _mergerIf(key, target, source) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone$1(sval);\n  }\n}\nfunction _deprecated(scope, value, previous, current) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\nconst emptyString = '';\nconst dot = '.';\nfunction indexOfDotOrLength(key, start) {\n  const idx = key.indexOf(dot, start);\n  return idx === -1 ? key.length : idx;\n}\nfunction resolveObjectKey(obj, key) {\n  if (key === emptyString) {\n    return obj;\n  }\n  let pos = 0;\n  let idx = indexOfDotOrLength(key, pos);\n  while (obj && idx > pos) {\n    obj = obj[key.substr(pos, idx - pos)];\n    pos = idx + 1;\n    idx = indexOfDotOrLength(key, pos);\n  }\n  return obj;\n}\nfunction _capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value) => typeof value !== 'undefined';\nconst isFunction = (value) => typeof value === 'function';\nconst setsEqual = (a, b) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n  return true;\n};\n\nconst PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction niceNum(range) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\nfunction _factorize(value) {\n  const result = [];\n  const sqrt = Math.sqrt(value);\n  let i;\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) {\n    result.push(sqrt);\n  }\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostEquals(x, y, epsilon) {\n  return Math.abs(x - y) < epsilon;\n}\nfunction almostWhole(x, epsilon) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\nfunction _setMinAndMaxByKey(array, target, property) {\n  let i, ilen, value;\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\nfunction toRadians(degrees) {\n  return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n  return radians * (180 / PI);\n}\nfunction _decimalPlaces(x) {\n  if (!isNumberFinite(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n  if (angle < (-0.5 * PI)) {\n    angle += TAU;\n  }\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\nfunction _angleDiff(a, b) {\n  return (a - b + PITAU) % TAU - PI;\n}\nfunction _normalizeAngle(a) {\n  return (a % TAU + TAU) % TAU;\n}\nfunction _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\nfunction _limitValue(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction _int16Range(value) {\n  return _limitValue(value, -32768, 32767);\n}\n\nconst atEdge = (t) => t === 0 || t === 1;\nconst elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\nconst effects = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => -t * (t - 2),\n  easeInOutQuad: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => (t -= 1) * t * t + 1,\n  easeInOutCubic: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => -((t -= 1) * t * t * t - 1),\n  easeInOutQuart: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,\n  easeInOutQuint: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n  easeInSine: t => -Math.cos(t * HALF_PI) + 1,\n  easeOutSine: t => Math.sin(t * HALF_PI),\n  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),\n  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n  easeInOutExpo: t => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),\n  easeInOutCirc: t => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n  easeInOutElastic(t) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n  easeInBack(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n  easeOutBack(t) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n  easeInOutBack(t) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),\n  easeOutBounce(t) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n  easeInOutBounce: t => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n};\n\n/*!\n * @kurkle/color v0.1.9\n * https://github.com/kurkle/color#readme\n * (c) 2020 Jukka Kurkela\n * Released under the MIT License\n */\nconst map = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = '0123456789ABCDEF';\nconst h1 = (b) => hex[b & 0xF];\nconst h2 = (b) => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = (b) => (((b & 0xF0) >> 4) === (b & 0xF));\nfunction isShort(v) {\n\treturn eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\n}\nfunction hexParse(str) {\n\tvar len = str.length;\n\tvar ret;\n\tif (str[0] === '#') {\n\t\tif (len === 4 || len === 5) {\n\t\t\tret = {\n\t\t\t\tr: 255 & map[str[1]] * 17,\n\t\t\t\tg: 255 & map[str[2]] * 17,\n\t\t\t\tb: 255 & map[str[3]] * 17,\n\t\t\t\ta: len === 5 ? map[str[4]] * 17 : 255\n\t\t\t};\n\t\t} else if (len === 7 || len === 9) {\n\t\t\tret = {\n\t\t\t\tr: map[str[1]] << 4 | map[str[2]],\n\t\t\t\tg: map[str[3]] << 4 | map[str[4]],\n\t\t\t\tb: map[str[5]] << 4 | map[str[6]],\n\t\t\t\ta: len === 9 ? (map[str[7]] << 4 | map[str[8]]) : 255\n\t\t\t};\n\t\t}\n\t}\n\treturn ret;\n}\nfunction hexString(v) {\n\tvar f = isShort(v) ? h1 : h2;\n\treturn v\n\t\t? '#' + f(v.r) + f(v.g) + f(v.b) + (v.a < 255 ? f(v.a) : '')\n\t\t: v;\n}\nfunction round(v) {\n\treturn v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n\treturn lim(round(v * 2.55), 0, 255);\n}\nfunction n2b(v) {\n\treturn lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n\treturn lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n\treturn lim(round(v * 100), 0, 100);\n}\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n\tconst m = RGB_RE.exec(str);\n\tlet a = 255;\n\tlet r, g, b;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[7] !== r) {\n\t\tconst v = +m[7];\n\t\ta = 255 & (m[8] ? p2b(v) : v * 255);\n\t}\n\tr = +m[1];\n\tg = +m[3];\n\tb = +m[5];\n\tr = 255 & (m[2] ? p2b(r) : r);\n\tg = 255 & (m[4] ? p2b(g) : g);\n\tb = 255 & (m[6] ? p2b(b) : b);\n\treturn {\n\t\tr: r,\n\t\tg: g,\n\t\tb: b,\n\t\ta: a\n\t};\n}\nfunction rgbString(v) {\n\treturn v && (\n\t\tv.a < 255\n\t\t\t? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n\t\t\t: `rgb(${v.r}, ${v.g}, ${v.b})`\n\t);\n}\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n\tconst a = s * Math.min(l, 1 - l);\n\tconst f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n\treturn [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n\tconst f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n\treturn [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n\tconst rgb = hsl2rgbn(h, 1, 0.5);\n\tlet i;\n\tif (w + b > 1) {\n\t\ti = 1 / (w + b);\n\t\tw *= i;\n\t\tb *= i;\n\t}\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] *= 1 - w - b;\n\t\trgb[i] += w;\n\t}\n\treturn rgb;\n}\nfunction rgb2hsl(v) {\n\tconst range = 255;\n\tconst r = v.r / range;\n\tconst g = v.g / range;\n\tconst b = v.b / range;\n\tconst max = Math.max(r, g, b);\n\tconst min = Math.min(r, g, b);\n\tconst l = (max + min) / 2;\n\tlet h, s, d;\n\tif (max !== min) {\n\t\td = max - min;\n\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\t\th = max === r\n\t\t\t? ((g - b) / d) + (g < b ? 6 : 0)\n\t\t\t: max === g\n\t\t\t\t? (b - r) / d + 2\n\t\t\t\t: (r - g) / d + 4;\n\t\th = h * 60 + 0.5;\n\t}\n\treturn [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n\treturn (\n\t\tArray.isArray(a)\n\t\t\t? f(a[0], a[1], a[2])\n\t\t\t: f(a, b, c)\n\t).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n\treturn calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n\treturn calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n\treturn calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n\treturn (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n\tconst m = HUE_RE.exec(str);\n\tlet a = 255;\n\tlet v;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[5] !== v) {\n\t\ta = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n\t}\n\tconst h = hue(+m[2]);\n\tconst p1 = +m[3] / 100;\n\tconst p2 = +m[4] / 100;\n\tif (m[1] === 'hwb') {\n\t\tv = hwb2rgb(h, p1, p2);\n\t} else if (m[1] === 'hsv') {\n\t\tv = hsv2rgb(h, p1, p2);\n\t} else {\n\t\tv = hsl2rgb(h, p1, p2);\n\t}\n\treturn {\n\t\tr: v[0],\n\t\tg: v[1],\n\t\tb: v[2],\n\t\ta: a\n\t};\n}\nfunction rotate(v, deg) {\n\tvar h = rgb2hsl(v);\n\th[0] = hue(h[0] + deg);\n\th = hsl2rgb(h);\n\tv.r = h[0];\n\tv.g = h[1];\n\tv.b = h[2];\n}\nfunction hslString(v) {\n\tif (!v) {\n\t\treturn;\n\t}\n\tconst a = rgb2hsl(v);\n\tconst h = a[0];\n\tconst s = n2p(a[1]);\n\tconst l = n2p(a[2]);\n\treturn v.a < 255\n\t\t? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n\t\t: `hsl(${h}, ${s}%, ${l}%)`;\n}\nconst map$1 = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n\tconst unpacked = {};\n\tconst keys = Object.keys(names);\n\tconst tkeys = Object.keys(map$1);\n\tlet i, j, k, ok, nk;\n\tfor (i = 0; i < keys.length; i++) {\n\t\tok = nk = keys[i];\n\t\tfor (j = 0; j < tkeys.length; j++) {\n\t\t\tk = tkeys[j];\n\t\t\tnk = nk.replace(k, map$1[k]);\n\t\t}\n\t\tk = parseInt(names[ok], 16);\n\t\tunpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n\t}\n\treturn unpacked;\n}\nlet names$1;\nfunction nameParse(str) {\n\tif (!names$1) {\n\t\tnames$1 = unpack();\n\t\tnames$1.transparent = [0, 0, 0, 0];\n\t}\n\tconst a = names$1[str.toLowerCase()];\n\treturn a && {\n\t\tr: a[0],\n\t\tg: a[1],\n\t\tb: a[2],\n\t\ta: a.length === 4 ? a[3] : 255\n\t};\n}\nfunction modHSL(v, i, ratio) {\n\tif (v) {\n\t\tlet tmp = rgb2hsl(v);\n\t\ttmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n\t\ttmp = hsl2rgb(tmp);\n\t\tv.r = tmp[0];\n\t\tv.g = tmp[1];\n\t\tv.b = tmp[2];\n\t}\n}\nfunction clone(v, proto) {\n\treturn v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n\tvar v = {r: 0, g: 0, b: 0, a: 255};\n\tif (Array.isArray(input)) {\n\t\tif (input.length >= 3) {\n\t\t\tv = {r: input[0], g: input[1], b: input[2], a: 255};\n\t\t\tif (input.length > 3) {\n\t\t\t\tv.a = n2b(input[3]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tv = clone(input, {r: 0, g: 0, b: 0, a: 1});\n\t\tv.a = n2b(v.a);\n\t}\n\treturn v;\n}\nfunction functionParse(str) {\n\tif (str.charAt(0) === 'r') {\n\t\treturn rgbParse(str);\n\t}\n\treturn hueParse(str);\n}\nclass Color {\n\tconstructor(input) {\n\t\tif (input instanceof Color) {\n\t\t\treturn input;\n\t\t}\n\t\tconst type = typeof input;\n\t\tlet v;\n\t\tif (type === 'object') {\n\t\t\tv = fromObject(input);\n\t\t} else if (type === 'string') {\n\t\t\tv = hexParse(input) || nameParse(input) || functionParse(input);\n\t\t}\n\t\tthis._rgb = v;\n\t\tthis._valid = !!v;\n\t}\n\tget valid() {\n\t\treturn this._valid;\n\t}\n\tget rgb() {\n\t\tvar v = clone(this._rgb);\n\t\tif (v) {\n\t\t\tv.a = b2n(v.a);\n\t\t}\n\t\treturn v;\n\t}\n\tset rgb(obj) {\n\t\tthis._rgb = fromObject(obj);\n\t}\n\trgbString() {\n\t\treturn this._valid ? rgbString(this._rgb) : this._rgb;\n\t}\n\thexString() {\n\t\treturn this._valid ? hexString(this._rgb) : this._rgb;\n\t}\n\thslString() {\n\t\treturn this._valid ? hslString(this._rgb) : this._rgb;\n\t}\n\tmix(color, weight) {\n\t\tconst me = this;\n\t\tif (color) {\n\t\t\tconst c1 = me.rgb;\n\t\t\tconst c2 = color.rgb;\n\t\t\tlet w2;\n\t\t\tconst p = weight === w2 ? 0.5 : weight;\n\t\t\tconst w = 2 * p - 1;\n\t\t\tconst a = c1.a - c2.a;\n\t\t\tconst w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\t\tw2 = 1 - w1;\n\t\t\tc1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n\t\t\tc1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n\t\t\tc1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n\t\t\tc1.a = p * c1.a + (1 - p) * c2.a;\n\t\t\tme.rgb = c1;\n\t\t}\n\t\treturn me;\n\t}\n\tclone() {\n\t\treturn new Color(this.rgb);\n\t}\n\talpha(a) {\n\t\tthis._rgb.a = n2b(a);\n\t\treturn this;\n\t}\n\tclearer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 - ratio;\n\t\treturn this;\n\t}\n\tgreyscale() {\n\t\tconst rgb = this._rgb;\n\t\tconst val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n\t\trgb.r = rgb.g = rgb.b = val;\n\t\treturn this;\n\t}\n\topaquer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 + ratio;\n\t\treturn this;\n\t}\n\tnegate() {\n\t\tconst v = this._rgb;\n\t\tv.r = 255 - v.r;\n\t\tv.g = 255 - v.g;\n\t\tv.b = 255 - v.b;\n\t\treturn this;\n\t}\n\tlighten(ratio) {\n\t\tmodHSL(this._rgb, 2, ratio);\n\t\treturn this;\n\t}\n\tdarken(ratio) {\n\t\tmodHSL(this._rgb, 2, -ratio);\n\t\treturn this;\n\t}\n\tsaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, ratio);\n\t\treturn this;\n\t}\n\tdesaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, -ratio);\n\t\treturn this;\n\t}\n\trotate(deg) {\n\t\trotate(this._rgb, deg);\n\t\treturn this;\n\t}\n}\nfunction index_esm(input) {\n\treturn new Color(input);\n}\n\nconst isPatternOrGradient = (value) => value instanceof CanvasGradient || value instanceof CanvasPattern;\nfunction color(value) {\n  return isPatternOrGradient(value) ? value : index_esm(value);\n}\nfunction getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : index_esm(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\nfunction getScope$1(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope$1(root, scope), values);\n  }\n  return merge(getScope$1(root, ''), scope);\n}\nclass Defaults {\n  constructor(_descriptors) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.describe(_descriptors);\n  }\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n  get(scope) {\n    return getScope$1(this, scope);\n  }\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope$1(this, scope);\n    const targetScopeObject = getScope$1(this, targetScope);\n    const privateName = '_' + name;\n    Object.defineProperties(scopeObject, {\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n}\nvar defaults = new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n});\n\nfunction toFontString(font) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\nfunction _measureText(ctx, data, gc, longest, string) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n  ctx.save();\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i, j, jlen, thing, nestedThing;\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n    if (thing !== undefined && thing !== null && isArray(thing) !== true) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n  ctx.restore();\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\nfunction _alignPixel(chart, pixel, width) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\nfunction clearCanvas(canvas, ctx) {\n  ctx = ctx || canvas.getContext('2d');\n  ctx.save();\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n  let type, xOffset, yOffset, size, cornerRadius;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n  ctx.beginPath();\n  switch (style) {\n  default:\n    ctx.arc(x, y, radius, 0, TAU);\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      ctx.rect(x - size, y - size, 2 * size, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\nfunction _isPointInArea(point, area, margin) {\n  margin = margin || 0.5;\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\nfunction clipArea(ctx, area) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\nfunction unclipArea(ctx) {\n  ctx.restore();\n}\nfunction _steppedLineTo(ctx, previous, target, flip, mode) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\nfunction _bezierCurveTo(ctx, previous, target, flip) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\nfunction renderText(ctx, text, x, y, font, opts = {}) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i, line;\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n    y += font.lineHeight;\n  }\n  ctx.restore();\n}\nfunction setRenderOpts(ctx, opts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n  if (opts.strikethrough || opts.underline) {\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\nfunction addRoundedRectPath(ctx, rect) {\n  const {x, y, w, h, radius} = rect;\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n  ctx.lineTo(x + w, y + radius.topRight);\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n  ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\nconst FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\nfunction toLineHeight(value, size) {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n  value = +matches[2];\n  switch (matches[3]) {\n  case 'px':\n    return value;\n  case '%':\n    value /= 100;\n    break;\n  }\n  return size * value;\n}\nconst numberOrZero = v => +v || 0;\nfunction _readValueToProps(value, props) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\nfunction toTRBL(value) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\nfunction toTRBLCorners(value) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\nfunction toPadding(value) {\n  const obj = toTRBL(value);\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n  return obj;\n}\nfunction toFont(options, fallback) {\n  options = options || {};\n  fallback = fallback || defaults.font;\n  let size = valueOrDefault(options.size, fallback.size);\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = '';\n  }\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n  font.string = toFontString(font);\n  return font;\n}\nfunction resolve(inputs, context, index, info) {\n  let cacheable = true;\n  let i, ilen, value;\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\nfunction _addGrace(minmax, grace, beginAtZero) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\nfunction createContext(parentContext, context) {\n  return Object.assign(Object.create(parentContext), context);\n}\n\nfunction _lookup(table, value, cmp) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid;\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n  return {lo, hi};\n}\nconst _lookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] < value);\nconst _rlookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] >= value);\nfunction _filterBetween(values, min, max) {\n  let start = 0;\n  let end = values.length;\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\nfunction listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n        return res;\n      }\n    });\n  });\n}\nfunction unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n  if (listeners.length > 0) {\n    return;\n  }\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n  delete array._chartjs;\n}\nfunction _arrayUnique(items) {\n  const set = new Set();\n  let i, ilen;\n  for (i = 0, ilen = items.length; i < ilen; ++i) {\n    set.add(items[i]);\n  }\n  if (set.size === ilen) {\n    return items;\n  }\n  return Array.from(set);\n}\n\nfunction _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {\n  if (!defined(fallback)) {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: rootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete target._keys;\n      delete scopes[0][prop];\n      return true;\n    },\n    get(target, prop) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n    has(target, prop) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n    set(target, prop, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      storage[prop] = value;\n      delete target[prop];\n      delete target._keys;\n      return true;\n    }\n  });\n}\nfunction _attachContext(proxy, context, subProxy, descriptorDefaults) {\n  const cache = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete proxy[prop];\n      return true;\n    },\n    get(target, prop, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n    set(target, prop, value) {\n      proxy[prop] = value;\n      delete target[prop];\n      return true;\n    }\n  });\n}\nfunction _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\nconst readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters';\nfunction _cached(target, prop, resolve) {\n  if (Object.prototype.hasOwnProperty.call(target, prop)) {\n    return target[prop];\n  }\n  const value = resolve();\n  target[prop] = value;\n  return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop];\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\nfunction _resolveScriptable(prop, value, target, receiver) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  value = value(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (isObject(value)) {\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  if (defined(_context.index) && isIndexable(prop)) {\n    value = value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, scope);\n      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {\n        return fallback;\n      }\n    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {\n      return null;\n    }\n  }\n  return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop);\n  if (key === null) {\n    return false;\n  }\n  if (defined(fallback) && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback);\n  }\n  return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    return value;\n  }\n  return target;\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n  let value;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (defined(value)) {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\nfunction _resolve(key, scopes) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (defined(value)) {\n      return value;\n    }\n  }\n}\nfunction getKeysFromAllScopes(target) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n  const set = new Set();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i) => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n  const fa = t * s01;\n  const fb = t * s12;\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\nfunction monotoneAdjust(points, deltaK, mK) {\n  const pointsLen = points.length;\n  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\nfunction splineCurveMonotone(points, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK = Array(pointsLen).fill(0);\n  const mK = Array(pointsLen);\n  let i, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n      : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n  monotoneAdjust(points, deltaK, mK);\n  monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n  return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\nfunction _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n  let i, ilen, point, controlPoints;\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n\nfunction _isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\nfunction _getParentNode(domNode) {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = parent.host;\n  }\n  return parent;\n}\nfunction parseMaxStyle(styleValue, node, parentProperty) {\n  let valueInPixels;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n    if (styleValue.indexOf('%') !== -1) {\n      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n  return valueInPixels;\n}\nconst getComputedStyle = (element) => window.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n  return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles, style, suffix) {\n  const result = {};\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\nconst useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);\nfunction getCanvasPosition(evt, canvas) {\n  const e = evt.native || evt;\n  const touches = e.touches;\n  const source = touches && touches.length ? touches[0] : e;\n  const {offsetX, offsetY} = source;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\nfunction getRelativePosition(evt, chart) {\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(evt, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\nfunction getContainerSize(canvas, width, height) {\n  let maxWidth, maxHeight;\n  if (width === undefined || height === undefined) {\n    const container = _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect();\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\nconst round1 = v => Math.round(v * 10) / 10;\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    height = round1(width / 2);\n  }\n  return {\n    width,\n    height\n  };\n}\nfunction retinaScale(chart, forceRatio, forceStyle) {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n  chart.height = deviceHeight / pixelRatio;\n  chart.width = deviceWidth / pixelRatio;\n  const canvas = chart.canvas;\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\nconst supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() {\n        passiveSupported = true;\n        return false;\n      }\n    };\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n  }\n  return passiveSupported;\n}());\nfunction readUsedSize(element, property) {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n\nfunction _pointInLine(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\nfunction _steppedInterpolation(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n    : mode === 'after' ? t < 1 ? p1.y : p2.y\n    : t > 0 ? p2.y : p1.y\n  };\n}\nfunction _bezierInterpolation(p1, p2, t, mode) {\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\nfunction formatNumber(num, locale, options) {\n  return getNumberFormat(locale, options).format(num);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\nconst getLeftToRightAdapter = function() {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) {\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) {\n      return x;\n    },\n  };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n  let style, original;\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n    style.setProperty('direction', direction, 'important');\n    ctx.prevTextDirection = original;\n  }\n}\nfunction restoreTextDirection(ctx, original) {\n  if (original !== undefined) {\n    delete ctx.prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: (n, s, e) => n >= Math.min(s, e) && n <= Math.max(e, s),\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  let {start, end, loop} = segment;\n  let i, ilen;\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\nfunction _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n    if (point.skip) {\n      continue;\n    }\n    value = normalize(point[property]);\n    if (value === prevValue) {\n      continue;\n    }\n    inside = between(value, startBound, endBound);\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n  return result;\n}\nfunction _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n  if (loop && !spanGaps) {\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n  while (start < count && points[start].skip) {\n    start++;\n  }\n  start %= count;\n  if (loop) {\n    end += start;\n  }\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n  end %= count;\n  return {start, end};\n}\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n  return result;\n}\nfunction _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n  if (!count) {\n    return [];\n  }\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n  return result;\n}\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\nfunction styleChanged(style, prevStyle) {\n  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);\n}\n\nexport { _alignStartEnd as $, _rlookupByKey as A, toPadding as B, each as C, getMaximumSize as D, _getParentNode as E, readUsedSize as F, throttled as G, HALF_PI as H, supportsEventListenerOptions as I, _isDomSupported as J, log10 as K, _factorize as L, finiteOrDefault as M, callback as N, _addGrace as O, PI as P, toDegrees as Q, _measureText as R, _int16Range as S, TAU as T, _alignPixel as U, clipArea as V, renderText as W, unclipArea as X, toFont as Y, _toLeftRightCenter as Z, _arrayUnique as _, resolve as a, overrides as a0, merge as a1, _capitalize as a2, descriptors as a3, isFunction as a4, _attachContext as a5, _createResolver as a6, _descriptors as a7, mergeIf as a8, uid as a9, distanceBetweenPoints as aA, _setMinAndMaxByKey as aB, niceNum as aC, almostWhole as aD, almostEquals as aE, _decimalPlaces as aF, _longestText as aG, _filterBetween as aH, _lookup as aI, getHoverColor as aJ, clone$1 as aK, _merger as aL, _mergerIf as aM, _deprecated as aN, toFontString as aO, splineCurve as aP, splineCurveMonotone as aQ, getStyle as aR, fontString as aS, toLineHeight as aT, PITAU as aU, INFINITY as aV, RAD_PER_DEG as aW, QUARTER_PI as aX, TWO_THIRDS_PI as aY, _angleDiff as aZ, debounce as aa, retinaScale as ab, clearCanvas as ac, setsEqual as ad, _elementsEqual as ae, getAngleFromPoint as af, _readValueToProps as ag, _updateBezierControlPoints as ah, _computeSegments as ai, _boundSegments as aj, _steppedInterpolation as ak, _bezierInterpolation as al, _pointInLine as am, _steppedLineTo as an, _bezierCurveTo as ao, drawPoint as ap, addRoundedRectPath as aq, toTRBL as ar, toTRBLCorners as as, _boundSegment as at, _normalizeAngle as au, getRtlAdapter as av, overrideTextDirection as aw, _textX as ax, restoreTextDirection as ay, noop as az, isArray as b, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, createContext as h, isObject as i, defined as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, isNumber as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _limitValue as w, _lookupByKey as x, getRelativePosition as y, _isPointInArea as z };\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n"],"sourceRoot":""}